window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.982},{"name":"instream","type":"percent","value":0.991},{"name":"pmp","type":"percent","value":0.982}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"col_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"instream","type":"percent","value":0.999},{"name":"pmp","type":"percent","value":0.98}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"deepintent","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtm","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtmDMX","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"dmdmx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.979},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-TRUSTX-b827d08da2714822","type":"percent","value":0.868},{"name":"G-JW_PLAYER-5f264f85482140ba","type":"percent","value":0.3},{"name":"G-JW_PLAYER-1fcfe69658db461b","type":"percent","value":0.3},{"name":"G-IPONWEB-18f0ed0f628e4e8c","type":"percent","value":0.3},{"name":"G-THRU-Shh-ORCL-W-GLBL-carmichaellynch_pos_subaru","type":"percent","value":0.3},{"name":"G-JW_PLAYER-c7ec6796f8c248be","type":"percent","value":0.3},{"name":"G-JW_PLAYER-d75df48c7e044a0b","type":"percent","value":0.3},{"name":"G-JW_PLAYER-9b5fc203bea44742","type":"percent","value":0.3},{"name":"G-JW_PLAYER-1360328744794826","type":"percent","value":0.3},{"name":"G-JW_PLAYER-b640d1ac2fff46a8","type":"percent","value":0.3},{"name":"G-GOODNET-9ed83eceea7a4e8b","type":"percent","value":0.3}]},{"name":"stickyOutstream","type":"percent","value":0.38}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.993},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":1}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.977},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.955},{"name":"pmp","type":"percent","value":0.986,"deals":[{"name":"136707122019991","type":"percent","value":0.82},{"name":"136707122019993","type":"percent","value":0.88},{"name":"136708142019991","type":"percent","value":0.9},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.84},{"name":"136707162019999","type":"percent","value":0.88},{"name":"136704252018993","type":"percent","value":0.86},{"name":"136703312017993","type":"percent","value":0.9},{"name":"136703312017997","type":"percent","value":0.88},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.94},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.85},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.88},{"name":"136704252018991","type":"percent","value":0.89},{"name":"8209221604","type":"percent","value":0.87},{"name":"136707122019994","type":"percent","value":0.74},{"name":"136708142019992","type":"percent","value":0.8},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.91},{"name":"136704252018994","type":"percent","value":0.92},{"name":"136703312017996","type":"percent","value":0.8},{"name":"136703312017998","type":"percent","value":0.65},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.69},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.74},{"name":"136704252018992","type":"percent","value":0.77},{"name":"136707122019992","type":"percent","value":0.91},{"name":"136703072017996","type":"percent","value":0.83},{"name":"1367071620199910","type":"percent","value":0.86},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.86},{"name":"DMD136703032021992","type":"percent","value":0.92},{"name":"DMD136702172021991","type":"percent","value":0.9},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.89},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.91},{"name":"DMD136704052021992","type":"percent","value":0.77},{"name":"136705172021991","type":"percent","value":0.85},{"name":"136705172021992","type":"percent","value":0.69},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.88},{"name":"136706042019995","type":"percent","value":0.85},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.97},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5},{"name":"140408052022991","type":"flat","value":1},{"name":"140408052022992","type":"flat","value":1},{"name":"140408052022993","type":"flat","value":1},{"name":"140408052022994","type":"flat","value":1},{"name":"PAD136707202020991","type":"percent","value":0.88},{"name":"PAD136707202020992","type":"percent","value":0.8},{"name":"51210172022991","type":"flat","value":1},{"name":"51210172022992","type":"flat","value":1},{"name":"140410122022991","type":"flat","value":1},{"name":"140410122022992","type":"flat","value":1},{"name":"136710202022991","type":"percent","value":0.82},{"name":"136710202022992","type":"percent","value":0.63},{"name":"51211082022991","type":"flat","value":1},{"name":"270111082022991","type":"flat","value":1.5},{"name":"270111082022992","type":"flat","value":1.5},{"name":"270111082022993","type":"flat","value":1},{"name":"270111082022994","type":"flat","value":1}]},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.64},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.975},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"outstream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"oneVideo","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.994},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.47}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":0.993},{"name":"pmp","type":"percent","value":0.99,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.62}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.991,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.546}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.993},{"name":"instream","type":"percent","value":0.989}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.92},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.92,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.49}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.49}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.993},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.67}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.992},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"21ebe.8180e.26d6","type":"flat","value":2},{"name":"153c7.7e28.4b71","type":"flat","value":2},{"name":"1ec46.6201a.8951","type":"flat","value":2},{"name":"21ebe.2503b.b869","type":"flat","value":2},{"name":"449f0.6018b.2301","type":"flat","value":2},{"name":"1e6a0.d1904.ff8e","type":"flat","value":2},{"name":"346d5.7861e.d3dc","type":"flat","value":2},{"name":"346d5.5be26.0870","type":"flat","value":2},{"name":"21ebe.c673f.7d27","type":"flat","value":2},{"name":"1bccb.84e7c.831c","type":"flat","value":2},{"name":"21ebe.9417b.988c","type":"flat","value":2}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.999}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.999}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"telaria","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.977},{"name":"outstream","type":"percent","value":0.5},{"name":"stickyOutstream","type":"percent","value":0.55}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.999},{"name":"instream","type":"percent","value":0.985},{"name":"outstream","type":"percent","value":0.5},{"name":"stickyOutstream","type":"percent","value":0.603}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.935},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98}],"s2s":[],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.739},{"name":"instream","type":"percent","value":0.506},{"name":"outstream","type":"percent","value":0.49}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.42}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.998}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.65},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"33across","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"krgo_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.994},{"name":"instream","type":"percent","value":0.944},{"name":"stickyOutstream","type":"percent","value":0.36}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"opnx_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"brightroll","enabled":true}],"predictiveAnalysis":[{"error_rate":"1.0","chrome":"1","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"rubi_ss","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"rubi_ss","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"rubicon","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"gridvid","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"kargo","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nielsen.com","bidder":"kargo","domain":"nielsen.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"triplelift","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gumgum","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gridvid","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"gridvid","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"kargo","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"wjactv.com","bidder":"ix","domain":"wjactv.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gumgum","domain":"nielsen.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"gumgum","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gumgum","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"gumgum","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"ballysports.com","bidder":"gridvid","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"wjactv.com","bidder":"ix","domain":"wjactv.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"gridvid","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"rubicon","domain":"ballysports.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"triplelift","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"gumgum","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"0","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"1.0","chrome":"1","adomain":"ballysports.com","bidder":"ttd","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9999159805074778","chrome":"1","adomain":"ballysports.com","bidder":"rubicon","domain":"ballysports.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9998815236064215","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9998728867420872","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9998356614626129","chrome":"0","adomain":"sonomacutrer.com","bidder":"col_ss","domain":"sonomacutrer.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9996800853105838","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9996660990350262","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9996534195933456","chrome":"0","adomain":"truthinitiative.org","bidder":"kargo","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9996231534519143","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9996163437559946","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9995987051553011","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9994984954864594","chrome":"0","adomain":"nucala.com","bidder":"rubi_ss","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9994716682076344","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9994670772145903","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9994669225438456","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9994325010014689","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9993607364316308","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9993218806509946","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9992822107907644","chrome":"0","adomain":"mars.com","bidder":"unruly","domain":"mars.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.999277901099195","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9992419935569452","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9991916859122402","chrome":"0","adomain":"truthinitiative.org","bidder":"kargo","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9991765311374163","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9991494723578517","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9991108853042042","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9990453966907086","chrome":"0","adomain":"nielsen.com","bidder":"unruly","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9990450974434655","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9990098356327151","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.998941098610192","chrome":"0","adomain":"truthinitiative.org","bidder":"kargo","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.998834829160762","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9986983121447477","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9986923935576463","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9985796799545498","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9985654512851165","chrome":"0","adomain":"mars.com","bidder":"unruly","domain":"mars.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9985445885154803","chrome":"0","adomain":"truthinitiative.org","bidder":"kargo","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9984420979747274","chrome":"0","adomain":"nielsen.com","bidder":"unruly","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9983854166666667","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9983708327616957","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.998198389147944","chrome":"0","adomain":"nielsen.com","bidder":"unruly","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9979969954932398","chrome":"0","adomain":"nucala.com","bidder":"rubi_ss","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9979048189164921","chrome":"0","adomain":"hm.com","bidder":"yahoossp","domain":"hm.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9976380813953488","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.997226217382371","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9970757067042132","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9970613656006915","chrome":"0","adomain":"nielsen.com","bidder":"unruly","domain":"nielsen.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9969773908838109","chrome":"0","adomain":"andromaco.com","bidder":"col_ss","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9969392216878006","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9968527800442942","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9967939376275139","chrome":"0","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9963941985469559","chrome":"0","adomain":"capitalone.com","bidder":"rubicon","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9960381511371974","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9959191244667037","chrome":"0","adomain":"diageo.com","bidder":"col_ss","domain":"diageo.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9959145775301764","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9957600827300931","chrome":"0","adomain":"andromaco.com","bidder":"col_ss","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9954724409448819","chrome":"1","adomain":"tyson.co.th","bidder":"ix","domain":"tyson.co.th","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9952949692363373","chrome":"0","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9951793005066654","chrome":"0","adomain":"capitalone.com","bidder":"rubi_ss","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9951356610096206","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9950806768988587","chrome":"1","adomain":"tyson.co.th","bidder":"ix","domain":"tyson.co.th","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9949991665277547","chrome":"0","adomain":"unicefusa.org","bidder":"col_ss","domain":"unicefusa.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9947656159125277","chrome":"1","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9947563627062285","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9945787545787546","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9944919838693813","chrome":"0","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9944372334507695","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9944115345926009","chrome":"1","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9942481511914544","chrome":"0","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9939791039489995","chrome":"1","adomain":"andromaco.com","bidder":"col_ss","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9937825912555155","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9937451133698202","chrome":"1","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9935374149659864","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9932402703891844","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9926530612244898","chrome":"0","adomain":"lilly.com","bidder":"col_ss","domain":"lilly.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9923934426229508","chrome":"1","adomain":"capitalone.com","bidder":"rubi_ss","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9923524522028263","chrome":"0","adomain":"unicefusa.org","bidder":"col_ss","domain":"unicefusa.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9923245614035088","chrome":"0","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9913896917148363","chrome":"0","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9901626442812173","chrome":"0","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9900606686459275","chrome":"1","adomain":"novartis.com","bidder":"sharethrough","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9894831730769231","chrome":"0","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9888209799830715","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9883436465678515","chrome":"0","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9876364095123952","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9872958257713249","chrome":"1","adomain":"novartis.com","bidder":"sharethrough","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9872785331685208","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9864375290292615","chrome":"0","adomain":"capitalone.com","bidder":"rubicon","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9860627177700348","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9857658184654382","chrome":"0","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9855072463768116","chrome":"1","adomain":"lilly.com","bidder":"col_ss","domain":"lilly.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9855072463768116","chrome":"0","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.984669705103493","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9845795230410616","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9831035701661365","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9827641136740155","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.982472447218165","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9817073170731707","chrome":"1","adomain":"capitalone.com","bidder":"rubi_ss","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9815715382646532","chrome":"1","adomain":"novartis.com","bidder":"sharethrough","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9808991683991684","chrome":"0","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9805455481214617","chrome":"0","adomain":"lilly.com","bidder":"col_ss","domain":"lilly.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9787336877718704","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9782882011605416","chrome":"0","adomain":"capitalone.com","bidder":"rubi_ss","domain":"capitalone.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9779784678352167","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9779378658262045","chrome":"0","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9774255523535063","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9771674387822634","chrome":"1","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9765013054830287","chrome":"1","adomain":"novartis.com","bidder":"sharethrough","domain":"novartis.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9764462402680595","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9754723837209303","chrome":"0","adomain":"diageo.com","bidder":"col_ss","domain":"diageo.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9748682300817355","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9748128957973518","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.974596559673701","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9744500192975685","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.972753346080306","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9724990035870865","chrome":"1","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9719451818899333","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9703606557377049","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.969683154775473","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9673066221480244","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9665695981362842","chrome":"1","adomain":"dell.com","bidder":"spotx","domain":"dell.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9662456946039035","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9661907106515674","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9657414441951271","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9647420147420147","chrome":"1","adomain":"dell.com","bidder":"spotx","domain":"dell.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9641326773528012","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9632488855061433","chrome":"1","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9568787604145055","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9558631496474276","chrome":"1","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9547118905376758","chrome":"1","adomain":"truthinitiative.org","bidder":"gumgum","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9544528577468578","chrome":"0","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9539807302231237","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubicon","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9529422309864205","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9525182622068435","chrome":"1","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9522066646805976","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9520195838433293","chrome":"0","adomain":"andromaco.com","bidder":"yahoossp","domain":"andromaco.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9518915060670949","chrome":"0","adomain":"hm.com","bidder":"yahoossp","domain":"hm.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9499075965373018","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9486111111111111","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9477179532893564","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9463623215745457","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubicon","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9457643985570344","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9420035149384886","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9412434201166595","chrome":"1","adomain":"bloominbrands.com","bidder":"sharethrough","domain":"bloominbrands.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9402137286993357","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9391517128874388","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubi_ss","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9391127206880941","chrome":"1","adomain":"dell.com","bidder":"spotx","domain":"dell.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.938125665601704","chrome":"1","adomain":"seaboardcorp.com","bidder":"ix","domain":"seaboardcorp.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9360168965088831","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9358836849004886","chrome":"1","adomain":"dell.com","bidder":"spotx","domain":"dell.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9353405725567621","chrome":"0","adomain":"hf-n.dk","bidder":"ix","domain":"hf-n.dk","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9352685803149096","chrome":"0","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9347296639064783","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubi_ss","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9342961434692906","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9335707269155207","chrome":"1","adomain":"redbus.in","bidder":"rubicon","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9334726576105886","chrome":"1","adomain":"redbus.in","bidder":"rubi_ss","domain":"redbus.in","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9302356722013926","chrome":"0","adomain":"tempurpedic.com","bidder":"rubicon","domain":"tempurpedic.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9283953052569287","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubicon","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9254185692541856","chrome":"0","adomain":"lilly.com","bidder":"col_ss","domain":"lilly.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.9238503985285101","chrome":"1","adomain":"truthinitiative.org","bidder":"triplelift","domain":"truthinitiative.org","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9205513268874718","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"0","report_date":"2022-11-26"},{"error_rate":"0.91691018897331","chrome":"0","adomain":"discoverpuertorico.com","bidder":"rubicon","domain":"discoverpuertorico.com","mobile":"1","report_date":"2022-11-26"},{"error_rate":"0.9062677254679523","chrome":"1","adomain":"nucala.com","bidder":"rubicon","domain":"nucala.com","mobile":"1","report_date":"2022-11-26"}],"country":"IN","coreExperiments":[{"variants":[{"weight":94,"value":"b"},{"weight":2,"value":"w"},{"weight":2,"value":"g25"},{"weight":2,"value":"g50"}],"type":"weightedChoice","abgroup":"tcmb","key":"TopCenterMobileBackground"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"delload","key":"EnableDelayLoading"},{"variants":[{"weight":99.5}],"type":"bernoulliTrial","abgroup":"amzn","key":"Amazon"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"pbm","key":"Playbackmethod"},{"variants":[{"weight":0,"value":"all"},{"weight":100,"value":"adx"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"inters","key":"Interstitial"},{"variants":[{"weight":90,"value":"both"},{"weight":9,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"magnitedr","key":"Rubicon"},{"variants":[{"weight":40,"value":"both"},{"weight":20,"value":"client"},{"weight":40,"value":"server"}],"type":"weightedChoice","abgroup":"opnxdr","key":"OpenX"},{"variants":[{"weight":40,"value":"both"},{"weight":20,"value":"client"},{"weight":40,"value":"server"}],"type":"weightedChoice","abgroup":"krgodr","key":"Kargo"},{"variants":[{"weight":99,"value":"none"},{"weight":0,"value":"rubicon"},{"weight":1,"value":"roxot"}],"type":"weightedChoice","abgroup":"pba","key":"Analytics"},{"variants":[{"weight":99,"value":"both"},{"weight":1,"value":"client"},{"weight":0,"value":"server"}],"type":"weightedChoice","abgroup":"tripleliftdr","key":"Triplelift"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"logfltr","key":"LoggerFilter"},{"variants":[{"weight":70,"value":500},{"weight":10,"value":300},{"weight":10,"value":200},{"weight":10,"value":50}],"type":"weightedChoice","abgroup":"deftimer2","key":"DelayLoading"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"wvtls","key":"WebVitals"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglevel","key":"ImpressionLog"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"sens_off","key":"SensOff"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sab","key":"BidLimit"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"jwb","key":"JwBoost"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"logcls","key":"LayoutShift"},{"variants":[{"weight":60,"value":2},{"weight":10,"value":1.25},{"weight":10,"value":1},{"weight":10,"value":0.75},{"weight":10,"value":0.5}],"type":"weightedChoice","abgroup":"lzcvp","key":"ContentMargin"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"confiant","key":"ConfiantRefresh"},{"variants":[{"weight":40,"value":5000,"abvalue":"5s"},{"weight":40,"value":10000,"abvalue":"10s"},{"weight":20,"value":15000,"abvalue":"15s"}],"type":"weightedChoice","abgroup":"vast_to","key":"VastTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"AdDensityExperiment","key":"AdDensity"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"bmetrics","key":"BrandMetrics"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"rebuildslot","key":"RefreshRebuild"},{"variants":[{"weight":0.333}],"type":"bernoulliTrial","abgroup":"NielsenTrackerExperiment","key":"NielsenTracker"},{"variants":[{"weight":50,"value":4},{"weight":20,"value":5},{"weight":20,"value":6},{"weight":10,"value":7}],"type":"weightedChoice","abgroup":"mxrpog","key":"MaxRequests"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"vpred","key":"PredictiveAnalysis"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"vadv","key":"AdvancePlaylist"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"cnfep","key":"ConfiantEndpoint"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"tpcapi","key":"TopicsAPI"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"crtvmon","key":"CreativeMonitoring"},{"variants":[{"weight":0,"value":"fm"},{"weight":3,"value":"rubi"},{"weight":48,"value":"cm"},{"weight":48,"value":"fb"},{"weight":1,"value":"none"}],"type":"weightedChoice","abgroup":"flr","key":"RubiconFloors"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"amzn_hold_load","key":"AmazonHoldLoad"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmos1","key":"OneVideoStream"},{"variants":[{"weight":0,"value":"sovpcc"},{"weight":0,"value":"sovpct1"},{"weight":100,"value":"sovpct2"}],"type":"weightedChoice","abgroup":"socbe","key":"StickyCloseButton"},{"variants":[{"weight":5,"value":900000,"abvalue":"900"},{"weight":5,"value":600000,"abvalue":"600"},{"weight":5,"value":300000,"abvalue":"300"},{"weight":5,"value":-1,"abvalue":"tdoc"},{"weight":80,"value":0}],"type":"weightedChoice","abgroup":"mgtdtw","key":"TearDownPlayer"},{"variants":[{"weight":40,"value":0.75},{"weight":20,"value":0.25},{"weight":20,"value":0.125},{"weight":20,"value":0}],"type":"weightedChoice","abgroup":"lzbpvp","key":"BelowPostMargin"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"amzn_hold_disp","key":"AmazonHoldDisplay"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"dajto","key":"DisableAjaxTimeout"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"smad300","key":"RemoveLargeSidebar"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rvadv_ab1","key":"AdvancePlaylistRelated"},{"variants":[{"weight":5,"value":6000,"abvalue":"6s"},{"weight":75,"value":4000,"abvalue":"4s"},{"weight":15,"value":2000,"abvalue":"2s"},{"weight":5,"value":0,"abvalue":"0s"}],"type":"weightedChoice","abgroup":"cbt","key":"CloseButtonTimeout"},{"variants":[{"weight":20,"value":10000,"abvalue":"10"},{"weight":60,"value":15000,"abvalue":"15"},{"weight":20,"value":20000,"abvalue":"20"}],"type":"weightedChoice","abgroup":"reqTo","key":"JwRequestTimeout"},{"variants":[{"weight":96,"value":0.9,"abvalue":"90"},{"weight":1,"value":0.85,"abvalue":"85"},{"weight":1,"value":0.8,"abvalue":"80"},{"weight":1,"value":0.75,"abvalue":"75"},{"weight":1,"value":0,"abvalue":"off"}],"type":"weightedChoice","abgroup":"vpred_1","key":"PredictiveAnalysis"},{"variants":[{"weight":3}],"type":"bernoulliTrial","abgroup":"LogAdDurationExperiment","key":"LogAdDuration"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"lzhb","key":"LZHB"},{"variants":[{"weight":0,"value":0,"abvalue":"off"},{"weight":0,"value":0.4,"abvalue":"40"},{"weight":0,"value":0.5,"abvalue":"50"},{"weight":100,"value":0.6,"abvalue":"60"},{"weight":0,"value":0.7,"abvalue":"70"}],"type":"weightedChoice","abgroup":"lzflr","key":"LazyLoadFloors"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"LogAdLifeCycleExperiment","key":"LogAdLifeCycle"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sppe50","key":"StickyPlayerPosition"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sospp","key":"StickyOutstreamOnStickyPlayerPages"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sidp","key":"SharedIdPlugin"},{"variants":[{"weight":100,"value":"tlo"}],"type":"weightedChoice","abgroup":"sicb","key":"StickyInstreamCloseButton"},{"variants":[{"weight":0,"value":"strict"},{"weight":100,"value":"relaxed"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"dco","key":"DemandChain"},{"variants":[{"weight":25,"value":100},{"weight":50,"value":200,"abvalue":"off"},{"weight":25,"value":300}],"type":"weightedChoice","abgroup":"s2sbuff","key":"S2SBuffer"},{"variants":[{"weight":85,"value":0},{"weight":5,"value":1},{"weight":5,"value":500},{"weight":5,"value":1000}],"type":"weightedChoice","abgroup":"adt","key":"AuctionDelay"},{"variants":[{"weight":10,"value":1},{"weight":30,"value":1.3},{"weight":30,"value":1.1},{"weight":30,"value":1.2}],"type":"weightedChoice","abgroup":"refflr2","key":"FloorsRefresh"},{"variants":[{"weight":97,"value":1},{"weight":1,"value":1.1},{"weight":1,"value":1.2},{"weight":1,"value":1.3}],"type":"weightedChoice","abgroup":"refvidflr","key":"FloorsInstreamRefresh"},{"variants":[{"weight":33,"value":0},{"weight":33,"value":1},{"weight":34,"value":1.5}],"type":"weightedChoice","abgroup":"socon","key":"SuppressOutreamSlowConnection"},{"variants":[{"weight":0,"value":10000},{"weight":0,"value":15000},{"weight":0,"value":20000},{"weight":100,"value":25000},{"weight":0,"value":30000}],"type":"weightedChoice","abgroup":"cmpto","key":"CMPTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"upl","key":"UserPageDataLogging"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmosnv1","key":"OneVideoStreamNoVideo"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"UserPageDataPrivacyLoggingExperiment","key":"UserPageDataPrivacyLogging"},{"variants":[{"weight":10,"value":2000},{"weight":15,"value":2100},{"weight":50,"value":2200},{"weight":15,"value":2300},{"weight":10,"value":2400}],"type":"weightedChoice","abgroup":"ito_df","key":"InitialTimeoutDesktopFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ds","key":"InitialTimeoutDesktopSlowExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_dn","key":"InitialTimeoutDesktopUnknownExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_mf","key":"InitialTimeoutMobileFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ms","key":"InitialTimeoutMobileSlowExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_mn","key":"InitialTimeoutMobileUnknownExperiment"},{"variants":[{"weight":5,"value":"id5Id"},{"weight":1,"value":"identityLink"},{"weight":1,"value":"unifiedId"},{"weight":1,"value":"sharedId"},{"weight":1,"value":"criteo"},{"weight":5,"value":"connectId"}],"type":"holdout","abgroup":"idho","key":"IDHO"},{"variants":[{"weight":0.5,"value":"ix_ebda"},{"weight":5,"value":"medianet_ebda"},{"weight":1,"value":"openx_ebda"},{"weight":1,"value":"pubmatic_ebda"},{"weight":1,"value":"rhythmone_ebda"},{"weight":6,"value":"rubicon_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":1,"value":"smart_ebda"},{"weight":1,"value":"sonobi_ebda"},{"weight":10,"value":"sovrn_ebda"},{"weight":1,"value":"emx_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":36,"value":"verizon_ebda"},{"weight":10,"value":"yieldmo_ebda"},{"weight":1,"value":"xandr_ebda"}],"type":"holdout","abgroup":"ebho","key":"EBHO"},{"variants":[{"weight":5,"value":"ix_ebda"},{"weight":10,"value":"medianet_ebda"},{"weight":10,"value":"openx_ebda"},{"weight":5,"value":"pubmatic_ebda"},{"weight":5,"value":"rhythmone_ebda"},{"weight":5,"value":"rubicon_ebda"},{"weight":6,"value":"spotx_ebda"},{"weight":5,"value":"telaria_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":1,"value":"verizon_ebda"},{"weight":5,"value":"emx_ebda"},{"weight":5,"value":"sharethrough_ebda"},{"weight":10,"value":"yieldmo_ebda"},{"weight":1,"value":"xandr_ebda"}],"type":"holdout","abgroup":"vebho","key":"VEBHO"},{"variants":[{"weight":1,"value":"ats"},{"weight":1,"value":"conf"},{"weight":1,"value":"hawk"},{"weight":1,"value":"tgtaff"},{"weight":96,"value":"none"}],"type":"weightedChoice","abgroup":"tkho","key":"TKHO"},{"variants":[{"weight":10,"value":"appnexus"},{"weight":1,"value":"colossus"},{"weight":1,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":1,"value":"gridvid"},{"weight":50,"value":"gumgum"},{"weight":0.5,"value":"ix"},{"weight":10,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":1,"value":"sharethrough"},{"weight":1,"value":"spotx"},{"weight":20,"value":"telaria"},{"weight":1,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"unruly"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"kargo"},{"weight":1,"value":"33across"}],"type":"holdout","abgroup":"vbho","key":"VBHO"},{"variants":[{"weight":10,"value":"33across"},{"weight":1,"value":"appnexus"},{"weight":1,"value":"brightroll"},{"weight":10,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":0.5,"value":"grid"},{"weight":1,"value":"gumgum"},{"weight":1,"value":"kargo"},{"weight":0.5,"value":"ix"},{"weight":20,"value":"nativo"},{"weight":1,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":20,"value":"sharethrough"},{"weight":1,"value":"teads"},{"weight":0.5,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"undertone"},{"weight":1,"value":"unruly"},{"weight":1,"value":"verizon"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"yieldmo"}],"type":"holdout","abgroup":"hbho","key":"HBHO"},{"variants":[{"weight":5,"value":"appnexus"},{"weight":90,"value":"grid"},{"weight":50,"value":"gumgum"},{"weight":1,"value":"openx"}],"type":"holdout","abgroup":"pbs2s","key":"S2S"},{"variants":[{"weight":75}],"type":"bernoulliTrial","abgroup":"testCf","key":"TestCloudfrontInvalidation"}]};

    adthrive.branch=adthrive.branch||"main 420b8bb",adthrive.bucket=adthrive.bucket||"flex",adthrive.gdpr="false",adthrive.deployment=adthrive.deployment||"X";var adthrive=function(){"use strict";var e,t,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var s="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=r(e);function r(e,t){return function(i,s){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:s}),t&&t(i,s)}}void 0===s.Reflect?s.Reflect=e:n=r(s.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,s=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",r="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!r&&!o,l={create:r?function(){return se(Object.create(null))}:o?function(){return se({__proto__:null})}:function(){return se({})},has:a?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:a?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,p=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,u=new(c||"function"!=typeof WeakMap?ie():WeakMap);function g(e,t,i,s){if(B(i)){if(!H(e))throw new TypeError;if(!$(t))throw new TypeError;return E(e,t)}if(!H(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(s)&&!B(s)&&!D(s))throw new TypeError;return D(s)&&(s=void 0),k(e,t,i=q(i),s)}function _(e,t){function i(i,s){if(!L(i))throw new TypeError;if(!B(s)&&!W(s))throw new TypeError;M(e,t,i,s)}return i}function m(e,t,i,s){if(!L(i))throw new TypeError;return B(s)||(s=q(s)),M(e,t,i,s)}function y(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),T(e,t,i)}function f(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),P(e,t,i)}function v(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),A(e,t,i)}function b(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),I(e,t,i)}function S(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),O(e,t)}function C(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),z(e,t)}function w(e,t,i){if(!L(t))throw new TypeError;B(i)||(i=q(i));var s=x(t,i,!1);if(B(s))return!1;if(!s.delete(e))return!1;if(s.size>0)return!0;var n=u.get(t);return n.delete(i),n.size>0||u.delete(t),!0}function E(e,t){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t);if(!B(s)&&!D(s)){if(!$(s))throw new TypeError;t=s}}return t}function k(e,t,i,s){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t,i,s);if(!B(r)&&!D(r)){if(!L(r))throw new TypeError;s=r}}return s}function x(e,t,i){var s=u.get(e);if(B(s)){if(!i)return;s=new h,u.set(e,s)}var n=s.get(t);if(B(n)){if(!i)return;n=new h,s.set(t,n)}return n}function T(e,t,i){if(P(e,t,i))return!0;var s=Z(t);return!D(s)&&T(e,s,i)}function P(e,t,i){var s=x(t,i,!1);return!B(s)&&j(s.has(e))}function A(e,t,i){if(P(e,t,i))return I(e,t,i);var s=Z(t);return D(s)?void 0:A(e,s,i)}function I(e,t,i){var s=x(t,i,!1);if(!B(s))return s.get(e)}function M(e,t,i,s){x(i,s,!0).set(e,t)}function O(e,t){var i=z(e,t),s=Z(e);if(null===s)return i;var n=O(s,t);if(n.length<=0)return i;if(i.length<=0)return n;for(var r=new p,o=[],a=0,l=i;a<l.length;a++){var d=l[a];r.has(d)||(r.add(d),o.push(d))}for(var c=0,h=n;c<h.length;c++){d=h[c];r.has(d)||(r.add(d),o.push(d))}return o}function z(e,t){var i=[],s=x(e,t,!1);if(B(s))return i;for(var n=Q(s.keys()),r=0;;){var o=Y(n);if(!o)return i.length=r,i;var a=X(o);try{i[r]=a}catch(e){try{J(n)}finally{throw e}}r++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function D(e){return null===e}function V(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",n=K(e,s);if(void 0!==n){var r=n.call(e,i);if(L(r))throw new TypeError;return r}return N(e,"default"===i?"number":i)}function N(e,t){if("string"===t){var i=e.toString;if(G(i))if(!L(n=i.call(e)))return n;if(G(s=e.valueOf))if(!L(n=s.call(e)))return n}else{var s;if(G(s=e.valueOf))if(!L(n=s.call(e)))return n;var n,r=e.toString;if(G(r))if(!L(n=r.call(e)))return n}throw new TypeError}function j(e){return!!e}function U(e){return""+e}function q(e){var t=F(e,3);return V(t)?t:U(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function G(e){return"function"==typeof e}function $(e){return"function"==typeof e}function W(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var i=e[t];if(null!=i){if(!G(i))throw new TypeError;return i}}function Q(e){var t=K(e,n);if(!G(t))throw new TypeError;var i=t.call(e);if(!L(i))throw new TypeError;return i}function X(e){return e.value}function Y(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var i=e.prototype,s=i&&Object.getPrototypeOf(i);if(null==s||s===Object.prototype)return t;var n=s.constructor;return"function"!=typeof n||n===e?t:n}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[n]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var s=this._keys.length,n=i+1;n<s;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,s)},t.prototype.values=function(){return new i(this._keys,this._values,r)},t.prototype.entries=function(){return new i(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[n]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function s(e,t){return e}function r(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[n]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),s=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=r(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=r(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return r(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=r(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+d()}while(l.has(i,e));return i[e]=!0,e}function r(e,i){if(!t.call(e,s)){if(!i)return;Object.defineProperty(e,s,{value:l.create()})}return e[s]}function o(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function d(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",s=0;s<e;++s){var n=t[s];4!==s&&6!==s&&8!==s||(i+="-"),n<16&&(i+="0"),i+=n.toString(16).toLowerCase()}return i}}function se(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",_),e("defineMetadata",m),e("hasMetadata",y),e("hasOwnMetadata",f),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",S),e("getOwnMetadataKeys",C),e("deleteMetadata",w)}(n)}()}(e||(e={})),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(t||(t={}));var s=t,n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},n(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,n,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var d="injectionTokens";function c(e){return!!e.useClass}function h(e){return!!e.useFactory}var p=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,i=this,s=!1;return new Proxy({},this.createHandler((function(){return s||(t=e(i.wrap()),s=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(i){t[i]=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];t[0]=e();var n=Reflect[i];return n.apply(void 0,l(t))}})),t},e}();function u(e){return"string"==typeof e||"symbol"==typeof e}function g(e){return"object"==typeof e&&"token"in e&&"transform"in e}function _(e){return!!e.useToken}function m(e){return null!=e.useValue}var y=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(y),v=function(){this.scopedResolutions=new Map};function b(e,t,i){var s,n,r=a(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],o=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===r?null:r,t);return s="Cannot inject the dependency "+o+' of "'+e.name+'" constructor. Reason:',void 0===n&&(n="    "),l([s],i.message.split("\n").map((function(e){return n+e}))).join("\n")}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(y),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(y),w=function(){this.preResolution=new S,this.postResolution=new C},E=new Map,k=function(){function e(e){this.parent=e,this._registry=new f,this.interceptors=new w}return e.prototype.register=function(e,t,i){var n;if(void 0===i&&(i={lifecycle:s.Transient}),n=function(e){return c(e)||m(e)||_(e)||h(e)}(t)?t:{useClass:t},_(n))for(var r=[e],o=n;null!=o;){var a=o.useToken;if(r.includes(a))throw new Error("Token registration cycle detected! "+l(r,[a]).join(" -> "));r.push(a);var d=this._registry.get(a);o=d&&_(d.provider)?d.provider:null}if((i.lifecycle===s.Singleton||i.lifecycle==s.ContainerScoped||i.lifecycle==s.ResolutionScoped)&&(m(n)||h(n)))throw new Error('Cannot use lifecycle "'+s[i.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:i}),this},e.prototype.registerType=function(e,t){return u(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(u(e)){if(u(t))return this.register(e,{useToken:t},{lifecycle:s.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:s.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var i=e;return t&&!u(t)&&(i=t),this.register(e,{useClass:i},{lifecycle:s.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new v);var i=this.getRegistration(e);if(!i&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),i){var s=this.resolveRegistration(i,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}if(function(e){return"function"==typeof e||e instanceof p}(e)){s=this.construct(e,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var i,s;if(this.interceptors.preResolution.has(e)){var n=[];try{for(var r=o(this.interceptors.preResolution.getAll(e)),a=r.next();!a.done;a=r.next()){var l=a.value;"Once"!=l.options.frequency&&n.push(l),l.callback(e,t)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}this.interceptors.preResolution.setAll(e,n)}},e.prototype.executePostResolutionInterceptor=function(e,t,i){var s,n;if(this.interceptors.postResolution.has(e)){var r=[];try{for(var a=o(this.interceptors.postResolution.getAll(e)),l=a.next();!l.done;l=a.next()){var d=l.value;"Once"!=d.options.frequency&&r.push(d),d.callback(e,t,i)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}this.interceptors.postResolution.setAll(e,r)}},e.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var i,n=e.options.lifecycle===s.Singleton,r=e.options.lifecycle===s.ContainerScoped,o=n||r;return i=m(e.provider)?e.provider.useValue:_(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):c(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):h(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.set(e,i),i},e.prototype.resolveAll=function(e,t){var i=this;void 0===t&&(t=new v);var s=this.getAllRegistrations(e);if(!s&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),s){var n=s.map((function(e){return i.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,n,"All"),n}var r=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,r,"All"),r},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var i=o(this._registry.entries()),s=i.next();!s.done;s=i.next()){var n=a(s.value,2),r=n[0],l=n[1];this._registry.setAll(r,l.filter((function(e){return!m(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,i,n=new e(this);try{for(var r=o(this._registry.entries()),l=r.next();!l.done;l=r.next()){var d=a(l.value,2),c=d[0],h=d[1];h.some((function(e){return e.options.lifecycle===s.ContainerScoped}))&&n._registry.setAll(c,h.map((function(e){return e.options.lifecycle===s.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:i})},e.prototype.afterResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:i})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var i=this;if(e instanceof p)return e.createProxy((function(e){return i.resolve(e,t)}));var s=E.get(e);if(!s||0===s.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var n=s.map(this.resolveParams(t,e));return new(e.bind.apply(e,l([void 0],n)))},e.prototype.resolveParams=function(e,t){var i=this;return function(s,n){var r,o,a,d;try{return"object"==typeof(d=s)&&"token"in d&&"multiple"in d?g(s)?s.multiple?(r=i.resolve(s.transform)).transform.apply(r,l([i.resolveAll(s.token)],s.transformArgs)):(o=i.resolve(s.transform)).transform.apply(o,l([i.resolve(s.token,e)],s.transformArgs)):s.multiple?i.resolveAll(s.token):i.resolve(s.token,e):g(s)?(a=i.resolve(s.transform,e)).transform.apply(a,l([i.resolve(s.token,e)],s.transformArgs)):i.resolve(s,e)}catch(e){throw new Error(b(t,n,e))}}},e}(),x=new k;function T(e){return t=e,function(e,s,n){var r=Reflect.getOwnMetadata(d,e)||{};r[n]=i?{token:t,transform:i.transformToken,transformArgs:i.args||[]}:t,Reflect.defineMetadata(d,r,e)};var t,i}function P(){return function(e){E.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],i=Reflect.getOwnMetadata(d,e)||{};return Object.keys(i).forEach((function(e){t[+e]=i[e]})),t}(e))}}function A(){return function(e){P()(e),x.registerSingleton(e)}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");function I(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}function M(e,t){return function(i,s){t(i,s,e)}}function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class z{constructor(e){this._wait=e,this._timeouts=new Map}async limit(e){return new Promise((t=>{this._timeouts.has(e)&&window.clearTimeout(this._timeouts.get(e));const i=window.setTimeout((()=>{t()}),this._wait);this._timeouts.set(e,i)}))}}class R{constructor(){this._listeners=new Set,this._emitted=0,this._pastEvents=[]}on(e,t){return this._listeners.add(e),(null==t?void 0:t.handleEventsAlreadyEmitted)&&this._pastEvents.forEach(e),()=>{this.off(e)}}off(e){this._listeners.delete(e)}once(e){const t=this.on(((...i)=>{t(),e(...i)}))}legacyOnce(){return new Promise((e=>{const t=this.on(((...i)=>(t(),e(...i))))}))}async legacyEmit(e){return this._pastEvents.push(e),Promise.all([...this._listeners].map((t=>t(e)))).then((e=>(this._emitted++,e)))}emit(e){this._pastEvents.push(e),[...this._listeners].forEach((t=>t(e))),this._emitted++}clear(){this._listeners.clear()}get count(){return this._listeners.size}get emitted(){return this._emitted}}let B=class{constructor(){this.sending=new R,this.logQueue=[],this.supressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"]]),this.disableLogging=!1,this.queueLogs=!1}init(e){this.logFilter=e.loggerFilters||[],this.siteId=e.siteAds.siteId,this.siteName=e.siteAds.siteName,this.bucket=e.bucket,this.branch=e.branch,this.deployment=e.deployment,this.debug=e.debug}log(e,t,...i){this.call(console.log,e,t,...i)}info(e,t,...i){this.call(console.info,e,t,...i)}warn(e,t,...i){this.call(console.warn,e,t,...i)}error(e,t,...i){this.call(console.error,e,t,...i),this.makeRequest("send","error",e,t,...i).catch((e=>{console.error(e)}))}event(e,t,...i){(this.debug||!this.supressedEventLogNames.has(e)||this.supressedEventLogNames.get(e)!==t)&&this.call(console.log,e,t,...i),this.makeRequest("send","event",e,t,...i).catch((e=>{console.error(e)}))}fetchEvent(e,t,...i){this.call(console.log,e,t,...i),this.makeRequest("fetch","event",e,t,...i).catch((e=>{console.error(e)}))}call(e,t,i,...s){const n=this.logFilter;if(n&&n.length&&n.includes(t))return;const r=[`%c${t}::${i} `],o=["color: #999; font-weight: bold;"];s.length>0&&"string"==typeof s[0]&&r.push(s.shift()),o.push(...s);try{Function.prototype.apply.call(e,console,[r.join(""),...o])}catch(e){return void console.error(e)}}buildRequestUrl(e,t,i,s){const n=`https://logger.adthrive.com/${e}`,r=[`${t}::${i} `];s.length>0&&"string"==typeof s[0]&&r.push(s.shift());const o=s.map((e=>(e&&e.error&&(e=e.error),e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack}),e)));this.data&&o.push(this.data);return`${n}?${[`siteId=${encodeURIComponent(this.siteId||"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(r.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(o))}`].join("&")}`}clearLogQueue(e){this.info("Logger","gdprEnforcement","clearLogQueue",e),e&&this.logQueue.forEach((e=>{"send"===e.action&&this.sendRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{})),"fetch"===e.action&&this.fetchRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{}))})),this.logQueue=[],this.queueLogs=!1}async makeRequest(e,t,i,s,...n){if(this.disableLogging)return this.info("Logger","gdprEnforcement","logging disabled"),Promise.resolve(!1);if(this.queueLogs){const r={action:e,type:t,className:i,methodName:s,args:n};return this.logQueue.push(r),this.info("Logger","gdprEnforcement","log queued"),Promise.resolve(!0)}return"send"===e?this.sendRequest(t,i,s,...n):this.fetchRequest(t,i,s,...n)}async sendRequest(e,t,i,...s){this.sending.emit();const n=this.buildRequestUrl(e,t,i,s);return n.length>8192?this.sendRequest(e,t,i,"Error query too large").catch((e=>{console.error(e)})):new Promise(((e,t)=>{const i=new XMLHttpRequest;i.open("get",n),i.addEventListener("load",(()=>200!==i.status?t(new Error(`Logger send request failed ${i.status}`)):e(i.responseText))),i.addEventListener("error",(()=>t(new Error("Logger send request failed")))),i.send()}))}async fetchRequest(e,t,i,...s){this.sending.emit();const n=this.buildRequestUrl(e,t,i,s);return fetch(n,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};B=I([P()],B);const D=new B,V=(e,t)=>e?"flat"===e.type?t-e.value:e.value*t:t,L=(e,t,i,s)=>{var n;const r=null==s?void 0:s.dealId,o=e.partners.getBidderConfig(i).cpmMap.get("pmp");if(r&&o){const e=null===(n=o.deals)||void 0===n?void 0:n.filter((e=>e.name===r.toString()))[0];return e?"flat"===o.type?V(e,t):o.value*V(e,t):V(o,t)}{const n=((e,t,i)=>{const s=e.video.instreamAdUnits.has(null==i?void 0:i.adUnitCode),n=i.adUnitCode&&i.adUnitCode.includes("Video_StickyOutstream"),r=s?"instream":n?"stickyOutstream":s||n||!("vastUrl"in i)&&!("vastXml"in i)?"default":"outstream";return e.partners.getBidderConfig(t).cpmMap.get(e.partners.getBidderConfig(t).cpmMap.has(r)?r:"default")})(e,i,s);return V(n,t)}},F=navigator.userAgent,N=navigator.vendor,j=e=>/Edge\/|Edg\//.test(e||F),U=e=>/Trident|MSIE/.test(e||F),q=e=>/Opera|OPR/.test(e||F),H=(e,t)=>/Chrom/.test(e||F)&&/Google/.test(t||N)&&!j(e)&&!q(e),G=(e,t)=>/Safari/.test(e||F)&&/Apple Computer/.test(t||N)&&!j(e)&&!q(e),$=(e,t)=>H(e,t)?"Chrome":G(e,t)?"Safari":j(e)?"Edge":(e=>/Firefox/.test(e||F))(e)?"Firefox":q(e)?"Opera":U(e)?"IE":"Others",W=()=>{const e=document.querySelector(".adthrive-footer");let t=52;return e&&"none"===e.style.display?t=102:e&&(t=Math.max(e.getBoundingClientRect().height,t)),t},K=(e,t)=>null==e||e!=e?t:e,Q=e=>new Promise((t=>{setTimeout(t,e)})),X=(e,t)=>{const i=window.innerWidth;return i>=t?"desktop":i>=e?"tablet":"phone"},Y=()=>new Promise((e=>{if("interactive"===document.readyState||"complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",(()=>e()))})),J=e=>{const t=e.offsetHeight,i=e.offsetWidth,s=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,l=r.clientTop||n.clientTop||0,d=r.clientLeft||n.clientLeft||0,c=Math.round(s.top+o-l),h=Math.round(s.left+a-d);return{top:c,left:h,bottom:c+t,right:h+i,width:i,height:t}},Z=e=>(e=>{const t=e.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);return t?t[0]:""})((e=>e.replace(/\s/g,""))(e.toLowerCase())),ee=(e,t,i)=>i.indexOf(e)===t,te=()=>{const e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t},ie=e=>te()&&"Content"===e.location&&1===e.refreshCount?60:80,se=e=>e.refreshCount>0?ie(e):e.viewability?Math.min(10*Math.floor(100*e.viewability/10),80):0,ne=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.json().then((e=>t(e))).catch((()=>i(!1)))})).catch((()=>i(!1)))})),re=(e,t)=>{try{const i={value:t,created:Date.now()};localStorage.setItem(`adthrive_${e.toLowerCase()}`,JSON.stringify(i))}catch(e){}},oe=(e,t,i=!1)=>{try{const s=localStorage.getItem(`adthrive_${e.toLowerCase()}`);if(s){const n=JSON.parse(s),r=void 0!==t&&Date.now()-n.created>=t;if(n&&!r)return i&&re(e,n.value),n.value}}catch(e){}return null},ae=e=>{const t=e.split("."),i=t.length;return i>2&&(e=t[i-2]+"."+t[i-1],2!==t[i-2].length&&3!==t[i-2].length||2!==t[i-1].length||(e=t[i-3]+"."+e)),e},le=()=>{if(document.referrer&&document.referrer.length){const e=(e=>{const t=document.createElement("a");return t.href=e,t.hostname})(document.referrer);if(ae(e)!==ae(window.location.hostname))return e}},de=(e=18e5)=>{const t=oe("referrer",e),i=le();return K(i,t)},ce=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.text().then((e=>{"string"==typeof e?t(e):i("Vast XML not in proper format")})).catch((e=>{i(e)}))})).catch((e=>i(e)))})),he=(e,t=!1,i=!1)=>new Promise(((s,n)=>{const r=document.createElement("script");r.addEventListener("error",(()=>n(new Error(`Failed to import script ${e}`)))),r.addEventListener("load",(()=>s(r))),r.type="text/javascript",r.src=e,r.defer=i,((e,t)=>{const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&!t?i.parentNode.insertBefore(e,i):document.body.appendChild(e)})(r,t)})),pe=["Refresh","PD","Source","Browser","Topic","MCMP","Sens"],ue=(e,t,i=!1)=>{t.addToQueue((()=>{const s=t.getConfig("ix")||{firstPartyData:{}},n={...s.firstPartyData,...e},r={};pe.forEach((e=>{e in n&&(r[e]=n[e])}));for(const e in n)pe.includes(e)||(r[e]=n[e]);s.firstPartyData=r,i&&delete s.firstPartyData.Refresh,t.setConfig({ix:s})}))},ge=e=>e?(e=>{const t={google:"google",facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return e.split(".").filter((e=>t[e]))[0]||"other"})(e):"direct",_e=["Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Content","Native_Recipe_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5"],me=[50,60,70,80],ye=({event:e,ignoreOtherCompanyIds:t=!1})=>{const i=new Set([-1,0,1,199612376,2143809321]),s=new Set([4455444655,4460609902,4463579729,4464180925,4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]),n=!e.campaignId||i.has(e.campaignId),r=!e.companyIds||e.companyIds&&!e.companyIds.some((e=>s.has(e)));return t?n:n&&r},fe=()=>{if(navigator&&navigator.webdriver)return"wdv"},ve=()=>{if(navigator&&navigator.hardwareConcurrency>16)return"hwv"},be=()=>{if(navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent))return"uav"},Se=()=>{const e={width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)};if(e.width>5e3||e.height>5e3)return"vpv"},Ce=()=>{const e=document.createElement("canvas"),t=e.getContext&&e.getContext("webgl"),i=t&&t.getExtension&&t.getExtension("WEBGL_debug_renderer_info");if(i&&i.UNMASKED_RENDERER_WEBGL){if("Google SwiftShader"===(t&&t.getParameter(i.UNMASKED_RENDERER_WEBGL)))return"wglv"}},we=(e=navigator.userAgent)=>/Windows NT|Macintosh/i.test(e),Ee=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),ke=e=>!Ee(e);var xe,Te,Pe,Ae,Ie,Me,Oe,ze,Re;!function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.WebVitals="webvitals",e.Marmalade="marmalade",e.Floors="floors",e.CMP="cmp"}(xe||(xe={})),function(e){e.prebidLoad="prebidLoad",e.amazonLoad="amazonLoad",e.gptLoad="gptLoad",e.rubiconFloors="rubiconFloors"}(Te||(Te={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(Pe||(Pe={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"}(Ae||(Ae={})),function(e){e.StickySekindo="stickySekindo",e.StaticSekindo="staticSekindo",e.None="none"}(Ie||(Ie={})),function(e){e.WEIGHTEDCHOICE="weightedChoice",e.BERNOULLITRIAL="bernoulliTrial"}(Me||(Me={})),function(e){e.INTEGER="integer",e.FLOAT="float",e.BOOLEAN="boolean",e.STRING="string"}(Oe||(Oe={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.ALL="all"}(ze||(ze={})),function(e){e.AdDensity="addensity",e.FooterCloseButton="footerclose",e.Interstitial="interstitial",e.RemoveVideoTitleWrapper="removevideotitlewrapper",e.StickyOutstream="stickyoutstream",e.StickyOutstreamOnStickyPlayer="sospp",e.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp",e.MobileStickyPlayerPosition="mspp"}(Re||(Re={}));const Be=(e,t,i)=>{switch(t){case Re.AdDensity:return((e,t)=>{const i=e.adDensityEnabled,s=e.adDensityLayout.pageOverrides.find((e=>!!document.querySelector(e.pageSelector)&&(e[t].onePerViewport||"number"==typeof e[t].adDensity)));return!i||!s})(e,i);case Re.StickyOutstream:return(e=>{var t,i,s;const n=null===(s=null===(i=null===(t=e.videoPlayers)||void 0===t?void 0:t.partners)||void 0===i?void 0:i.stickyOutstream)||void 0===s?void 0:s.blockedPageSelectors;return!n||!document.querySelector(n)})(e);case Re.Interstitial:return(e=>{const t=e.adOptions.interstitialBlockedPageSelectors||e.adOptions.mobileInterstitialBlockedPageSelectors;return!t||!document.querySelector(t)})(e);default:return!0}},De=(e,t)=>{if(e.length<=1)return 0;if(e.sort(((e,t)=>e-t)),t<=0)return e[0];if(t>=1)return e[e.length-1];const i=t*(e.length+1),s=Math.floor(i)-1,n=s+1,r=Number((i%1).toFixed(1));return i<1?e[0]:n>=e.length?e[s]:e[s]+r*(e[n]-e[s])},Ve=()=>{try{return Math.round(window.performance.now())}catch(e){return 0}},Le=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>parseInt(e,t)/1e5)(e,t)));return{...i,[s]:[...n]}}),{});return i},Fe=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>Math.floor(1e5*e).toString(t))(e,t)));return{...i,[s]:n}}),{});return i},Ne=()=>new Promise((e=>{if("complete"===document.readyState)return e();window.addEventListener("load",(()=>e()))})),je=(e=window.location.search)=>{const t=0===e.indexOf("?")?1:0;return e.slice(t).split("&").reduce(((e,t)=>{const[i,s]=t.split("=");return e.set(i,s),e}),new Map)},Ue=e=>e.split("&").reduce(((e,t)=>{const[i,s]=t&&t.split("=");return i&&s&&(e[i]=s),e}),{}),qe=e=>{const t=RegExp("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)").exec(document.cookie);return t?t.pop():""},He=()=>(new Date).getTimezoneOffset()<(()=>{const e=new Date((new Date).getFullYear(),0,1),t=new Date((new Date).getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())})(),Ge=()=>Date.now(),$e=(e,t)=>{if("Intl"in window){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.some((e=>t===e))}return t.some((e=>(new Date).getTimezoneOffset()===(He()?e-60:e)))},We=()=>$e(["America/Los_Angeles"],[480]),Ke=()=>$e(["Pacific/Auckland"],[-720])||$e(["Pacific/Honolulu"],[600])||$e(["America/Phoenix"],[420])||We(),Qe=e=>void 0!==e,Xe=(e,t)=>!(!e||"object"!=typeof e||!(t in e)),Ye=e=>{const t=window.location.href;return e.some((e=>new RegExp(e,"i").test(t)))},Je=(e,t)=>{if(t)for(const t of pbjs.getUserIdsAsEids())if(t.source&&t.source===e&&t.uids&&t.uids.length>0&&t.uids[0].id)return t.uids[0].id;return null},Ze=e=>{try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return{valid:!1,...e}}},et=e=>""===e?{valid:!0}:Ze(e),tt=["siteId","siteName","adOptions","breakpoints","adUnits"],it=(e,t=tt)=>{if(!e)return!1;for(let i=0;i<t.length;i++)if(!e[t[i]])return!1;return!0},st=(e,t,i,s,n,r)=>{const o=Math.round(r-n),a=[],l=[];a.push("(",i.map((()=>"%o")).join(", "),")"),l.push(...i),void 0!==s&&(a.push(" => %o"),l.push(s)),a.push(` %c(${o}ms)`),l.push("color: #999;")},nt=(e,t,i)=>{const s=void 0!==i.get?i.get:i.value;return function(...i){try{const n=Ve(),r=s.apply(this,i);if(r instanceof Promise)return r.then((e=>{const t=Ve();return st(0,0,i,e,n,t),Promise.resolve(e)})).catch((i=>{throw i.logged||(D.error(e,t,i),i.logged=!0),i}));{const e=Ve();return st(0,0,i,r,n,e),r}}catch(i){throw i.logged||(D.error(e,t,i),i.logged=!0),i}}},rt=(e,t=!1)=>i=>{const s=Object.getOwnPropertyNames(i.prototype).filter((e=>t||0!==e.indexOf("_"))).map((e=>[e,Object.getOwnPropertyDescriptor(i.prototype,e)]));for(const[t,n]of s)void 0!==n&&"function"==typeof n.value?i.prototype[t]=nt(e,t,n):void 0!==n&&void 0!==n.get&&"function"==typeof n.get&&Object.defineProperty(i.prototype,t,{...n,get:nt(e,t,n)})},ot=()=>(e,t,i)=>{const s=i.value;s&&(i.value=function(...e){var t;const i=Array.isArray(this._choices)?(e=>{let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return t>>>0})(JSON.stringify(this._choices)).toString(16):null;const n=this.key?this.key.toLowerCase():"",r=i?`${n}_${i}`:n,o=this.sessionStoragePrefix?`${this.sessionStoragePrefix}-${r}`:r;return!1===(null===(t=oe("branch"))||void 0===t?void 0:t.enabled)&&(e=>{localStorage.removeItem(`adthrive_${e.toLowerCase()}`)})(o),((e,t,i,s=!0,n)=>{const r="abgroup",o=oe(r,i,s);if(null!==o){const t=o[e];if(null!=t)return t}const a=t(),l={...o,[e]:a};return re(r,l),n&&n(),a})(o,(()=>s.apply(this,e)),864e5)})},at="0123456789ABCDEFGHJKMNPQRSTVWXYZ",lt=at.length,dt=Math.pow(2,48)-1,ct=e=>{let t=Math.floor(e()*lt);return t===lt&&(t=lt-1),at.charAt(t)},ht=(e,t)=>{if(isNaN(e))throw new Error(`${e} must be a number`);if(e>dt)throw(e=>{const t=new Error(e);return t.source="ulid",t})(`cannot encode time greater than ${dt}`);let i,s="";for(;t>0;t--)i=e%lt,s=at.charAt(i)+s,e=(e-i)/lt;return s},pt=()=>ht(Date.now(),10)+((e,t)=>{let i="";for(;e>0;e--)i=ct(t)+i;return i})(16,(()=>(()=>{if(window.crypto){const e=new Uint8Array(1);return crypto.getRandomValues(e),e[0]/255}return Math.random()})())),ut=e=>new Promise((t=>setTimeout(t,e)));let gt=class{constructor(){this._map=new Map,this.setAbGroup=!je().has("at_features")}set(e,t){this.setAbGroup&&this._map.set(e,t)}get(e){return this._map.get(e)}get groups(){const e=[];for(const[t,i]of this._map)e.push(`${t}:${i}`);return e}get groupsAsObject(){const e={};for(const t of this._map.keys()){const i=this._map.get(t);i&&(e[t]=i)}return e}};gt=I([A(),O("design:paramtypes",[])],gt);let _t=class extends gt{};_t=I([A()],_t);let mt=class{constructor(){this.adthriveExperimentOverrides=this.getExperimentOverrides()}getExperimentOverrides(){let e={};const t=je().get("at_features");if(t)try{const i=decodeURIComponent(t);e=JSON.parse(i),D.event("ExperimentOverrides","getExperimentOverrides","at_features",e)}catch(e){}return e}hasValidOverride(e,t){if(e in this.adthriveExperimentOverrides){const i=this.adthriveExperimentOverrides[e];return this.isValidExperimentOverride(t,i)}return!1}useOverride(e){return this.adthriveExperimentOverrides[e]}isValidExperimentOverride(e,t){if(0===e.length)return!1;const i=Array.isArray(e[0])?"array":typeof e[0];if("array"===i){if(!Array.isArray(t))return!1;if(t.some((t=>!e.includes(t)))&&t.map((e=>"["+JSON.stringify(e)+"]")).some((t=>!e.map((e=>JSON.stringify(e))).includes(t)))&&!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if("object"===i){if(!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if(!e.includes(t))return!1;return!0}};mt=I([A(),O("design:paramtypes",[])],mt);class yt{constructor(){this.shouldUseCoreExperimentsConfig=!0;const e=this.run.bind(this);this.run=()=>{var t;const i=x.resolve(mt),s=null===(t=this._choices)||void 0===t?void 0:t.map((e=>e.choice));return s&&i.hasValidOverride(this.key,s)?i.useOverride(this.key):e()}}}let ft=class{};ft=I([A()],ft);let vt=class extends ft{constructor(){super(),this.marmaladeResponseLoaded=new R,this.recencyFrequencyDataSet=new R}};vt=I([A(),O("design:paramtypes",[])],vt);let bt=class extends ft{constructor(){super(...arguments),this.targetingReady=new R}};bt=I([A()],bt);let St=class extends ft{constructor(){super(...arguments),this.addSlots=new R,this.requestingBids=new R,this.refreshingBids=new R,this.addPrebidSlotTargeting=new R,this.unobserveBySlotLocation=new R}};St=I([A()],St);let Ct=class extends ft{constructor(){super(...arguments),this.videoPlayerAdded=new R,this.requestingVideoBids=new R,this.addAPStagSlotBidResponse=new R}};Ct=I([A()],Ct);class wt{constructor(){this._siteExperimentEventBus=x.resolve(bt),this._isTargeted=!1}get result(){return this._isTargeted||(this._siteExperimentEventBus.targetingReady.emit(),this._isTargeted=!0),this._result}get enabled(){return void 0!==this.experimentConfig}}class Et extends wt{}let kt=class{constructor(e){var t,i,s;this._adthrive=e,this.siteExperiments=[],this._device=te()?"mobile":"desktop",this.siteExperiments=null!==(s=null===(i=null===(t=this._adthrive.siteAds)||void 0===t?void 0:t.siteExperiments)||void 0===i?void 0:i.filter((e=>{const t=e.key,i=((e,t)=>{if(!e)return!1;const i=!!e.enabled,s=null==e.dateStart||Date.now()>=e.dateStart,n=null==e.dateEnd||Date.now()<=e.dateEnd,r=null===e.selector||""!==e.selector&&!!document.querySelector(e.selector),o="mobile"===e.platform&&"mobile"===t,a="desktop"===e.platform&&"desktop"===t,l=null===e.platform||"all"===e.platform||o||a,d="bernoulliTrial"===e.experimentType?1===e.variants.length:(e=>{const t=e.reduce(((e,t)=>t.weight?t.weight+e:e),0);return e.length>0&&e.every((e=>{const t=e.value,i=e.weight;return!(void 0===t||!i)}))&&100===t})(e.variants);return d||D.error("ValidateSiteExperiment","util","experiment presented invalid choices for key:",e.key),i&&s&&n&&r&&l&&d})(e,this._device),s=Be(this._adthrive.siteAds,t,this._device);return i&&s})))&&void 0!==s?s:[]}getSiteExperimentByKey(e){return this.siteExperiments.filter((t=>t.key.toLowerCase()===e.toLowerCase()))[0]}getVideoPlaylistByType(e){var t,i;return null!==(i=null===(t=this._adthrive.siteAds.videoPlayers)||void 0===t?void 0:t.players.filter((t=>t.type===e)))&&void 0!==i?i:[]}};kt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],kt);class xt{}class Tt extends xt{constructor(e){super(),this._probability=e}get(){if(this._probability<0||this._probability>1)throw new Error("Invalid probability");return Math.random()<this._probability}}class Pt extends xt{constructor(e=[],t){super(),this._choices=e,this._default=t}static fromArray(e,t){return new Pt(e.map((([e,t])=>({choice:e,weight:t}))),t)}addChoice(e,t){this._choices.push({choice:e,weight:t})}get(){const e=(t=0,i=100,Math.random()*(i-t)+t);var t,i;let s=0;for(const{choice:t,weight:i}of this._choices)if(s+=i,s>=e)return t;return this._default}get totalWeight(){return this._choices.reduce(((e,{weight:t})=>e+t),0)}}const At=()=>{try{const e=2500,t=window.localStorage.getItem("__lsv__"),i=t?JSON.parse(decodeURIComponent(t)):[];if(window.innerWidth>=e)return{isError:!1,canDisplay:!1};if(i.length){const e=36e5,t=Ge(),s=i[0];return{isError:!1,canDisplay:t-s>e}}return{isError:!1,canDisplay:!0}}catch(e){return{isError:!0,canDisplay:!1,message:e.message}}};let It=class extends yt{constructor(e,t){super(),this._adthrive=e,this._result="off",this.key="inters",this._choices=[{choice:"all",weight:0},{choice:"adx",weight:100},{choice:"off",weight:0}];const{isError:i,canDisplay:s,message:n}=At();i&&D.error("InterstitialExperiment","canDisplayInterstitial",{message:n}),s&&(te()&&K(this._adthrive.siteAds.adOptions.mobileInterstitial,!1)||!te()&&K(this._adthrive.siteAds.adOptions.desktopInterstitial,!1))&&(this._result=this.run(),t.set(this.key,this._result))}get result(){return this._result}run(){return new Pt(this._choices).get()}};It=I([rt("InterstitialExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,gt])],It);let Mt=class{constructor(){this.consentCaptured=new R}};Mt=I([A()],Mt);let Ot=class{constructor(e){this.cafeMediaVendorId=996,this.nonCompliantBidders=["roundel","yahoossp","colossus"],this.consentCaptured=!1,this.isRequired="true"===e.gdpr}get enabled(){return this.isRequired}};Ot=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ot);let zt=class{constructor(e,t){this._gdprEvents=e,this._gdpr=t,this.DETECTION_WAIT_MS=500,this.DETECTION_ATTEMPTS=10,this._tracker=null,this.readyEvent=new R,this._detectTracker=async()=>{const e=window,t=new Array(this.DETECTION_ATTEMPTS);let i=null;for(let s=0;s<t.length&&(await ut(this.DETECTION_WAIT_MS),e.ga&&"function"==typeof e.ga&&"function"==typeof e.ga.getAll?i=await this._getUniversalTracker():e._gaq&&e._gat&&"function"==typeof e._gat._getTrackers&&(i=await this._getLegacyTracker()),!i);s++);return i},this._hasNecessaryConsent=!this._gdpr.isRequired,this.init()}init(){this._detectTracker().then((e=>{e?(this._tracker=e,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()):this._detectTrackerOnScroll()})).catch((e=>{D.error("GoogleAnalyticsDetector","init","A problem occurred when performing GA tracker detection:",e)})),this._gdprEvents.consentCaptured.on((()=>{this._hasNecessaryConsent=!0,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()}))}_detectTrackerOnScroll(){const e=window,t=()=>{e.removeEventListener("scroll",t),this._detectTracker().then((e=>{this._tracker=e,this._isTrackerDetectedAndReady()?this.readyEvent.emit():D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","GA tracker not detected")})).catch((e=>{D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","A problem occurred when performing GA tracker detection:",e)}))};e.addEventListener("scroll",t)}get ready(){return null!==this._tracker&&this._hasNecessaryConsent}get tracker(){return this._tracker}_getUniversalTracker(){return new Promise((e=>{const t=window;t.ga((()=>{const i=t.ga.getAll().find((e=>void 0!==e.get("trackingId"))),s=i&&i.get("trackingId"),n=i&&i.get("name");e(s&&n?{id:s,name:n,type:"universal"}:null)}))}))}_getLegacyTracker(){return new Promise((e=>{const t=window;t._gaq.push((()=>{const i=t._gat&&t._gat._getTrackers().find((e=>e._getAccount())),s=i&&i._getAccount(),n=i&&i._getName();e(s?{id:s,name:n||"",type:"legacy"}:null)}))}))}_isTrackerDetectedAndReady(){return this.ready&&this._hasNecessaryConsent}};zt=I([rt("GoogleAnalyticsDetector"),A(),O("design:paramtypes",[Mt,Ot])],zt);let Rt=class{constructor(e){this._googleAnalyticsDetector=e,this.GA_EVENT_BURST_LIMIT=10,this.GA_EVENT_PER_SECOND_RATE_LIMIT=2,this.GA_EVENT_SESSION_QUOTA=500,this.GA_EVENT_CATEGORY="Adthrive Experiment",this.GA_EVENT_LABEL_PREFIX="pubab",this._initialEventBurstComplete=!1,this._siteExperimentEventLabels=[],this._tracker=null,this.siteExperimentEventLabelAddedEvent=new R,this._sendInitialEventBurst=async()=>{await this._sendSiteExperimentEvents(),this._initialEventBurstComplete=!0},this._sendSiteExperimentEvents=async()=>{const e=this._siteExperimentEventLabels.filter((e=>!e.sent)),t=this._siteExperimentEventLabels.length-e.length;let i=0;if(this._tracker&&this._tracker.type){t>=this.GA_EVENT_SESSION_QUOTA?D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event quota (${this.GA_EVENT_SESSION_QUOTA} events) has been reached. Events may not send.`):e.length>this.GA_EVENT_BURST_LIMIT&&D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event burst quota (${this.GA_EVENT_BURST_LIMIT} events) has been reached. GA will rate-limit to ${this.GA_EVENT_PER_SECOND_RATE_LIMIT} per second. Some events may not send.`);for(const t of e){const e=i>this.GA_EVENT_BURST_LIMIT?1e3/this.GA_EVENT_PER_SECOND_RATE_LIMIT:0;await ut(e),this._sendSiteExperimentEvent(t),i++}}else D.error("GoogleAnalytics","_sendSiteExperimentEvents","Cannot send Site Experiment events because a tracker was not detected")}}init(){let e;return e=this._googleAnalyticsDetector.ready?this._handleTrackerReady():this._googleAnalyticsDetector.readyEvent.legacyOnce().then(this._handleTrackerReady.bind(this)),this.siteExperimentEventLabelAddedEvent.on((()=>{this._initialEventBurstComplete&&this._sendSiteExperimentEvents().catch((()=>{D.error("GoogleAnalytics","init","A problem occurred while sending GA events")}))})),e}addSiteExperimentEventLabel(e){const t=Array.isArray(e)?e.map((e=>({...e,sent:!1}))):[{...e,sent:!1}];this._siteExperimentEventLabels.push(...t),this.siteExperimentEventLabelAddedEvent.emit()}addPubAbEventLabel(e){this.addSiteExperimentEventLabel(e)}_handleTrackerReady(){return this._tracker=this._googleAnalyticsDetector.tracker,this._sendInitialEventBurst()}_sendSiteExperimentEvent(e){const t=this._tracker?this._tracker.type:null;"gtag"===t?this._sendSiteExperimentGtagEvent(e):"universal"===t?this._sendSiteExperimentUniversalEvent(e):"legacy"===t?this._sendSiteExperimentLegacyEvent(e):D.error("GoogleAnalytics","_sendSiteExperimentEvent","Could not send event because a valid tracker type could not be found"),e.sent=!0}_sendSiteExperimentGtagEvent({label:e,value:t}){const i=window;i.dataLayer&&i.gtag&&i.gtag("event",t,{event_category:this.GA_EVENT_CATEGORY,event_label:this._createPrefixedEventLabel(e),non_interaction:!0})}_sendSiteExperimentUniversalEvent({label:e,value:t}){const i=window,s=this._tracker?this._tracker.name:null;i.ga?s?i.ga(`${s}.send`,{hitType:"event",eventCategory:this.GA_EVENT_CATEGORY,eventAction:t,eventLabel:this._createPrefixedEventLabel(e),nonInteraction:!0}):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event tracker name could not be found"):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event because window.ga is undefined")}_sendSiteExperimentLegacyEvent({label:e,value:t}){const i=window;if(!i._gaq)return;const s={category:this.GA_EVENT_CATEGORY,action:t,label:this._createPrefixedEventLabel(e),value:0,nonInteraction:!0};i._gaq.push(["_trackEvent",s.category,s.action,s.label,s.value,s.nonInteraction])}_createPrefixedEventLabel(e){return`${this.GA_EVENT_LABEL_PREFIX}_${e}`}};I([(e,t,i)=>{const s=i.value;return i.value=function(...e){return s.apply(this,e)},i},O("design:type",Function),O("design:paramtypes",[Object]),O("design:returntype",void 0)],Rt.prototype,"addPubAbEventLabel",null),Rt=I([rt("GoogleAnalytics"),A(),O("design:paramtypes",[zt])],Rt);let Bt=class extends wt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Re.Interstitial;const{isError:s,canDisplay:n,message:r}=At();s&&D.error("InterstitialSiteExperiment","constructor",{message:r}),this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&n&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("InterstitialSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Bt.prototype,"run",null),Bt=I([rt("InterstitialSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],Bt);let Dt=class extends wt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Re.FooterCloseButton,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("RemoveFooterCloseButtonSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Dt.prototype,"run",null),Dt=I([rt("RemoveFooterCloseButtonSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],Dt);let Vt=class{constructor(e,t,i,s){var n;this._interstitialExperiment=t,this._interstitialSiteExperiment=i,this._removeFooterCloseButtonSiteExperiment=s,this.footerCloseButtonMigrated=!1;const{allowSmallerAdSizes:r,footerCloseButton:o,footerCloseButtonMobile:a,footerCloseButtonDesktop:l,footerSelector:d,infiniteScroll:c,infiniteScrollOptions:h,infiniteScrollRefresh:p,pmp:u,targetaff:g,stickyContainerConfig:_}=e.siteAds.adOptions;this.allowSmallerAdSizes=K(r,!0),void 0!==a&&void 0!==l&&(this.footerCloseButtonMigrated=!0);const m=!(!this._interstitialExperiment.result||"off"===this._interstitialExperiment.result),y=this._interstitialSiteExperiment.enabled?this._interstitialSiteExperiment.result:m;if(this.interstitial={gam:y,prebid:!1},this._removeFooterCloseButtonSiteExperiment.enabled){const e=!this._removeFooterCloseButtonSiteExperiment.result;this.footerCloseButton=e,this.footerCloseButtonMobile=e,this.footerCloseButtonDesktop=e}else this.footerCloseButton=K(o,!0),this.footerCloseButtonMobile=K(a,!0),this.footerCloseButtonDesktop=K(l,!0);this.footerSelector=K(d,""),this.pmp=K(u,!0),this.infiniteScroll=K(c,!1),this.infiniteScrollOptions=K(h,{}),this.infiniteScrollRefresh=K(p,!0),this.targetAff=K(g,!1),this.stickyContentEnabled=null===(n=null==_?void 0:_.content)||void 0===n?void 0:n.enabled}};Vt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,It,Bt,Dt])],Vt);let Lt=class{constructor(e){const t=e.siteAds.adTypes||{};this.animatedFooter=K(t.animatedFooter,!0),this.expandableFooter=K(t.expandableFooter,!0),this.interscroller=K(t.interscroller,!0),this.miniscroller=K(t.miniscroller,!0),this.nativeMobileContent=K(t.nativeMobileContent,!0),this.nativeDesktopContent=K(t.nativeDesktopContent,!0),this.nativeDesktopSidebar=K(t.nativeDesktopSidebar,!0),this.nativeDesktopRecipe=K(t.nativeDesktopRecipe,!0),this.nativeMobileRecipe=K(t.nativeMobileRecipe,!0),this.outstreamDesktop=K(t.outstreamDesktop,!0),this.outstreamMobile=K(t.outstreamMobile,!0)}has(e){return this[e]&&!0===this[e]}get enabled(){return Object.keys(this).filter((e=>!0===this[e]))}get enabledMinified(){const e={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter((t=>Object.keys(e).includes(t)&&e[t].val)).map((t=>e[t].min))}get outstreamEnabled(){return te()?!0===this.outstreamMobile:!0===this.outstreamDesktop}};Lt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Lt);let Ft=class{constructor(e){this._validExperiments=this._getValidExperiments(e),this.coreExperiments=this._validExperiments.map((({variants:e,abgroup:t})=>({variants:e,abgroup:t})))}getCoreExperiment(e){const t=this._validExperiments.find((({abgroup:t})=>t===e));return"bernoulliTrial"===(null==t?void 0:t.type)&&(t.variants[0].weight=t.variants[0].weight/100),t}getWeightedChoiceVariants(e){const t=this.getCoreExperiment(e);return t&&"weightedChoice"===t.type?t.variants.map((e=>({choice:e.value,weight:e.weight,...e.abvalue?{abvalue:e.abvalue}:{}}))):null}_getValidExperiments(e=[]){return e.filter((({type:e,variants:t,key:i})=>"weightedChoice"===e?this._isValidWeightedChoice(t,i):"bernoulliTrial"===e&&this._isValidBernoulliTrial(t,i)))}_isValidWeightedChoice(e,t){const i=(e=>{let t=0;return e.forEach((e=>{e.weight&&(t+=e.weight)})),e.length>0&&e.every((e=>!(!e.hasOwnProperty("value")||!e.hasOwnProperty("weight"))))&&100===t})(e);return i||this._invalidExperiment(t),i}_isValidBernoulliTrial(e,t){const i=1===e.length;return i||this._invalidExperiment(t),i}_invalidExperiment(e){D.error("CoreExperimentConfig","_invalidExperiment","Experiment Validation failed for key: ",e)}};Ft=I([A(),M(0,T("CoreExperimentValues")),O("design:paramtypes",[Array])],Ft);let Nt=class extends yt{constructor(e,t,i){super(),this._result=!1,this.key="amzn",this._choices=[{choice:!0},{choice:!1}],this.weight=.995;const s=e.deliveryFeatures,n=i.getCoreExperiment(this.key);s&&s.includes(Te.amazonLoad)||n&&(this.weight=n.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Nt.prototype,"run",null),Nt=I([rt("AmazonExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,gt,Ft])],Nt);let jt=class extends yt{constructor(e,t){super(),this._result=!1,this.key="wvtls",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this.result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};jt=I([rt("WebVitalsExperiment"),A(),O("design:paramtypes",[gt,Ft])],jt);let Ut=class{constructor(e,t,i){this.bootstrapResult=new Map,this.bootstrapLoaders={},this.webVitalsEnabled=i.result,this.gptLibFailed=!1,this.liveRamp=K(e.siteAds.adOptions.liveRamp,!0),this.liveRampId=K(e.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df");const s=e&&e.core&&e.core.country;36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df"),"FR"!==s&&"DE"!==s||(this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe"),this._baseUrl=e.baseUrl,this._targetPath=e.targetPath||"/es2018";const n=e.deliveryFeatures;this.isAmazonPreloaded=!(!n||!n.includes(Te.amazonLoad)),this.isGPTPreloaded=!(!n||!n.includes(Te.gptLoad)),this.isPrebidPreloaded=!(!n||!n.includes(Te.prebidLoad)),this.amazonEnabled=t.result||this.isAmazonPreloaded,this.isGDPR="true"===e.gdpr}get baseUrl(){return this._baseUrl}get targetPath(){return this._targetPath}};Ut=I([rt("BootstrapConfig"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Nt,jt])],Ut);let qt=class extends yt{constructor(e,t){super(),this._result=!1,this.key="amzn_hold_load",this._choices=[{choice:!0},{choice:!1}],this.weight=0;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],qt.prototype,"run",null),qt=I([rt("AmazonLibraryExperiment"),A(),O("design:paramtypes",[gt,Ft])],qt);let Ht=class{constructor(e,t,i){this.adthrive=e,this._bootstrapConfig=t,this._waitForAmazon=i,this.type=xe.Amazon,this.wait=!1,this._url="https://c.amazon-adsystem.com/aax2/apstag.js",this.wait=this._waitForAmazon.result}async load(){return this._bootstrapConfig.amazonEnabled&&this.adthrive.siteAds.adOptions.amazonUAM?(this.init(),this._bootstrapConfig.isAmazonPreloaded?Promise.resolve(!0):he(this._url)):Promise.resolve(!1)}init(){if(window.apstag)return;const e=(e,t)=>{window.apstag._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]}}};Ht=I([rt("AmazonBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ut,qt])],Ht);let Gt=class{constructor(e,{isGPTPreloaded:t}){this._adthrive=e,this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js",this._isGPTPreloaded=t}async load(){return this._isGPTPreloaded?Promise.resolve(!0):(this.init(),he(this._url))}init(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]}};Gt=I([rt("GAMBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ut])],Gt);let $t=class{constructor(e){this._eventBus=e,this._marmaladeFinishedTimeout=3e3}async get(){if(window.adthrive.marmalade){const e=await window.adthrive.marmalade;return this._eventBus.marmaladeResponseLoaded.emit(e),e}const e=new Promise((e=>{window.adthrive.marmaladeFinished=e})).then((e=>(this._eventBus.marmaladeResponseLoaded.emit(e),e))),t=new Promise((e=>{const t=setTimeout((()=>{clearTimeout(t),e({})}),this._marmaladeFinishedTimeout)}));return Promise.race([e,t])}};$t=I([rt("MarmaladeBootstrap"),P(),O("design:paramtypes",[vt])],$t);let Wt=class{constructor({baseUrl:e,targetPath:t,isPrebidPreloaded:i}){this.type=xe.Prebid,this.wait=!1,this._url=`${e}/vendor/prebid${t}/prebid.min.js`,this._isPrebidPreloaded=i}async load(){return this.init(),this._isPrebidPreloaded?"preloaded":await he(this._url)}init(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}};Wt=I([rt("PrebidBootstrap"),P(),O("design:paramtypes",[Ut])],Wt);const Kt="You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }";let Qt=class extends yt{constructor(e,t){if(super(),this.abgroup=e,this._coreExperimentConfig=t,this._setAbGroup=!0,this.init(),!this.isEnabled())return;const i=this._choices;if(i){this._result=this.run();const e=i.filter((({choice:e})=>e===this._result))[0],t=e&&e.abvalue||this._result;this._setAbGroup&&void 0!==t&&this.abgroup.set(this.key,String(t))}}get _choices(){const e=this._coreExperimentConfig.getWeightedChoiceVariants(this.key);return!e||e.length,e}get key(){if(!this._key)throw new Error(Kt);return this._key}init(){throw new Error(Kt)}get result(){return this._result}isEnabled(){return!this.shouldUseCoreExperimentsConfig||this._coreExperimentConfig.getCoreExperiment(this.key)}run(){if(this._choices)return new Pt(this._choices).get()}};Qt=I([M(0,T(gt)),M(1,T(Ft)),O("design:paramtypes",[gt,Ft])],Qt);let Xt=class extends Qt{init(){this._key="lzflr"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Xt.prototype,"run",null),Xt=I([rt("LazyLoadFloorsExperiment"),A()],Xt);let Yt=class extends Qt{init(){this._key="flr"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Yt.prototype,"run",null),Yt=I([rt("FloorsExperiment"),A()],Yt);let Jt=class extends yt{constructor(e){super(),this._abgroup=e,this._choices=[{choice:0,weight:40},{choice:500,weight:12},{choice:1500,weight:12},{choice:2e3,weight:12},{choice:3500,weight:12},{choice:5e3,weight:12}],this.key="flrdt",this._result=this.run(),this._abgroup.set(this.key,0===this._result?"none":`${this._result}`)}get result(){return this._result}run(){return new Pt(this._choices).get()}};Jt=I([rt("DelayAuctionExperiment"),A(),O("design:paramtypes",[gt])],Jt);let Zt=class extends yt{constructor(e){super(),this._abgroup=e,this._choices=[{choice:.4,weight:20},{choice:.6,weight:20},{choice:.8,weight:20},{choice:0,weight:40}],this.key="fpvflr",this._result=this.run(),this._abgroup.set(this.key,0===this._result?"none":""+100*this._result)}get result(){return this._result}run(){return new Pt(this._choices).get()}};Zt=I([rt("FPVNonLazyFloorsExperiment"),A(),O("design:paramtypes",[gt])],Zt);let ei=class{constructor(e,t,i){this._adthrive=e,this._floorsExperiment=t,this.abGroup=i,this._result={rubicon:!1,legacy:!1,fallback:!1,fm:!1,cm:!1,delay:0,percentile:{lazy:0,fpvNonLazy:0}},this.run()}get result(){return this._result}_enableRubiconFloors(){this._result.rubicon=!0}_enableLegacyFloors(){this._result.legacy=!0,this._result.percentile.lazy=x.resolve(Xt).result||0}_canEnableFPVNonLazy(){return(!0===oe("session_fpv")||null===oe("session_fpv"))&&Boolean(this._result.delay)}_enableFPVNonLazy(){this._result.percentile.fpvNonLazy=new Zt(this.abGroup).result}_setExpResults({cm:e,fallback:t,floorMin:i,delay:s}){const n=this._result;e&&(n.cm=e),t&&(n.fallback=t),i&&(n.fm=i),s&&(n.delay=s)}run(){const e=new Jt(this.abGroup).result,t=this._floorsExperiment.result,i="fb"===t,s="fm"===t,n="rubi"===t,r="cm"===t,o=i||s;this._setExpResults({cm:r,fallback:i,floorMin:s,delay:e}),(r||o)&&(this._canEnableFPVNonLazy()&&this._enableFPVNonLazy(),this._enableLegacyFloors()),(n||o)&&this._enableRubiconFloors()}};var ti;ei=I([rt("FloorsExperimentHandler"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Yt,gt])],ei),function(e){e.fpvNonLazy="fpvNonLazy",e.lazy="lazy",e.refresh="refresh",e.session="session",e.crossDomain="crossdomain",e.highSequence="highsequence"}(ti||(ti={}));let ii=class{constructor(e){this._enabledFloorsExperiments=e,this.fpvNonLazySlotLocations=["Content"],this.fpvExcludes={Content:[2]},this.delayedBids={},this.floorsDataReady=new R,this._cmFloorsConfig={},this._cmPriority=[ti.refresh,ti.fpvNonLazy,ti.lazy,ti.session],this._establishedFloorsTypes={}}saveFloorConfig(e,t,i){this._establishedFloorsTypes[e]=t,this._cmFloorsConfig[e]=i}clearFloorConfig(e){this._establishedFloorsTypes[e]&&(delete this._establishedFloorsTypes[e],delete this._cmFloorsConfig[e])}get floorsExperiment(){return this._enabledFloorsExperiments.result}get establishedFloorsTypes(){return this._establishedFloorsTypes}get cmFloorsConfig(){return this._cmFloorsConfig}get cmPriority(){return this._cmPriority}isFPVNonLazySlot(e){const{location:t,sequence:i}=e,s=this.fpvNonLazySlotLocations.includes(t),n=i&&1===i,r=i&&this.fpvExcludes[t]&&this.fpvExcludes[t].includes(i);return!e.lazy&&s&&!n&&!r}};ii=I([A(),O("design:paramtypes",[ei])],ii);let si=class{constructor(e,t){this._adthrive=e,this._floorsConfig=t,this._floorsFinishedTimeout=3e3}resolveFloorsData(e){return Promise.resolve(e).then((e=>(this._floorsConfig.floorsData=e,this._floorsConfig.floorsDataReady.emit(),e)))}async get(){const e=this._adthrive.deliveryFeatures;if(!e||!e.includes(Te.rubiconFloors)||!this._floorsConfig.floorsExperiment.rubicon)return Promise.resolve({});const t=window.adthrive.floors;if(t)return this.resolveFloorsData(t);const i=new Promise((e=>{window.adthrive.rubiconFloorsFinished=e})),s=new Promise((e=>{setTimeout((()=>{e({})}),this._floorsFinishedTimeout)}));return Promise.race([i,s]).then((()=>this.resolveFloorsData(window.adthrive.floors)))}};si=I([rt("FloorsBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ii])],si);let ni=class{constructor(e){this._bootstrapConfig=e,this._url="https://unpkg.com/web-vitals@2.0.1/dist/web-vitals.umd.js"}load(){return this._bootstrapConfig.webVitalsEnabled?this.import():Promise.resolve(!0)}async import(){return await he(this._url,!1,!0)}};ni=I([rt("WebVitalsBootstrap"),P(),O("design:paramtypes",[Ut])],ni);let ri=class{constructor(e,t){this.bootstrapConfig=e,this.eventBus=t,this._frame=document.createElement("iframe"),t.marmaladeResponseLoaded.on((e=>{const t=e.recencyFrequency;t&&this.addIframeToPage().then((()=>{D.event("RecencyAndFrequncyIFrameManager","recencyFrequencyIframeAdded"),this.setMcmpData(t)}))}))}get recencyFrequencyIframeLocation(){return`${this.bootstrapConfig.baseUrl}/html/rnf.html`}addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.recencyFrequencyIframeLocation,this._frame.id="adthrive-mcmp",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("RecencyAndFrequncyIFrameManager","addIframeToPage","Failed to append rnf iframe to document",e)}return t}setMcmpData(e){try{if(this._frame.contentWindow){const t=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(e=>{const i=e.data,s=i.message;e.origin===t&&"mcmpDataResponse"===s&&this.eventBus.recencyFrequencyDataSet.emit(i.mcmpData)})),this._frame.contentWindow.postMessage({message:"setMcmpData",mcmpData:e},t)}}catch(e){D.error("RecencyAndFrequncyIFrameManager","setMcmpData","Failed to set mcmp data",e)}}};ri=I([rt("RecencyAndFrequncyIFrameManager"),A(),O("design:paramtypes",[Ut,vt])],ri);let oi=class extends ft{constructor(){super(...arguments),this.libraryLoadFailed=new R}};oi=I([A()],oi);let ai=class{constructor(e,t,i,s,n,r,o,a){this._bootstrapConfig=e,this._bootstrapEventBus=t,this._amazon=i,this._gam=s,this._marmalade=n,this._prebid=r,this._floors=o,this._webVitals=a,x.resolve(ri)}async run(){const e=this._run((()=>this._floors.get()),xe.Floors);let t,i;return this.loadNonBlockingLibraries(),Promise.all([this._run((()=>this._gam.load()),xe.GAM,{required:!0}).catch((e=>this.gamFallback(e&&e.result,t,i))),i=this._run((()=>this._marmalade.get()),xe.Marmalade),e,this._run((()=>(t=this._webVitals.load(),t)),xe.WebVitals),Y()]).then((([e,t,i,s])=>({gam:e,marmalade:t,floors:i,webvitals:s})))}loadNonBlockingLibraries(){[this._prebid,this._amazon].forEach((e=>{this._run((()=>this._bootstrapConfig.bootstrapLoaders[e.type]=e.load().catch((t=>{throw this._bootstrapEventBus.libraryLoadFailed.emit({bootstrapType:e.type}),new Error(t)}))),e.type,{wait:e.wait}).catch((()=>!1))}))}gamFallback(e,t,i){return this._bootstrapConfig.gptLibFailed=!0,this._bootstrapConfig.webVitalsEnabled||(this._bootstrapConfig.webVitalsEnabled=!0,t=this._webVitals.load()),t.then((()=>i.then((t=>Promise.reject({message:e,marmalade:t})))))}_run(e,t,{required:i=!1,wait:s=!0}={}){const n=Ve(),r=e=>{const i=Ve(),s={result:e,started:n,finished:i,duration:i-n};return this._bootstrapConfig.bootstrapResult.set(t,s),s},o=e().then(r,(e=>(D.error("Bootstrap","_start error",t,e),i?Promise.reject(r(e.message)):r(e.message))));return s?o:Promise.resolve(r(!0))}};ai=I([P(),O("design:paramtypes",[Ut,oi,Ht,Gt,$t,Wt,si,ni])],ai);let li=class{constructor(e,t){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b",this.adUnitExclusions=new Set(["Interstitial"]);const i=t.amazonEnabled;this.enabled=i&&!0===e.siteAds.adOptions.amazonUAM}};li=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ut])],li);let di=class{constructor(){this.nonCompliantBidders=["unruly"],this.ccpaNotApplicable="1---",this.ccpaOptIn="1YNY",this.ccpaOptOut="1YYY",this.required=We(),this.consentChange=new R,this.required=We(),this.privacyString=qe("usprivacy"),this.gpcEnabled=localStorage.getItem("adthrive_gpc"),this.userOptedOut=this.privacyString===this.ccpaOptOut,this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this.required&&this.userOptedOut}};di=I([A(),O("design:paramtypes",[])],di);class ci{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&it(this._clsGlobalData.siteAds)}get error(){return!(!this._clsGlobalData||!this._clsGlobalData.error)}set siteAds(e){this._clsGlobalData.siteAds=e}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(e){this._clsGlobalData.disableAds=e}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(e){this._clsGlobalData.enabledLocations=e}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(e){this._clsGlobalData.injectedFromPlugin=e}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(e){this._clsGlobalData.injectedFromSiteAds=e}overwriteInjectedSlots(e){this._clsGlobalData.injectedSlots=e}setInjectedSlots(e){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[],this._clsGlobalData.injectedSlots.push(e)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(e){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[],this._clsGlobalData.injectedVideoSlots.push(e)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(e,t,i=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{},this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(i?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[e]=t}getExperiment(e,t=!1){const i=t?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments;return i&&i[e]}setWeightedChoiceExperiment(e,t,i=!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{},this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{};(i?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[e]=t}getWeightedChoiceExperiment(e,t=!1){var i,s;const n=t?null===(i=this._clsGlobalData)||void 0===i?void 0:i.siteExperimentsWeightedChoice:null===(s=this._clsGlobalData)||void 0===s?void 0:s.experimentsWeightedChoice;return n&&n[e]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(e){this._clsGlobalData.videoDisabledFromPlugin=e}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(e){this._clsGlobalData.targetDensityLog=e}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}}const hi=()=>{((e,t)=>{var i;const s=e||navigator.userAgent,n=t||navigator.vendor;if(!G(s,n))return!1;const r=(null===(i=/ Version\/(1\d)\.(\d+)/.exec(s))||void 0===i?void 0:i.slice(-2))||[],o="14"===r[0],a="15"===r[0]&&+r[1]<4;return o||a})()&&window.addEventListener("beforeunload",(()=>{window.addEventListener("visibilitychange",(e=>{e.stopImmediatePropagation()}),!0)}),!0)};let pi=class{constructor(){this.beforeUnload=new R,this.pageHide=new R,this.resize=new R,this.scroll=new R,this.visibilityChange=new R,this.addEventListener("beforeunload",this.beforeUnload),this.addEventListener("pagehide",this.pageHide),this.addEventListener("resize",this.resize),this.addEventListener("scroll",this.scroll),this.addEventListener("visibilitychange",this.visibilityChange,document),hi()}setupOnceEvent(e,t,i=window){const s=()=>{i.removeEventListener(e,s),t()};i.addEventListener(e,s)}setupOnceEventWithPromise(e,t=window){return new Promise((i=>{const s=n=>(t.removeEventListener(e,s),i(n));t.addEventListener(e,s)}))}addEventListener(e,t,i=window){i.addEventListener(e,(()=>{t.emit()}),!1)}};pi=I([rt("PageManager"),A(),O("design:paramtypes",[])],pi);let ui=class{constructor(e){this.connectionTargeting=[];const{bucket:t,plugin:i,branch:s,debug:n,deployment:r,baseUrl:o,fastAds:a,siteAds:l,styleUrl:d,invalidTraffic:c,integration:h,deliveryVersion:p}=e,{tablet:u,desktop:g}=l.breakpoints;this.baseUrl=o,this.branch=s,this.bucket=t,this.plugin=i,this.fastAds=a,this.invalidTraffic=c,this.deployment=r,this.domain=window.location.host,this.device=X(u,g),this.pageUrl=window.location.href,this.pageviewKey=pt(),this.querystring=je(),this.sessionKey=((e,t,i,s=!0,n)=>{const r=oe(e,i,s);if(null!==r)return r;const o=t();return re(e,o),n&&n(o),o})("session_key",(()=>pt()),864e5,!0,(e=>{localStorage.removeItem("adthrive_fpv"),(e=>{const t=qe("_ga"),i=qe("_gid");t||i?D.event("Context","sessionLogger",{gaCookie:t,gidCookie:i,sessionId:e,ua:navigator.userAgent}):x.resolve(pi).beforeUnload.on((()=>{D.event("Context","sessionLogger",{gaCookie:qe("_ga"),gidCookie:qe("_gid"),sessionId:e,ua:navigator.userAgent})}))})(e)})),this.styleUrl=d,this.debug=n,this.integration=h,this.deliveryVersion=p,this.fledgeSupported=!!navigator.runAdAuction;const _=window.performance.getEntriesByType("resource").filter((e=>e.name.includes("ads.min.js")&&e.name.includes("ads.adthrive.com")))[0];if(_){const e=Math.round(_.responseEnd-_.startTime).toString();"NaN"!==e&&(this.adsMinLoadDuration=[e])}const m=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);m&&(m.effectiveType&&this.connectionTargeting.push(`niet:${m.effectiveType}`),this.downlink=m.downlink||m.bandwidth,this.downlink&&this.connectionTargeting.push(`dl:${this.downlink}`))}};ui=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ui);const gi=250;let _i=class{constructor(e,t,i,s){if(this.adthrive=e,this._context=t,this._abgroup=i,this._clsOptions=s,this._defaultHeight=gi,this._map=new Map([["phone",{Content:gi,Recipe:gi,Header:50,Footer:50,Below_Post:gi,Sidebar:gi}],["tablet",{Content:gi,Recipe:gi,Header:90,Footer:90,Below_post:gi,Sidebar:gi}],["desktop",{Content:gi,Recipe:gi,Header:90,Footer:90,Below_Post:gi,Sidebar:gi}]]),this._clsOptions.enabled){const e="clsins_ss",t=this._clsOptions.getExperiment(e);t&&this._abgroup.set(e,String(t));["cls-insertion","cls-header-insertion","cls-disable-ads"].filter((e=>{if(this._clsOptions.branch){const t="script[id^="+`${e}-${this._clsOptions.branch}`+"]";return document.querySelectorAll(t).length>0}return!1})).forEach((e=>this._clsOptions.setInjectedScripts(e)))}}get enabled(){return this.adthrive.siteAds.adOptions.clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(e,t){const i=this._map.get(t);return i&&i[e]||this._defaultHeight}setStyle(e,t){("Footer"===t||this.enabled&&this._map.get(this._context.device)[t])&&(e.style.minHeight=`${this._map.get(this._context.device)[t]}px`,e.classList.add("adthrive-ad-cls"))}};_i=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ui,gt,ci])],_i);let mi=class{constructor(e){this.tracker=!0,this.gdpr=!1,this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle","CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);const{comscore:t,comscoreFooter:i}=e.siteAds.adOptions;this.category=K(t,"General"),this.comscore=K(i,!0),this.comscoreMessage=K(this._footerMessages.get(this.category),"CafeMedia")}};mi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],mi);let yi=class{constructor(e,t){this.adthrive=e,this._clsOptions=t,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"],(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs));try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(e){D.error("DisableAds","constructor",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t});const i="classList"in document.body;D.error("BodyDeviceClassComponent","init.supportBody",{supportBody:i})}}removeClsDivs(e){if(!this._clsOptions.enabled)return;const t=this._clsOptions.injectedSlots.filter((t=>{const i=t.element;let s=!1;return i.parentNode&&e.some((e=>i.classList.contains(e)))&&(i.parentNode.removeChild(i),s=!0),!s}));this._clsOptions.overwriteInjectedSlots(t)}disableAllAds(e){e&&!Ye(e)||(this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs))}disableContentAds(e){e&&!Ye(e)||(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]))}disablePlaylistPlayers(e){e&&!Ye(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():this._removeLegacyCLSVideoPlayers())}_removeCLSVideoPlayers(){var e;null===(e=this.adthrive.siteAds.videoPlayers)||void 0===e||e.players.filter((e=>"stickyPlaylist"===e.type||"sekindo"===e.type)).map((e=>document.querySelectorAll(`#cls-video-container-${e.playlistId}`))).forEach((e=>{var t;for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}))}_removeLegacyCLSVideoPlayers(){var e,t;const i=null===(e=this.adthrive.siteAds.video)||void 0===e?void 0:e.jwPlaylistId;if(i){const e=document.querySelectorAll(`#cls-video-container-${i}`);for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}}urlHasEmail(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)}};yi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ci])],yi);let fi=class extends wt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Re.StickyOutstream,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],fi.prototype,"run",null),fi=I([rt("StickyOutstreamSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],fi);let vi=class extends yt{constructor(e){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.shouldUseCoreExperimentsConfig=!1,this.key="smhd100";const t=window.adthriveCLS,i=t&&t.experiments;this._result=i&&this.key in i?i[this.key]:this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new Tt(.1).get()}};vi=I([rt("RemoveLargeSizeExperiment"),A(),O("design:paramtypes",[gt])],vi);let bi=class extends yt{constructor(e,t){super(),this._result=!1,this.key="smad300",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};bi=I([rt("RemoveLargeSidebarExperiment"),A(),O("design:paramtypes",[gt,Ft])],bi);const Si=e=>{const{tablet:t,desktop:i}=e.siteAds.breakpoints,s=X(t,i),n=e.siteAds,r=n.video&&n.video.partners&&n.video.partners.stickyOutstream,o=n.videoPlayers&&n.videoPlayers.partners&&n.videoPlayers.partners.stickyOutstream,a=r||o,l=e.siteAds.adOptions,d=a||l&&l.stickyOutstream;return!!(d&&("phone"===s?d.mobile.enabled:d.desktop.enabled))};let Ci=class{constructor(e,t,i,s,n){this._adthrive=e,this._adOptions=t,this._removeLargeSizeExperiment=i,this._removeLargeSidebarExperiment=s,this._stickyOutstreamSiteExperiment=n,this._stickyOutstreamEnabled=!1,this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]],this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]),this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:""};const{tablet:r,desktop:o}=e.siteAds.breakpoints;this._device=X(r,o),this._adthriveSiteAds=this._adthrive.siteAds,this._adthriveOptions=this._adthriveSiteAds.adOptions,this.setupStickyOutstreamSettings(),this.setupInterstitialSettings()}setupStickyOutstreamSettings(){const e=this._adthriveSiteAds.video&&this._adthriveSiteAds.video.partners&&this._adthriveSiteAds.video.partners.stickyOutstream,t=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream,i=e||t,s=Si(this._adthrive);if(this._stickyOutstreamSiteExperiment.enabled?this._stickyOutstreamSiteExperiment.result:s){this._stickyOutstreamEnabled=!0;const e={...this._adUnitSettingTemplate};e.sticky=!0,e.location="Video_StickyOutstream",e.position="beforeend",e.pageSelector=K(i&&i.blockedPageSelectors,""),e.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=e}}setupInterstitialSettings(){const e={...this._adUnitSettingTemplate},t=this._adthriveOptions;e.location="Interstitial",e.sizes=this.interstitalSupportedSizes(),e.pageSelector=K(t.interstitialBlockedPageSelectors||t.mobileInterstitialBlockedPageSelectors,""),this._interstitialSettingTemplate=e}get(){this._adthrive.siteAds.adUnits.sort(((e,t)=>{const i="Sidebar"===e.location&&e.sticky?`${e.location}_sticky`:e.location,s="Sidebar"===t.location&&t.sticky?`${t.location}_sticky`:t.location;return this._adUnitAuctionPriorityMap.get(i)-this._adUnitAuctionPriorityMap.get(s)}));const e=this._adthrive.siteAds.adUnits.filter((e=>void 0!==e.dynamic&&e.dynamic.enabled)).map((e=>{const t=e.location.replace(/\s+/g,"_");return{auctionPriority:this._adUnitAuctionPriorityMap.get(t)||8,location:t,sequence:K(e.sequence,1),sizes:this.onlySupportedAdSizes(e.adSizes).filter((t=>this.excludeTallSizes(e.location,t,e.sequence,e.adSizes))),devices:e.devices,pageSelector:K(e.dynamic.pageSelector,"").trim(),elementSelector:K(e.dynamic.elementSelector,"").trim(),position:K(e.dynamic.position,"beforebegin"),max:Math.floor(K(e.dynamic.max,0)),spacing:K(e.dynamic.spacing,0),skip:Math.floor(K(e.dynamic.skip,0)),every:Math.max(Math.floor(K(e.dynamic.every,1)),1),classNames:e.dynamic.classNames||[],sticky:"Footer"===e.location||e.sticky,stickyOverlapSelector:K(e.stickyOverlapSelector,"").trim(),autosize:e.autosize,special:K(e.targeting,[]).filter((e=>"special"===e.key)).reduce(((e,t)=>e.concat(...t.value)),[]),lazy:K(e.dynamic.lazy,!1),lazyMax:K(e.dynamic.lazyMax,2),lazyMaxDefaulted:0!==e.dynamic.lazyMax&&!e.dynamic.lazyMax}}));return this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&e.push(this._stickyOutstreamSettingTemplate),this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&e.push(this._interstitialSettingTemplate),e}onlySupportedAdSizes(e){return this._supportedSizes.filter((([t,i])=>e.some((([e,s])=>t===e&&i===s))))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter((([e,t])=>"phone"===this._device||"320,50"!=`${e},${t}`))}excludeTallSizes(e,[t,i],s,n){return!("Footer"===e&&"phone"===this._device&&320===t&&100===i||"Header"===e&&i>100&&this._removeLargeSizeExperiment.result||"Sidebar"===e&&9!==s&&n.some((([e,t])=>t<=300))&&i>300&&this._removeLargeSidebarExperiment.result)}};Ci=I([P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Vt,vi,bi,fi])],Ci);let wi=class extends yt{constructor(e){super(),this.key="ebho",this._choices=[{choice:{name:"ix_ebda",weight:.5}},{choice:{name:"medianet_ebda",weight:4}},{choice:{name:"openx_ebda",weight:1}},{choice:{name:"pubmatic_ebda",weight:1}},{choice:{name:"rhythmone_ebda",weight:5}},{choice:{name:"rubicon_ebda",weight:6}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"smart_ebda",weight:1}},{choice:{name:"sonobi_ebda",weight:1}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"emx_ebda",weight:1}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:36}},{choice:{name:"yieldmo_ebda",weight:10}},{choice:{name:"mediagrid_edba",weight:1}},{choice:{name:"xandr_ebda",weight:1}}],this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new Pt(e);return t.totalWeight,t.get()}};wi=I([rt("EBHOExperiment"),A(),O("design:paramtypes",[gt])],wi);let Ei=class{constructor(e){this.bidder=e.result}};Ei=I([A(),O("design:paramtypes",[wi])],Ei);let ki=class extends yt{constructor(e,t){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="loglevel",this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ki.prototype,"run",null),ki=I([rt("EventLogExperiment"),A(),O("design:paramtypes",[gt,Ft])],ki);let xi=class{constructor(e){this.enabled=e.result}};xi=I([A(),O("design:paramtypes",[ki])],xi);let Ti=class{constructor(){this.elements=[]}};Ti=I([A()],Ti);let Pi=class{constructor(e){this.prefix="AdThrive",this.networkCode="18190176",this._gamMCMEnabled=K(e.siteAds.adOptions.gamMCMEnabled,!1),this._gamMCMChildNetworkCode=K(e.siteAds.adOptions.gamMCMChildNetworkCode,""),this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:this.networkCode;const t=new Set(["service","bidding","dynamicVersion"]);this.targeting=e.siteAds.targeting.filter((({key:e})=>!t.has(e))).map((({key:e,value:t})=>("boolean"==typeof t&&(t=String(t)),{key:e,value:t})))}};Pi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Pi);let Ai=class extends yt{constructor(){super(),this._result=[],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"33across",threshold:.1},{choice:"appnexus",threshold:.01},{choice:"brightroll",threshold:.01},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.1},{choice:"criteo",threshold:.01},{choice:"grid",threshold:.005},{choice:"gumgum",threshold:.01},{choice:"kargo",threshold:.01},{choice:"ix",threshold:.005},{choice:"nativo",threshold:.3},{choice:"openx",threshold:.01},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.2},{choice:"teads",threshold:.01},{choice:"triplelift",threshold:.005},{choice:"ttd",threshold:.01},{choice:"undertone",threshold:.01},{choice:"unruly",threshold:.01},{choice:"verizon",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"yieldmo",threshold:.01}],this.key="hbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Tt(e).get())).map((({choice:e})=>e))}};Ai=I([rt("HBHOExperiment"),A(),O("design:paramtypes",[])],Ai);let Ii=class{constructor(e){this.bidders=e.result}};Ii=I([A(),O("design:paramtypes",[Ai])],Ii);let Mi=class{constructor(e){this.adthrive=e,this.apiReady=new R,this.optIn=new R}get enabled(){return K(this.adthrive.siteAds.adOptions.liveRampATS,!1)}};Mi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Mi);let Oi=class extends yt{constructor(e){super(),this._choices=[{choice:{name:"id5Id",weight:5}},{choice:{name:"identityLink",weight:1}},{choice:{name:"unifiedId",weight:1}},{choice:{name:"sharedId",weight:1}},{choice:{name:"criteo",weight:1}},{choice:{name:"connectId",weight:5}}],this.key="idho",this._result=this.run(),e.set(this.key,this.result?this.result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new Pt(e);return t.totalWeight,t.get()}};Oi=I([rt("IDHOExperiment"),A(),O("design:paramtypes",[gt])],Oi);let zi=class{constructor(e){this.subModule=e.result}};zi=I([A(),O("design:paramtypes",[Oi])],zi);let Ri=class{constructor(){this.refreshSlots=new Set(["Footer"]),this.ajaxType=!1}};Ri=I([A()],Ri);let Bi=class extends Qt{init(){this._key="lzbpvp"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Bi.prototype,"run",null),Bi=I([rt("BelowPostMarginExperiment"),A()],Bi);let Di=class extends Qt{init(){this._key="lzcvp"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Di.prototype,"run",null),Di=I([rt("ContentMarginExperiment"),A()],Di);let Vi=class extends yt{constructor(e,t){super(),this._result=!1,this.key="lzhb",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Vi.prototype,"run",null),Vi=I([rt("LZHBExperiment"),A(),O("design:paramtypes",[gt,Ft])],Vi);let Li=class{constructor(e,t,i){var s,n;this._defaultViewPort=2,this._infScrollViewPort=4,this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700},this.lzhb=e.result,this.viewports={content:null!==(s=t.result)&&void 0!==s?s:2,belowPost:null!==(n=i.result)&&void 0!==n?n:.75,default:this._defaultViewPort,infScroll:this._infScrollViewPort}}};Li=I([A(),O("design:paramtypes",[Vi,Di,Bi])],Li);let Fi=class{constructor(e){this._url="https://ats.rlcdn.com/ats.js",this._config={placementID:111,storageType:"localStorage",detectionType:"direct",logging:"error"},this.enabled=K(e.siteAds.adOptions.liveRampATS,!0)}};Fi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Fi);const Ni={AS:{location:"Sponsor_Tile",selectors:["h1.entry-title","h1.post-title","h1.posttitle","h1.story-title","h1.heading",".post > .post-title"],size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:e=>document.querySelector(e),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,selectors:['[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child',".wprm-recipe-ingredient:last-child","#recipe .ingredients",".wprm-recipe-ingredients-container",".tasty-recipe-ingredients",'[class*="recipe"] [class*="ingredient"] ul li:last-child','[class*="create-ingredient"] ul li:last-child','[class*="tasty-recipe"] [class*="ingredient"] p:last-child',"[class*=recipe] [class*=recipe] ~ p + ul li:last-child"],size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:e=>{const t=document.querySelectorAll(e);return t.length>0?t[t.length-1]:null},requireSelectorMatch:!1,lazy:!0}};let ji=class{constructor(e,t){if(this.loaded=!1,this.campaigns=[],this.siteCodes=[],this.adViewability=[],this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0",this.adUnits=Ni,this.selectorMatches=[],this.ortbSegments=new Map,this.rfMcmpCodes=[],this.rfIabCodes=[],this.rfDataProcessed=new R,this.hvThreshold=.6,this.mcmp=[],this.flpProdIds=[],this.activeCampaign=e=>{const t=Date.now();return t>=this.parseDate(e.start_date).getTime()&&t<=this.parseDate(e.expiration_date).getTime()},e){this.loaded=!0;const{host:i,page:s,adViewability:n}=e;if(i&&i.length&&(this.siteCodes=i[0].site_codes||[]),s&&s.length){const e=s[0].campaigns||[];this.campaigns=e.filter(this.activeCampaign)}n&&n.length&&(this.adViewability=n);const r=this.getMcmpFlpIds();this.mcmp=r.mcmp||[],this.flpProdIds=r.flpProdIds||[],this.ortbSegments=this.campaigns.reduce(((e,t)=>{const i=new RegExp(/(^iab(a|c))_(\d*)/),[,s,,n]=i.exec(t.dfp_id)||[];if(n){const t=e.get(s)||[];t.push({id:n}),s&&t.length&&e.set(s,t)}return e}),new Map);const o=e=>{e.forEach((e=>{const t=e[0],i=e[1];if("_A"===t.substring(t.length-2))this.rfMcmpCodes.push([t,i]);else{const e=t.substring(t.indexOf("_")+1);i.includes("rubicon")&&this.ortbSegments.set("iaba",[{id:e}]),this.rfIabCodes.push([t,i])}})),this.rfDataProcessed.emit()};t.recencyFrequencyDataSet.on(o,{handleEventsAlreadyEmitted:!0})}}isValidMarmaladeCampaign(e){const t=e.dfp_id.substring(0,2),i=this.adUnits[t];if(i){const e=i.find(i.selectors.join(","));return e&&this.selectorMatches.push({adUnit:i,match:e}),!i.requireSelectorMatch||!!e}return!0}getMcmpFlpIds(){return this.campaigns.filter((e=>this.isValidMarmaladeCampaign(e))).reduce(((e,t)=>(e.mcmp.push(t.dfp_id),t.flp_prod_id&&e.flpProdIds.push(...JSON.parse(t.flp_prod_id)),e)),{mcmp:[],flpProdIds:[]})}parseDate(e){const t=e.split("-");return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]))}};var Ui;ji=I([A(),M(0,T("RecencyFrequencyMarmaladeResponse")),O("design:paramtypes",[Object,vt])],ji),function(e){e.ThirtyThreeAcross="33across",e.AppNexus="appnexus",e.Brightroll="brightroll",e.Colossus="colossus",e.ColossusServer="col_ss",e.Conversant="conversant",e.Criteo="criteo",e.GumGum="gumgum",e.IndexExchange="ix",e.Kargo="kargo",e.MediaGrid="grid",e.MediaGridVideo="gridvid",e.Nativo="nativo",e.OpenX="openx",e.Pubmatic="pubmatic",e.PubmaticServer="pubm_ss",e.Roundel="roundel",e.Rubicon="rubicon",e.RubiconServer="rubi_ss",e.Sharethrough="sharethrough",e.Spotx="spotx",e.Teads="teads",e.Telaria="telaria",e.Triplelift="triplelift",e.TripleliftServer="tripl_ss",e.TTD="ttd",e.Undertone="undertone",e.Unruly="unruly",e.YahooSSP="yahoossp",e.Verizon="verizon",e.Yieldmo="yieldmo"}(Ui||(Ui={}));let qi=class{constructor(e){this._biddersConfig=new Map;const t=e.siteAds.videoPlayers&&e.siteAds.videoPlayers.partners,i=e.siteAds.video&&e.siteAds.video.partners;this._adOptions=e.siteAds.adOptions,this._videoPartners=t||i||{},this.display=new Map([[Ui.AppNexus,this.partnerEnabled(Ui.AppNexus,!1,!0,"appNexus")],[Ui.Brightroll,this.partnerEnabled(Ui.Brightroll,!0,!0,Ui.Brightroll)],[Ui.Colossus,this.partnerEnabled(Ui.Colossus,!0,!0,Ui.Colossus)],[Ui.Conversant,this.partnerEnabled(Ui.Conversant,!1,!0,Ui.Conversant)],[Ui.Criteo,this.partnerEnabled(Ui.Criteo,!0,!0,Ui.Criteo)],[Ui.IndexExchange,this.partnerEnabled(Ui.IndexExchange,!1,!0,"indexExchange")],[Ui.GumGum,this.partnerEnabled(Ui.GumGum,!0,!0,Ui.GumGum)],[Ui.Kargo,this.partnerEnabled(Ui.Kargo,!0,!0,Ui.Kargo)],[Ui.MediaGrid,this.partnerEnabled(Ui.MediaGrid,!0,!0,"mediaGrid")],[Ui.MediaGridVideo,this.partnerEnabled(Ui.MediaGridVideo,!0,!0,"mediaGrid")],[Ui.Nativo,this.partnerEnabled(Ui.Nativo,!0,!0,Ui.Nativo)],[Ui.OpenX,this.partnerEnabled(Ui.OpenX,!1,!0,Ui.OpenX)],[Ui.Pubmatic,this.partnerEnabled(Ui.Pubmatic,!0,!0,"pubMatic")],[Ui.Rubicon,this.partnerEnabled(Ui.Rubicon,!0,!0,Ui.Rubicon)],[Ui.Sharethrough,this.partnerEnabled(Ui.Sharethrough,!0,!0,Ui.Sharethrough)],[Ui.Spotx,this.partnerEnabled(Ui.Spotx,!0,!0)],[Ui.Teads,this.partnerEnabled(Ui.Teads,!0,!0,Ui.Teads)],[Ui.Roundel,this.partnerEnabled(Ui.Roundel,!0,!0,Ui.Roundel)],[Ui.Telaria,this.partnerEnabled(Ui.Telaria,!0,!0)],[Ui.ThirtyThreeAcross,this.partnerEnabled(Ui.ThirtyThreeAcross,!0,!0,"thirtyThreeAcross")],[Ui.Triplelift,this.partnerEnabled(Ui.Triplelift,!0,!0,"tripleLift")],[Ui.TTD,this.partnerEnabled(Ui.TTD,!0,!0,"theTradeDesk")],[Ui.Undertone,this.partnerEnabled(Ui.Undertone,!0,!0,Ui.Undertone)],[Ui.Unruly,this.partnerEnabled(Ui.Unruly,!0,!0,Ui.Unruly)],[Ui.Verizon,this.partnerEnabled(Ui.Verizon,!0,!0,Ui.Verizon)],[Ui.YahooSSP,this.partnerEnabled(Ui.YahooSSP,!0,!0,Ui.YahooSSP)],[Ui.Yieldmo,this.partnerEnabled(Ui.Yieldmo,!0,!0,Ui.Yieldmo)],["AmazonUAM",this.partnerEnabled("AmazonUAM",!0,!0,"amazonUAM")]]),e&&e.core&&e.core.partners.forEach((e=>{if(e.bidder_name){const t=K(e.enabled,!0),i=new Map;e.cpm&&e.cpm.length&&e.cpm.forEach((e=>{i.set(e.name,e)})),this._biddersConfig.set(e.bidder_name,{bidder_name:e.bidder_name,enabled:t,cpmMap:i})}})),this.video=new Map([["AmazonUAM",this.videoPartnerEnabled("AmazonUAM",!0,"amazonUAM")],[Ui.AppNexus,this.videoPartnerEnabled(Ui.AppNexus,!0,"appNexus")],[Ui.Colossus,this.videoPartnerEnabled(Ui.Colossus,!0,Ui.Colossus)],[Ui.Conversant,this.videoPartnerEnabled(Ui.Conversant,!1,Ui.Conversant)],[Ui.Criteo,this.videoPartnerEnabled(Ui.Criteo,!0,Ui.Criteo)],[Ui.GumGum,this.videoPartnerEnabled(Ui.GumGum,!0,Ui.GumGum)],[Ui.IndexExchange,this.videoPartnerEnabled(Ui.IndexExchange,!0,"indexExchange")],[Ui.MediaGridVideo,this.videoPartnerEnabled(Ui.MediaGridVideo,!0,"mediaGrid")],[Ui.OpenX,this.videoPartnerEnabled(Ui.OpenX,!0,Ui.OpenX)],[Ui.Pubmatic,this.videoPartnerEnabled(Ui.Pubmatic,!0,"pubMatic")],[Ui.Rubicon,this.videoPartnerEnabled(Ui.Rubicon,!0,Ui.Rubicon)],[Ui.Sharethrough,this.videoPartnerEnabled(Ui.Sharethrough,!0,Ui.Sharethrough)],[Ui.Spotx,this.videoPartnerEnabled(Ui.Spotx,!0,Ui.Spotx)],[Ui.Telaria,this.videoPartnerEnabled(Ui.Telaria,!1,Ui.Telaria)],[Ui.ThirtyThreeAcross,this.videoPartnerEnabled(Ui.ThirtyThreeAcross,!0,"thirtyThreeAcross")],[Ui.Triplelift,this.videoPartnerEnabled(Ui.Triplelift,!0,"tripleLift")],[Ui.TTD,this.videoPartnerEnabled(Ui.TTD,!0,Ui.TTD)],[Ui.Unruly,this.videoPartnerEnabled(Ui.Unruly,!0,Ui.Unruly)],[Ui.YahooSSP,this.videoPartnerEnabled(Ui.YahooSSP,!0,Ui.YahooSSP)],[Ui.Kargo,this.videoPartnerEnabled(Ui.Kargo,!0,Ui.Kargo)]])}getBidderConfig(e){return K(this._biddersConfig.get(e),{bidder_name:e,enabled:!0,cpmMap:new Map})}partnerEnabled(e,t=!0,i,s){var n;const r=s?K(this._adOptions[s],t):void 0,o=K(null===(n=this._biddersConfig.get(e))||void 0===n?void 0:n.enabled,i);return"AmazonUAM"===e?r:s?r&&o:o}videoPartnerEnabled(e,t,i){const s=this.display.get(e),n=K(this._videoPartners[i],t);return!(!s||!n)}};qi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],qi);let Hi=class extends yt{constructor(e){super(),this.key="SensOffExperiment",this._choices=[],this._sensCategories=K(e.siteAds.adOptions.sensitiveCategories,[]),this._choices=this._sensCategories.map((e=>({choice:[e]}))),this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter((()=>new Tt(.01).get()))}};Hi=I([rt("SensOffExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Hi);let Gi=class{constructor(e,t){this._sensOffExperiment=t,this.id=e.siteAds.siteId,this.name=e.siteAds.siteName,this.verticals=e.siteAds.adOptions.verticals,this.sensitiveCategories=K(e.siteAds.adOptions.sensitiveCategories,[]),this.sensCategoriesOff=this._sensOffExperiment.result,this.filteredSensitiveCategories=this.sensitiveCategories.filter((e=>-1===this.sensCategoriesOff.indexOf(e))),this.breakpoints=e.siteAds.breakpoints,this.style=e.style}};Gi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Hi])],Gi);let $i=class extends Qt{init(){this._key="magnitedr"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],$i.prototype,"run",null),$i=I([rt("RubiconExperiment"),A()],$i);let Wi=class extends Qt{init(){this._key="tripleliftdr"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Wi.prototype,"run",null),Wi=I([rt("TripleLiftExperiment"),A()],Wi);let Ki=class extends yt{constructor(e,t,i){super(),this._result=["33across","brightroll","col_ss","conversant","pubm_ss","unruly","yieldmo"],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"appnexus",threshold:.05},{choice:"grid",threshold:.9},{choice:"gumgum",threshold:.02},{choice:"openx",threshold:.01}],this.key="pbs2s",this.addToS2SBidders("tripl_ss",t),this.addToS2SBidders("rubi_ss",i);const s=this.run();this._choices.forEach((({choice:t})=>{const i=t;s.includes(i)?(this._result.push(i),e.set("pbs2s_"+i,"on")):e.set("pbs2s_"+i,"off")}))}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Tt(e).get())).map((({choice:e})=>e))}addToS2SBidders(e,t){"both"!==t.result&&"server"!==t.result||this._result.push(e)}};Ki=I([rt("S2SExperiment"),A(),O("design:paramtypes",[gt,Wi,$i])],Ki);let Qi=class extends Qt{init(){this._key="adt"}};Qi=I([rt("AuctionDelayExperiment"),A()],Qi);let Xi=class{constructor(e,t,i,s){var n;this._gam=i,this._site=s,this.deals=[],this.targetingKeys=["ADOMAIN","AD_ID","BIDDER","CACHE_ID","CACHE_HOST","DEAL","FORMAT","PRICE_BUCKET","SIZE","SOURCE","UUID","INTERSTITIAL"],this.sendAllBidsTargetingKeys=this.targetingKeys.filter((e=>!["ADOMAIN","BIDDER","INTERSTITIAL"].includes(e))),this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`,this.s2s=this.s2s={bidders:e.result},this.auctionDelay=null!==(n=t.result)&&void 0!==n?n:0}};Xi=I([A(),O("design:paramtypes",[Ki,Qi,Pi,Gi])],Xi);const Yi=e=>{const t=e.substring(13).split(".").map((e=>parseInt(e)));return{major:t[0],minor:t[1],patch:t[2]}},Ji=(e,t)=>{const i=Yi(e),s=Yi(t);return!(i.major>s.major)&&(i.major<s.major||!(i.minor>s.minor)&&(i.minor<s.minor||!(i.patch>s.patch)&&(i.patch<=s.patch||void 0)))};let Zi=class{constructor(e){this.adthrive=e,this.enabled=this.isEnabled(),this.settings=e.siteAds.adDensityLayout}isEnabled(){const e=window,t=e.adthrive&&e.adthrive.plugin,i=e.adthriveCLS,s=i&&i.experiments,n=K(this.adthrive.siteAds.adDensityEnabled,!0),r=!(!s||!("clsins_ss"in s))||!(!t||!Ji("adthrive-ads-1.1.0",t));return!!(this.adthrive.siteAds.adDensityLayout&&n&&r)}};Zi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Zi);const es=e=>({choice:e[0],weight:e[1]}),ts={ito_df:[[2e3,10],[2100,15],[2200,50],[2300,15],[2400,10]],ito_ds:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_dn:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_mf:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_ms:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_mn:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]]};let is=class extends yt{constructor(e,t){super(),this._choices=[],this.shouldUseCoreExperimentsConfig=!1,this.key="ito";const i=(e=>{const t=(e=>{const t=e.downlink;return void 0===t?"unknown":t<10?"slow":"fast"})(e);if("desktop"===e.device)switch(t){case"fast":return"ito_df";case"slow":return"ito_ds";case"unknown":return"ito_dn"}else switch(t){case"fast":return"ito_mf";case"slow":return"ito_ms";case"unknown":return"ito_mn"}})(t);this.key=i,this._choices=ts[i].map(es),this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new Pt(this._choices).get()}};is=I([rt("InitialTimeoutExperiment"),A(),O("design:paramtypes",[gt,ui])],is);let ss=class{constructor(e){this.initialBidsRequest=e.result,this.refreshBidsRequest=5e3}};ss=I([A(),O("design:paramtypes",[is])],ss);let ns=class{constructor(){this._data={}}set(e){this._data={...this._data,...e}}get(){return 0!==Object.keys(this._data).length?this._data:void 0}getByKey(e){return this._data[e]}clear(){this.set({})}};ns=I([rt("UserPageDataLoggingStore"),A()],ns);let rs=class{constructor(e){this._userPageDataLoggingStore=e,this.loggingData=new R,this._maxTimeOnPage=36e5,this._listeners=[],this._callbacks=new Set,this._requestSent=!1,setTimeout((()=>{this._callbacks.forEach((e=>this._executeCallback(e))),this.cleanup()}),this._maxTimeOnPage)}_executeCallback(e){e(),this._callbacks.delete(e),0===this._callbacks.size&&this.logUserPageData()}setUserPageData(e){e&&this._userPageDataLoggingStore.set(e)}logUserPageData(){this._requestSent||(D.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(e,t){this._callbacks.add(t),e.forEach((e=>{this._listeners.push(e.on((()=>this._executeCallback(t))))}))}cleanup(){this._listeners.forEach((e=>{e()})),this._listeners=[],this._callbacks.clear()}};rs=I([rt("UserPageDataLoggingEvents"),A(),O("design:paramtypes",[ns])],rs);let os=class{constructor(e,t){this._userPageDataLoggingEvent=e,this._pageManager=t,this.started=0,this.loading=0,this.totalTimeOnPage=0,this.bootstrapFinished=0,this.amazonStarted=0,this.amazonFinished=0,this.amazonDuration=0,this.gamStarted=0,this.gamFinished=0,this.gamDuration=0,this.marmaladeStarted=0,this.marmaladeFinished=0,this.marmaladeDuration=0,this.floorsStarted=0,this.floorsFinished=0,this.floorsDuration=0,this.prebidStarted=0,this.prebidFinished=0,this.prebidDuration=0,this.webVitalsStarted=0,this.webVitalsFinished=0,this.webVitalsDuration=0,this.started=Ve(),"visible"===document.visibilityState&&(this.timeOnPage=this.started),this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged())),e.loggingData.on((()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=Ve()-this.timeOnPage)}))}setNonBlockingLibraryTimingData(e){const t=e.get(xe.Prebid),i=e.get(xe.Amazon);this._setPrebidTimingData(t),this._setAmazonTimingData(i)}_setPrebidTimingData(e){this.prebidStarted=e&&e.started||0,this.prebidFinished=e&&e.finished||0,this.prebidDuration=e&&e.started&&e.finished&&e.finished-e.started||0}_setAmazonTimingData(e){this.amazonStarted=e&&e.started||0,this.amazonFinished=e&&e.finished||0,this.amazonDuration=e&&e.started&&e.finished&&e.finished-e.started||0}get timingData(){return{started:this.started,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,floorsStarted:this.floorsStarted,floorsFinished:this.floorsFinished,floorsDuration:this.floorsDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,webVitalsStarted:this.webVitalsStarted,webVitalsFinished:this.webVitalsFinished,webVitalsDuration:this.webVitalsDuration,...this.timeOnPage&&{timeOnPage:this.timeOnPage}}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=Ve():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=Ve()-this.timeOnPage,this.timeOnPage=void 0)}};os=I([A(),O("design:paramtypes",[rs,pi])],os);let as=class extends yt{constructor(e){super(),this._choices=[{choice:"ats",weight:1},{choice:"conf",weight:1},{choice:"hawk",weight:1},{choice:"tgtaff",weight:1},{choice:"none",weight:96}],this.key="3pho",this._result=this.run(),e.set(this.key,this.result)}get result(){return this._result}run(){return new Pt(this._choices).get()}};as=I([rt("TKHOExperiment"),A(),O("design:paramtypes",[gt])],as);let ls=class{constructor(e){this.tracker=e.result}};ls=I([A(),O("design:paramtypes",[as])],ls);let ds=class extends yt{constructor(){super(),this._result=[],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"appnexus",threshold:.1},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.01},{choice:"criteo",threshold:.01},{choice:"gridvid",threshold:.01},{choice:"gumgum",threshold:.5},{choice:"ix",threshold:.005},{choice:"openx",threshold:.1},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.01},{choice:"spotx",threshold:.01},{choice:"telaria",threshold:.2},{choice:"triplelift",threshold:.01},{choice:"ttd",threshold:.01},{choice:"unruly",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"kargo",threshold:.01},{choice:"33across",threshold:.01}],this.key="vbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Tt(e).get())).map((({choice:e})=>e))}};ds=I([rt("VBHOExperiment"),A(),O("design:paramtypes",[])],ds);let cs=class{constructor(e){this.bidders=e.result}};cs=I([A(),O("design:paramtypes",[ds])],cs);let hs=class extends yt{constructor(e){super(),this._choices=[{choice:{name:"ix_ebda",weight:5}},{choice:{name:"medianet_ebda",weight:10}},{choice:{name:"openx_ebda",weight:10}},{choice:{name:"pubmatic_ebda",weight:5}},{choice:{name:"rhythmone_ebda",weight:5}},{choice:{name:"rubicon_ebda",weight:5}},{choice:{name:"spotx_ebda",weight:6}},{choice:{name:"telaria_ebda",weight:5}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:1}},{choice:{name:"emx_ebda",weight:5}},{choice:{name:"sharethrough_ebda",weight:5}},{choice:{name:"yieldmo_ebda",weight:10}},{choice:{name:"mediagrid_edba",weight:1}},{choice:{name:"xandr_ebda",weight:1}}],this.key="vebho",this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new Pt(e);return t.totalWeight,t.get()}};hs=I([rt("VEBHOExperiment"),A(),O("design:paramtypes",[gt])],hs);let ps=class{constructor(e){this.bidder=e.result}};ps=I([A(),O("design:paramtypes",[hs])],ps);let us=class extends Qt{init(){this._key="cbt"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],us.prototype,"run",null),us=I([rt("CloseButtonTimeoutExperiment"),A()],us);let gs=class extends yt{constructor(e){super(),this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:{protocols:[1,2,3,4,5,6,7,8],value:"all",scope:"all"},weight:55},{choice:{protocols:[2,3,5,6,7,8],value:"nv1",scope:"all"},weight:15},{choice:{protocols:[1,2,3,5,6,7,8],value:"allr",scope:"limited"},weight:15},{choice:{protocols:[2,3,5,6,7,8],value:"nv1r",scope:"limited"},weight:15}],this.key="proto",this._result=this.run(),e.set(this.key,this._result.value)}get result(){return this._result}run(){return new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],gs.prototype,"run",null),gs=I([rt("ProtocolsExperiment"),A(),O("design:paramtypes",[gt])],gs);let _s=class extends Qt{init(){this._key="vast_to"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],_s.prototype,"run",null),_s=I([rt("VastTimeoutExperiment"),A()],_s);let ms=class extends wt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Re.RemoveVideoTitleWrapper,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("RemoveVideoTitleWrapperSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ms.prototype,"run",null),ms=I([rt("RemoveVideoTitleWrapperSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],ms);let ys=class extends yt{constructor(e,t,i){super(),this._adthrive=e,this._result=!1,this.key="vadv",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const s=this._adthrive.siteAds.adOptions.advancePlaylist,n=this._adthrive.siteAds.adOptions.advancePlaylistOptions,r=n?n&&n.playlistPlayer&&n.playlistPlayer.enabled:s,o=i.getCoreExperiment(this.key);o&&K(r,!0)&&(this.weight=o.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ys.prototype,"run",null),ys=I([rt("AdvancePlaylistExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,gt,Ft])],ys);let fs=class extends yt{constructor(e,t,i){super(),this._adthrive=e,this._result=!1,this.key="rvadv_ab1",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const s=this._adthrive.siteAds,n=s.adOptions.advancePlaylistOptions||{},r=s.videoPlayers,o=(r&&r.players||[]).filter((e=>"stickyPlaylist"===e.type)),a=i.getCoreExperiment(this.key);a&&o.length&&K(n.relatedPlayer&&n.relatedPlayer.enabled,!0)&&(this.weight=a.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],fs.prototype,"run",null),fs=I([rt("AdvancePlaylistRelatedExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,gt,Ft])],fs);let vs=class extends Qt{init(){this._key="reqTo"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],vs.prototype,"run",null),vs=I([rt("JwRequestTimeoutExperiment"),A()],vs);let bs=class extends yt{constructor(e){super(),this._result=!1,this.key="LogAdDurationExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.03;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Tt(this.weight).get()}};bs=I([rt("LogAdDurationExperiment"),A(),O("design:paramtypes",[Ft])],bs);let Ss=class extends yt{constructor(e){super(),this._result=!1,this.key="LogAdLifeCycleExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Tt(this.weight).get()}};Ss=I([rt("LogAdLifeCycleExperiment"),A(),O("design:paramtypes",[Ft])],Ss);let Cs=class extends yt{constructor(e,t){super(),this._result=!1,this.key="pbm",this._choices=[{choice:!0},{choice:!1}],this._map=new Map([[Ae.Video_In_Post_ClicktoPlay_SoundOn,[3]],[Ae.Video_Collapse_Autoplay_SoundOff,[6]],[Ae.Video_Coll_SOff_Smartphone,[6]],[Ae.Video_Individual_Autoplay_SOff,[6]]]),this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),this.playbackmethod=this._result?this._map:void 0,e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Cs.prototype,"run",null),Cs=I([rt("PlaybackmethodExperiment"),A(),O("design:paramtypes",[gt,Ft])],Cs);let ws=class extends wt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Re.VideoAdvancePlaylistRelatedPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const s=this._siteExperiments.getVideoPlaylistByType("stickyPlaylist");this.enabled&&this.experimentConfig&&s.length>0&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ws.prototype,"run",null),ws=I([rt("VideoAdvancePlaylistRelatedPlayerSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],ws);class Es{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static shufflePlaylist(e){let t,i,s=e.length;for(;0!==s;)i=Math.floor(Math.random()*e.length),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(e){const t=e.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>t.top+t.height/2&&t.top+t.height/2>0:window.innerHeight>t.top+t.height/2}static playerVisible(e){const t=e.getBoundingClientRect();return window.innerHeight>t.top}static createQueryString(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}static createEncodedQueryString(e){return Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}static setMobileLocation(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e?e="adthrive-collapse-bottom-right":"top-center"===e&&(e=te()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right"),e}}let ks=class{constructor(e,t,i,s,n,r,o,a,l){this._adthrive=e,this.players=[],this.instreamAdUnits=new Set([Ae.Video_Collapse_Autoplay_SoundOff,Ae.Video_Individual_Autoplay_SOff,Ae.Video_Coll_SOff_Smartphone,Ae.Video_In_Post_ClicktoPlay_SoundOn]),this.closeButtonTimeout=K(t.result,4e3),this.vastTimeout=K(i.result,1e4),this.maxRedirect=8,this.apiValue=[2],this.videoWasClosed=K(oe("video_closed",18e5,!0),!1),this.mobileStickyPlayerOnPage=!1,this.playbackmethod=n.playbackmethod,this.logAdDuration=r.result,this.logAdLifeCycle=o.result,this.jwRequestTimeout=K(a.result,15e3),this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"],this.videoProtocols=s.result,this.position={id:1,name:"above"},this.removeVideoTitleWrapper=K(e.siteAds.adOptions.removeVideoTitleWrapper,!1);const d=e.siteAds.videoPlayers;this.footerSelector=K(d&&d.footerSelector,""),this.players=K(d&&d.players.map((e=>(e.mobileLocation=Es.setMobileLocation(e.mobileLocation),e))),[]),this.contextualSettings=d&&d.contextual,this.jwPlaylist=this.getPlayListPlayerVideos(),this.advancePlaylist=this.getAdvancePlaylistConfig(l),this.stickyOutstreamSettings=this._getStickyOutstreamSettings()}setupAdvanceRelatedExperiment(e){const t=x.resolve(ws),i=x.resolve(fs),s=this.advancePlaylist.relatedPlayer;if(t.enabled)s.applyToFirst=t.result,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&t.result)).catch((()=>Promise.reject().catch((()=>!1))));else{const t=e?s.sticky:s.static,n=t?t.enabled:s.enabled;s.applyToFirst=t?t.applyToFirst:s.applyToFirst,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&n&&i.result)).catch((()=>Promise.reject().catch((()=>!1))))}}getPlayListPlayerVideos(){const e=this._adthrive.siteAds.videoPlayers,t=(e&&e.players||[]).filter((e=>"stickyPlaylist"===e.type)),i=t.length&&t[0].playlistId;return i?ne(`https://cdn.jwplayer.com/v2/playlists/${i}`):Promise.reject().catch((()=>!1))}getAdvancePlaylistConfig(e){const t=(this._adthrive.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:e.result},relatedPlayer:{applyToFirst:K(t.applyToFirst,!0),enabled:K(t.enabled,!0),shouldRun:Promise.reject().catch((()=>!1)),static:t.static,sticky:t.sticky}}}_getStickyOutstreamSettings(){const e=this._adthrive.siteAds.videoPlayers&&this._adthrive.siteAds.videoPlayers.partners&&this._adthrive.siteAds.videoPlayers.partners.stickyOutstream,t=this._adthrive.siteAds.video&&this._adthrive.siteAds.video.partners.stickyOutstream;return K(e||t,{blockedPageSelectors:"",mobile:{enabled:!1},desktop:{enabled:!1},allowForPageWithStickyPlayer:{enabled:!1},allowOnHomepage:!1})}};ks=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,us,_s,gs,Cs,bs,Ss,vs,ys])],ks);let xs=class{constructor(e,t,i,s,n){this._videoAdOptions=e,this.apiValue=[2],this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.contextualPlayerAdded=!1,this.sekindoPlayerAdded=!1,this.hasJwPlayer=!1,this.preventStickyOutstream=!1,this.hasStickyOutstream=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.instreamAdUnits=new Set([Ae.Video_Collapse_Autoplay_SoundOff,Ae.Video_Individual_Autoplay_SOff,Ae.Video_Coll_SOff_Smartphone,Ae.Video_In_Post_ClicktoPlay_SoundOn]);const r=this._videoAdOptions;this.videoProtocols=t.result,this.closeButtonTimeout=K(i.result,4e3),this.vastTimeout=s.result,this.position={id:1,name:"above"},this.maxRedirect=8,this.playbackmethod=r.playbackmethod,this.advancePlaylist=r.advancePlaylist,this.jwPlaylist=r.jwPlaylist,this.setupAdvanceRelatedExperiment=r.setupAdvanceRelatedExperiment,this.contextualSettings=r.contextualSettings,this.mimeType=r.mimeType,this.videoProtocols=r.videoProtocols,this.closeButtonTimeout=r.closeButtonTimeout,this.jwRequestTimeout=r.jwRequestTimeout,this.logAdDuration=r.logAdDuration,this.logAdLifeCycle=r.logAdLifeCycle,this.vastTimeout=r.vastTimeout,this.videoWasClosed=r.videoWasClosed,this.removeVideoTitleWrapper=n.enabled?n.result:r.removeVideoTitleWrapper,this.players=r.players,this.footerSelector=r.footerSelector,this.stickyOutstreamSettings=r.stickyOutstreamSettings}};xs=I([A(),O("design:paramtypes",[ks,gs,us,_s,ms])],xs);let Ts=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,T,P,A,I,M,O,z,R){this.abGroup=e,this.adOptions=t,this.adTypes=i,this.amazon=s,this.ccpa=n,this.clsOptimizedAds=r,this.comscore=o,this.context=a,this.disableAds=l,this.ebho=d,this.floors=c,this.impressionLog=h,this.footer=p,this.gam=u,this.gdpr=g,this.hbho=_,this.identityApi=m,this.idho=y,this.infiniteScroll=f,this.lazyLoad=v,this.liveRampAts=b,this.marmalade=S,this.partners=C,this.pubAbGroup=w,this.prebid=E,this.site=k,this.targetDensity=T,this.timeouts=P,this.timing=A,this.tkho=I,this.vbho=M,this.vebho=O,this.video=z,this.dynamicAds=R.get();const B=x.resolve(ci);B.enabled&&(this.clsOptions=B)}};Ts=I([A(),O("design:paramtypes",[gt,Vt,Lt,li,di,_i,mi,ui,yi,Ei,ii,xi,Ti,Pi,Ot,Ii,Mi,zi,Ri,Li,Fi,ji,qi,_t,Xi,Gi,Zi,ss,os,ls,cs,ps,xs,Ci])],Ts);class Ps{constructor(e,t,i,s,n,r=!1,o=8,a,l=[],d=!0,c=!1){this.location=e,this.sequence=t,this.sizes=i,this.element=s,this.sticky=n,this.lazy=r,this.auctionPriority=o,this.stickyOverlapSelector=a,this.special=l,this.enabledForAuction=d,this.infinite=c,this.refreshPaused=!1,this.viewableDuration=0,this.outOfViewIO=!0,this.outOfViewGPT=!0,this.alwaysInView=!1,this.displayed=!1,this.refreshCount=0,this.viewability=0,this.highlyViewable=!1,this.hvp=0,this.servedPrebidBidResponse=void 0}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===this.location}setHighlyViewable(e){const t=this.viewability>=Number(e&&e.hvThreshold);this.highlyViewable=this.lazy||t}isHighlyViewable(){return this.highlyViewable||this.lazy||this.refreshCount>0}get isAboveTheFold(){return(e=>{const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,bottom:t.bottom+window.pageYOffset,right:t.right+window.pageXOffset,width:t.right-t.left,height:t.bottom-t.top}})(this.element).top>1e3}hasSize([e,t]){return this.sizes.some((([i,s])=>e===i&&t===s))}get name(){return[this.location,this.sequence].filter(Qe).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&this.sequence>9?"Content_9":this.name.includes("Below_Post")?"Below_Post":this.name}pushToQueue(e){const t=window.googletag;t&&t.cmd&&t.cmd.push(e)}setViewability(e){e.adViewability.filter((t=>t.speed===e.speed&&window.innerWidth>=t.width[0]&&(!t.width[1]||window.innerWidth<=t.width[1]))).forEach((e=>{Object.keys(e.adUnits).forEach((t=>{t===this.name?this.viewability=e.adUnits[t]:"Content"===this.location&&this.sequence>9?this.viewability=e.adUnits.Content:"Below_Post"===this.location&&this.sequence>1&&(this.viewability=e.adUnits.Below_Post)}))}))}clearTargeting(e){this.googleTagSlot?this.googleTagSlot.clearTargeting(e):D.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",e)}setTargeting(e){this.pushToQueue((()=>{if(this.googleTagSlot){const t=Array.isArray(e)?e:[e];for(const e of t)this.googleTagSlot.setTargeting(e.key,e.value)}else D.error("Slot","setTargeting","Attempted to set targeting before slot was defined",e)}))}setSlotTargetingFlag(e,t,i=!1){const s=()=>{if(this.googleTagSlot){const s=this.googleTagSlot.getTargeting("flag_slot").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.googleTagSlot.setTargeting("flag_slot",[...s,...t.map((t=>`${e}:${t}`))])}};t&&t.length>0&&this.pushToQueue((()=>s()))}getTargeting(e){return this.googleTagSlot?this.googleTagSlot.getTargeting(e):(D.error("Slot","getTargeting","Attempted to get targeting before slot was defined",e),[])}getTargetingMap(){if(this.googleTagSlot){const e=this.googleTagSlot;return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}return D.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined"),{}}}let As=class{constructor(){this.added=new R,this.bidServed=new R,this._slots=new Map}add(e){const t=this.castArray(e);for(const e of t)if(!this._slots.has(e.id)){this._slots.set(e.id,e);try{this.added.emit(e)}catch(e){D.error("Slots","add",e)}}return t}remove(e){const t=this.castArray(e);for(const e of t)this._slots.has(e.id)&&this._slots.delete(e.id)}get(e){return e?this._slots.get(e):[...this._slots.values()]}castArray(e){if("string"==typeof e){const t=this.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}};As=I([rt("Slots"),A()],As);let Is=class{getBidWithBsidForSlot(e,t){const i=e.filter((e=>e.meta&&e.meta.dchain)),s=new RegExp(`${t.location}_${t.sequence}(?!d)`,"i");for(let t=e.length-1;t>=0;t--){const{adUnitCode:n,meta:r}=e[t];if(s.test(n)&&this.getLastBsid(r))return i[t]}}getLastBsid(e={}){const{dchain:t}=e,i=t&&t.nodes||[];for(let e=i.length-1;e>=0;e--)if(i[e].bsid)return i[e].bsid}};Is=I([rt("DemandChain"),P()],Is);let Ms=class extends yt{constructor(e,t){super(),this.abgroup=e,this.key="dcsll",this._result="off",this._choices=[{choice:"off",weight:30},{choice:"8.00",weight:50},{choice:"5.00",weight:10},{choice:"2.75",weight:5},{choice:"1.00",weight:5}],K(t.siteAds.adOptions.dynamicContentSlotLazyLoading,!0)&&(this._result=this.run(),e.set(this.key,this._result))}get result(){return this._result}run(){return new Pt(this._choices).get()}};Ms=I([rt("DynamicContentSlotLazyLoadingExperiment"),A(),M(1,T("AdThrive")),O("design:paramtypes",[gt,Object])],Ms);class Os{get enabled(){return!0}}let zs=class extends Os{constructor(e,t){super(),this._dynamicContentSlotLazyLoadingExperiment=e,this._slotEventBus=t,this.cpmThresholdMet=!1}isContentSlot(e){return"Content"===e.location}isBelowPostSlot(e){return"Below_Post"===e.location}isValidLocation(e){return this.isContentSlot(e)||this.isBelowPostSlot(e)}isValidSequence(e){return e.sequence&&e.sequence<=9}isCPMCSlot(e){return e.sequence&&e.sequence<=2&&this.isContentSlot(e)}isTargetSlot(e){return!this.isCPMCSlot(e)&&this.isValidSequence(e)&&this.isValidLocation(e)}getSlotCPM(e,t){if(e.prebidAdUnit){const i=t.getHighestCpmBids(e.prebidAdUnit.code);if(i.length>0)return i[0].cpm}return 0}checkThresholdMet(e,t){return this.cpmThresholdMet||this.isCPMCSlot(e)&&(this.cpmThresholdMet=this.getSlotCPM(e,t)>=parseFloat(this._dynamicContentSlotLazyLoadingExperiment.result),this.cpmThresholdMet&&this.loadRemainingSlots()),this.cpmThresholdMet}loadRemainingSlots(){this._slotEventBus.unobserveBySlotLocation.emit(["Content","Below_Post"])}lazyLoadingEnabledForSlot(e,t){return"off"!==this._dynamicContentSlotLazyLoadingExperiment.result&&this.checkThresholdMet(e,t)&&this.isTargetSlot(e)?(e.googleTagSlot.setTargeting("dcsll","true"),!1):e.lazy}};zs=I([rt("DynamicContentSlotLazyLoadingComponent"),A(),O("design:paramtypes",[Ms,St])],zs);let Rs=class{constructor(){this._elements=[],this._emailProviderOnPage=!1,this.piiManagerReady=new R,this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}],this.emailCaptured=new R,this._emailCheckTimeout=1500,this._eventMap=new Map([["mousemove",window],["scroll",window],["mouseleave",document],["om.Campaign.startShow",document]]),this._boundCallEventHandler=this.callCheckEmailProviders.bind(this),this._boundProcessEventHandler=this.processInputChange.bind(this),this.addElementListeners(),this.addEmailProviderListeners()}_captureEmail(e,t){this.emailCaptured.emit({email:e,source:"ecc"})}collectUrlEmailFromUrl(){const e=localStorage.getItem("adt_ei");e&&this.piiManagerReady.on((()=>{this.emailCaptured.emit({hash:e,source:"ecc"})}))}addEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.addEventListener(t,this._boundCallEventHandler)}))}removeEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.removeEventListener(t,this._boundCallEventHandler)}))}callCheckEmailProviders(e){("mouseleave"!==e.type||e.clientY<=0)&&setTimeout((()=>{this._emailProviderOnPage||this.emailProviderHandler()}),this._emailCheckTimeout)}emailProviderHandler(){for(const e of this._emailProviders){if(document.querySelectorAll(e.divSelector).length){this.removeEmailProviderListeners(),this._emailProviderOnPage=!0,this.addElementListeners();break}}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}addElementListeners(){this.setElements();for(const e of this._elements)e.addEventListener("blur",this._boundProcessEventHandler),e.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(const e of this._elements)e.removeEventListener("blur",this._boundProcessEventHandler),e.removeEventListener("change",this._boundProcessEventHandler)}processInputChange(e){const t=e.target.value,i=Z(t);i&&(this._captureEmail(i,"_processInputChange"),this.removeElementListeners())}};Rs=I([rt("EmailCaptureHandler"),A(),O("design:paramtypes",[])],Rs);class Bs{addAdUnits(e){this.addToQueue((()=>{pbjs.addAdUnits(e)}))}getPrebidAdUnits(){return window.pbjs&&window.pbjs.adUnits}addToQueue(e){pbjs.que.push(e)}enableAnalytics(e){this.addToQueue((()=>{pbjs.enableAnalytics(e)}))}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}markWinningBidAsUsed(e){this.addToQueue((()=>{pbjs.markWinningBidAsUsed(e)}))}offEvent(e,t){this.addToQueue((()=>{pbjs.offEvent(e,t)}))}onEvent(e,t){this.addToQueue((()=>{pbjs.onEvent(e,t)}))}refreshUserIds(e,t){this.addToQueue((()=>{pbjs.refreshUserIds(e,t)}))}requestBids(e){this.addToQueue((()=>{pbjs.requestBids(e)}))}setAliasBidder(e,t){this.addToQueue((()=>{pbjs.aliasBidder(e,t)}))}setBidderConfig(e){this.addToQueue((()=>{pbjs.setBidderConfig(e)}))}setBidderSettings(e){this.addToQueue((()=>{pbjs.bidderSettings=e}))}setBidsReceivedFilter(e){this.addToQueue((()=>{pbjs.setBidsReceivedFilter(e)}))}setConfig(e){this.addToQueue((()=>{pbjs.setConfig(e)}))}setTargetingForGPTAsync(e){this.addToQueue((()=>{pbjs.setTargetingForGPTAsync(e)}))}triggerUserSyncs(){this.addToQueue((()=>{pbjs.triggerUserSyncs()}))}registerSignalSources(){this.addToQueue((()=>{pbjs.registerSignalSources()}))}waitForQueue(){return new Promise((e=>{this.isPrebidLoaded()||e(!1),pbjs.que.push((()=>{e(!0)}))}))}getBidResponsesForAdUnitCode(e){return pbjs.getBidResponsesForAdUnitCode(e)}getAdserverTargetingForAdUnitCode(e){return pbjs.getAdserverTargetingForAdUnitCode(e)}getAllPrebidWinningBids(){return pbjs.getAllPrebidWinningBids()}getConfig(e,t){return t?pbjs.getConfig(e,t):pbjs.getConfig(e)}getHighestCpmBids(e){return pbjs.getHighestCpmBids(e)}}var Ds;let Vs=Ds=class{constructor(e,t,i,s,n,r,o){this._config=e,this._bootstrapEventBus=t,this._slots=i,this.emailCapture=s,this._prebidMethods=n,this._demandChain=r,this._dynamicContentSlotLazyLoadingComponent=o,this._started=!1,this.postStartTargetingWhiteList=["bms","pvk","flag","hi_au","abgroup","pubab","mcmp"],this.impressionViewable=new R,this.slotOnload=new R,this.slotRenderEnded=new R,this.slotVisibilityChanged=new R,this.slotRequested=new R,this.slotResponseReceived=new R,this.started=new R}init(){this.emailCapture.collectUrlEmailFromUrl(),Ds.pushToQueue((()=>{const e=googletag.pubads();e.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0}),e.set("page_url",this._config.context.pageUrl),e.collapseEmptyDivs(),e.enableSingleRequest(),e.disableInitialLoad(),e.setTagForChildDirectedTreatment(0),this._addGamEventListeners(),this._bootstrapEventBus.libraryLoadFailed.on((({bootstrapType:e})=>{e===xe.Prebid&&this.setTargetingFlag("pbjs",["failed"])}),{handleEventsAlreadyEmitted:!0})}))}start(){Ds.pushToQueue((()=>{googletag.enableServices();try{this.started.emit()}catch(e){D.error("GoogleAdManager","start","started",e)}this._started=!0}))}static pushToQueue(e){googletag.cmd.push(e)}waitForQueue(){return new Promise((e=>{googletag.cmd.push((()=>{e(!0)}))}))}setTargeting(e){const t=(Array.isArray(e)?e:[e]).filter((e=>!(!e.value||!e.value.length)));if(this._started&&t.some((e=>!this.postStartTargetingWhiteList.includes(e.key))))D.error("GoogleAdManager","setTargeting","Attempted to set targeting after started");else for(const e of t)e&&Ds.pushToQueue((()=>{googletag.pubads().setTargeting(e.key,e.value)}))}setSlotTargeting(e,t){const i=Array.isArray(e)?e:[e];for(const e of i)e&&Ds.pushToQueue((()=>{t.setTargeting(e.key,Array.isArray(e.value)?e.value.join(","):e.value)}))}setTargetingFlag(e,t,i=!1){const s=()=>{const s=googletag.pubads().getTargeting("flag").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.setTargeting({key:"flag",value:[...s,...t.map((t=>`${e}:${t}`))]})};t&&t.length>0&&Ds.pushToQueue((()=>s()))}getTargeting(){return googletag.pubads().getTargetingKeys().map((e=>({key:e,value:googletag.pubads().getTargeting(e)})))}getTargetingValuesForKey(e){return googletag.pubads().getTargeting(e)}getTargetingMap(){const e=googletag.pubads();return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}clearTargetingForKey(e){Ds.pushToQueue((()=>{googletag.pubads().clearTargeting(e)}))}_getPathname(e){return"Content"===e.location&&e.sequence&&e.sequence>9||"Below_Post"===e.location&&e.sequence&&e.sequence>1?e.location:e.name}defineSlots(e){const{id:t}=this._config.site,{account:i,prefix:s}=this._config.gam;return e.map((e=>{const n=this._getPathname(e),r=`/${i}/${s}_${n}/${t}`,o="Video_StickyOutstream"===e.location?[...e.sizes]:[...e.sizes,"fluid"];return this._setupSlot(e,r,o),e})).filter(Qe)}displaySlots(e){Ds.pushToQueue((async()=>{const t=googletag.pubads();googletag&&!googletag.pubadsReady&&D.error("index","load",new Error(`Unexpected googletag.pubadsReady: ${googletag.pubadsReady}`));let i=[];await this._prebidMethods.waitForQueue().then((e=>{!0===e&&(i=this._prebidMethods.getAllPrebidWinningBids())}));for(const s of e){const e=this._demandChain.getBidWithBsidForSlot(i,s);if(e){const t=this._demandChain.getLastBsid(e.meta);t&&s.googleTagSlot.setTargeting("hb_bsid",t)}googletag.pubads().enableLazyLoad(this._dynamicContentSlotLazyLoadingComponent.lazyLoadingEnabledForSlot(s,this._prebidMethods)?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled),t.refresh([s.googleTagSlot])}}))}refreshSlots(e){Ds.pushToQueue((()=>{googletag.pubads().refresh(e.map((e=>e.googleTagSlot)))}))}clearSlots(e){Ds.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.pubads().clear(t)}))}destroySlots(e){Ds.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.destroySlots(t)}))}_addGamEventListeners(){this._addEventListener(this.impressionViewable,"impressionViewable"),this._addEventListener(this.slotOnload,"slotOnload"),this._addEventListener(this.slotRenderEnded,"slotRenderEnded"),this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged"),this._addEventListener(this.slotRequested,"slotRequested"),this._addEventListener(this.slotResponseReceived,"slotResponseReceived")}_addEventListener(e,t){Ds.pushToQueue((()=>{googletag.pubads().addEventListener(t,(t=>{const i=this._slots.get(t.slot.getSlotElementId());if(i)try{e.emit({slot:i,event:t})}catch(e){D.error("GoogleAdManager","addEventListener","emit",e)}}))}))}_setupSlot(e,t,i){const s=googletag.pubads();e.googleTagSlot="Interstitial"===e.location?googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(t,i,e.element.id),e.googleTagSlot?(e.googleTagSlot.addService(s).setTargeting("location",e.location).setTargeting("sequence",String(e.sequence)).setTargeting("id",e.id),(1===e.sequence&&e.isAboveTheFold||"Footer"===e.location)&&e.googleTagSlot.setTargeting("ATF","true"),e.isSticky&&"Video_StickyOutstream"!==e.location&&e.googleTagSlot.setTargeting("sticky","true"),e.special&&e.special.length>0&&e.googleTagSlot.setTargeting("special",e.special),"Sponsor_Tile"===e.location&&e.googleTagSlot.setCollapseEmptyDiv(!0,!0),s.isInitialLoadDisabled()&&googletag.display(e.googleTagSlot)):D.error("GoogleAdManager","defineSlots",`Duplicate ${t}`)}};Vs=Ds=I([rt("GoogleAdManager"),A(),O("design:paramtypes",[Ts,oi,As,Rs,Bs,Is,zs])],Vs);class Ls{get videoEnabled(){return!0}get enabled(){return!0}}let Fs=class extends yt{constructor(e,t){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="tpcapi",this.weight=.95;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};Fs=I([rt("TopicsAPIExperiment"),A(),O("design:paramtypes",[gt,Ft])],Fs);let Ns=class{constructor(e,t){this._bootstrapConfig=e,this.topicsDataRecevied=new R,this.topics=[],this._frame=document.createElement("iframe"),this.enabled=!this._bootstrapConfig.isGDPR&&t.result,this.enabled&&this._addIframeToPage().then((()=>{this._setupPostMessaging()}))}get topicsApiIframeLocation(){return`${this._bootstrapConfig.baseUrl}/html/topics.html`}_setupPostMessaging(){try{if(this._frame&&this._frame.contentWindow){const e=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(t=>{if(t.origin===e&&"adthrive_topics"===t.data.message&&t.data.topics&&t.data.topics.length){this.topics=this.topics.concat(t.data.topics);try{this.topicsDataRecevied.emit(this.topics)}catch(e){D.error("TopicsApiIframeManager","topics","received",e)}}})),this._frame.contentWindow.postMessage({message:"getTopicsApi"},e)}}catch(e){D.error("TopicsApiIframeManager","setupPostMessaging","Failed to set mcmp data",e)}}_addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.topicsApiIframeLocation,this._frame.id="adthrive-topics-api",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("TopicsApiIframeManager","addIframeToPage","Failed to append iframe to document",e)}return t}};Ns=I([rt("TopicsApiIframeManager"),A(),O("design:paramtypes",[Ut,Fs])],Ns);let js=class extends yt{constructor(e,t){super(),this._result=!1,this.key="jwb",this._choices=[{choice:!0},{choice:!1}],this.weight=.95;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],js.prototype,"run",null),js=I([rt("JwBoostExperiment"),A(),O("design:paramtypes",[gt,Ft])],js);let Us=class{constructor(e,t,i,s){this._config=e,this._jwBoostExperiment=t,this._topicsApiIframeManager=i,this._prebidMethods=s,this._data={},this.createOrtbDataObj(),this._config.marmalade.rfDataProcessed.on((()=>{this.createOrtbDataObj(),this._prebidMethods.setConfig({ortb2:this._data})}))}createOrtbDataObj(){this._userSegments=this._getUserSegments(),this._siteSegments=this._getSiteSegments(),this._data={...this._userSegments.length&&{user:{data:this._userSegments}},...this._siteSegments.length&&{site:{content:{data:this._siteSegments}}}}}get data(){return this._data}_getSiteSegments(){return this.buildSegmentData(this._config.marmalade.ortbSegments.get("iabc")||[],6)}_getUserSegments(){const e=this.buildSegmentData(this._config.marmalade.ortbSegments.get("iaba")||[],4),t=this._convertTopicData(this._topicsApiIframeManager.topics);return t.length||this._topicsApiIframeManager.topicsDataRecevied.on((e=>{this._setDelayedTopicsData(this._convertTopicData(e))})),e.concat(t)}_convertTopicData(e){return this.buildSegmentData(e.reduce(((e,t)=>e.concat({id:String(t.topic)})),[]),600,"adthrive.com")}_setDelayedTopicsData(e){this._prebidMethods.addToQueue((()=>{const t=this._prebidMethods.getConfig("ortb2")||{};t.user=t.user||{},t.user.data=t.user.data||[],t.user.data=t.user.data.concat(e),this._prebidMethods.setConfig({ortb2:t})}))}buildSegmentData(e,t,i="cafemedia.com"){return e.length?[{name:i,segment:e,ext:{segtax:t}}]:[]}buildSegmentDataFromArray(e,t,i){return this.buildSegmentData(e.map((e=>({id:e}))),t,i)}addOrtb2ImpExtPrebid(e,t=0){const i={ext:{data:{}}},s=e.ortb2Imp?{...i,...e.ortb2Imp}:i;return t&&(s.ext.prebid={floorMin:t}),s}setOrtb2Imp(e,t){if(t)for(const i of Object.keys(e))t[i]=e[i]}setOrtb2ImpExt(e,t){t&&(t.ext={...t.ext,...e})}setOrtb2ImpExtData(e,t){var i;t&&(t.ext=null!==(i=t.ext)&&void 0!==i?i:{},t.ext.data={...t.ext.data,...e})}_setVideoOrtb2ImpData(e,t){this.setOrtb2ImpExtData({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${t.name}/${this._config.site.id}`}},e),this._jwBoostExperiment.result&&this.setOrtb2ImpExtData({jwTargeting:t.getJwBoostTargeting()},e)}addOrtb2Imp(e,t=!1,i){const{slot:s,video:n}=e,r=i||{ext:{data:{}}};return this._config.context.fledgeSupported&&this.setOrtb2ImpExt({ae:1},r),n&&this._setVideoOrtb2ImpData(r,n),s&&t&&this.setOrtb2Imp({instl:1},r),s&&s.isHighlyViewable()&&this.setOrtb2ImpExtData({pos:"atf"},r),r}};Us=I([A(),O("design:paramtypes",[Ts,js,Ns,Bs])],Us);let qs=class{constructor(e,t,i,s){this._config=e,this._prebidMethods=t,this._ortb2=i,this._slots=s,this._amazonFloors={},this._videoFlagSlot={},this.modelVersionMap=new Map([]);const{legacy:n,rubicon:r}=this._config.floors.floorsExperiment;(n||r)&&this._prebidMethods.onEvent("auctionEnd",(e=>{this.setFloorTargeting("auctionEnd",e),e.adUnitCodes.forEach((e=>this._config.floors.clearFloorConfig(`${window.location.hostname}|${e}`)))}))}setValues(e,t,i){e.values[`${window.location.host}|${t}`]=i>0?i:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(e){e.modelGroups.length>0&&this._setPrebidFloors(e)}saveBids(e,t){const i=this._prebidMethods.getBidResponsesForAdUnitCode(e.id);return i.bids.forEach((e=>{t.push(e.cpm)})),i}prioritizeFloorsConfig(e,t){if(!Object.keys(e.values).length)return;const i=Object.keys(e.values),s=this._config.floors;let n={...s.cmFloorsConfig};for(const r of i){const i=e.values[r],o=s.establishedFloorsTypes[r],a=o&&s.cmPriority.indexOf(t)<=s.cmPriority.indexOf(o);if(!o||a){s.saveFloorConfig(r,t,i);const e={[r]:i};n={...n,...e}}}return e.values=n,this.setLegacyFloorsConfig(e),e}setLegacyFloorsConfig(e){this._setAmazonFloors(e);const t=this._config.floors.floorsExperiment.fallback,i=this._config.floors.floorsExperiment.fm,s=!t&&this._config.floors.floorsData||{floorProvider:"legacy",floorsSchemaVersion:2,modelGroups:[{...e,skipRate:0,modelWeight:100,modelVersion:"legacy"}]};if(i){s.skipRate=0;const t=this.setAdUnitCodeKeys(e.values);this._setAdUnitFloorMin(t)}return this.setPrebidFloors(s),s}createDelayedBidRace(e,t){let i=()=>{},s=0;const n=this._config.floors,r=new Promise((e=>{i=()=>{clearTimeout(s),e(!0)},s=window.setTimeout((()=>{e(!1)}),n.floorsExperiment.delay)}));return n.delayedBids[e][t]={parentBidResolve:i},r}handleDelayedBids(e,t){const i=this._config.floors;return i.delayedBids[e]||(i.delayedBids[e]={}),this.createDelayedBidRace(e,t)}removeDelayedBid(e,t){var i;null===(i=this._config.floors.delayedBids[e])||void 0===i||delete i[t]}_setAdUnitFloorMin(e){var t;(null===(t=pbjs.adUnits)||void 0===t?void 0:t.length)&&pbjs.adUnits.forEach((t=>{const i=e[t.code&&t.code.toLowerCase()];if(i){const e=this._ortb2.addOrtb2ImpExtPrebid(t,i);t.ortb2Imp=e}}))}_setPrebidFloors(e){this._prebidMethods.setConfig({floors:{enforcement:{enforceJS:!1},data:e}})}_setAmazonFloors({values:e,currency:t}){Object.keys(e).forEach((i=>{const s=i.split("|").length&&i.split("|")[1]||i;this._amazonFloors[s]={value:e[i],currency:t||"USD"}}))}getAmazonFloorsBySlotId(e){return this._amazonFloors[e]||this._amazonFloors[e.toLowerCase()]||{}}setAdUnitCodeKeys(e){return Object.keys(e).reduce(((t,i)=>(i.split("|").forEach((s=>{this.verifyAdUnitCode(s)&&(t[s.toLowerCase()]=e[i])})),t)),{})}verifyAdUnitCode(e){const t=!!/AdThrive_/i.exec(e),i=void 0!==[...this._config.video.instreamAdUnits].filter((t=>t.toLowerCase()===e.toLowerCase()))[0];return t||i}getVideoFlagSlot(e){return this._videoFlagSlot[e]}setVideoFlagSlot(e,t={}){return e&&(this._videoFlagSlot[e]={...this._videoFlagSlot[e],...t})}_getTargetingValue(e,t,i){const s=e&&"legacy"===e.floorProvider&&"L",n=e&&e.skipped&&"s",r=e&&this.modelVersionMap.get(e.modelVersion);let o=s||n||`${r}`;const a=t.adUnits[0].ortb2Imp&&t.adUnits[0].ortb2Imp.ext,l=a&&a.prebid&&a.prebid.floorMin;if(i&&this._config.floors.floorsData&&l){const i=t.adUnitCodes[0];o=this._getRubiconFloorForAdUnit(e.modelVersion,i)>l?`${r}`:"L"}return o}_getRubiconFloorForAdUnit(e,t){let i=0;const s=this._config.floors.floorsData.modelGroups.filter((t=>t.modelVersion===e))[0];if(s){const e=s.values,n=window.location.hostname,r=s.default,o=e["*|*"],a=e[`${n}|*`];i=e[`${n}|${t.toLowerCase()}`]||a||o||r||0}return i}setFloorTargeting(e,t){var i;const s=t.adUnitCodes[0],n=this._slots.get(s),r=null===(i=t.adUnits[0].bids[0])||void 0===i?void 0:i.floorData,o=r&&"auctionEnd"===e?this._getTargetingValue(r,t,this._config.floors.floorsExperiment.fm):"f",a=n&&n.id===s,l=Object.keys(Ae).some((e=>Ae[e]===s)),d=this.getFloorPrice(t);if(a)return n.setSlotTargetingFlag("fv",[o],!0),void n.setSlotTargetingFlag("hbf",[d.toString()],!0);l&&(this.setVideoFlagSlot(s,{fv:o}),this.setVideoFlagSlot(s,{hbf:d.toString()}))}getFloorPrice(e){return e.bidsReceived[0]&&e.bidsReceived[0].floorData&&e.bidsReceived[0].floorData.floorValue&&e.bidsReceived[0].floorData.floorValue.toFixed(2)||0}};qs=I([rt("Floors"),A(),O("design:paramtypes",[Ts,Bs,Us,As])],qs);class Hs{getSupplyChainConfig(e){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:e,hp:1}]}}}let Gs=class extends yt{constructor(e,t){super(),this._result=!1,this.key="amzn_hold_disp",this._choices=[{choice:!0},{choice:!1}],this.weight=.5;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Gs.prototype,"run",null),Gs=I([rt("AmazonLibraryExperiment"),A(),O("design:paramtypes",[gt,Ft])],Gs);let $s=class extends Ls{constructor(e,t,i,s,n){super(),this._config=e,this._amazonHoldDisplayExperiment=t,this._floors=i,this._videoEventBus=s,this._bootstrapConfig=n,this.holdDisplayExperiment=!1,this.videoSlotNames=new Map,this._amazonConfig={pubID:this._config.amazon.pubId,adServer:"googletag",videoAdServer:"DFP",...this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}},schain:(new Hs).getSupplyChainConfig(this._config.site.id)}}init(){this.checkLibLoaded().then((()=>{window.apstag.init(this._amazonConfig)})).catch((e=>{D.error("AmazonAuctionManager","init","Failed to initialize apstag",e)})),this._config.ccpa.consentChange.on((e=>{this._amazonConfig.params&&e&&(this._amazonConfig.params.us_privacy=e),window.apstag.init(this._amazonConfig)})),this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result,this.videoSlotNames=this.initVideoSlotMap()}requestBids(e,t=this._config.timeouts.initialBidsRequest-200,i=!1){const{id:s}=this._config.site,{networkCode:n,prefix:r}=this._config.gam;return new Promise((o=>{this.checkLibLoaded().then((a=>{if(!a)return o();Vs.pushToQueue((()=>{const a=e.filter((e=>void 0!==e.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(e.location))).map((e=>{const t=this._floors.getAmazonFloorsBySlotId(e.element.id);return{slotID:e.element.id,slotName:`/${n}/${r}_${e.name}/${s}`,sizes:e.sizes,..."Video_StickyOutstream"===e.location&&{mediaType:"video"},...t&&t.value>0&&t.currency&&{floor:{value:Math.ceil(100*t.value),currency:t.currency}}}}));a.length?(window.apstag.fetchBids({slots:a,timeout:t,params:{adRefresh:i?"1":"0"}},(()=>{Vs.pushToQueue((()=>{window.apstag.setDisplayBids(),o()}))})),this.holdDisplayExperiment||o()):o()}))})).catch((e=>{D.error("AmazonAuctionManager","requestBids",e)}))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest-200,!0)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest-200){return Promise.all(e.map((e=>{const i=this._floors.getAmazonFloorsBySlotId(e.name),s={slotID:this.videoSlotNames.get(e.name),mediaType:"video",...i&&i.currency&&{floor:{value:Math.ceil(100*i.value),currency:i.currency}}};return new Promise((i=>{this.checkLibLoaded().then((n=>{if(!n)return i();s?window.apstag.fetchBids({slots:[s],timeout:t},(t=>{t.length>0&&this._videoEventBus.addAPStagSlotBidResponse.legacyEmit({playlistId:e._playlistId,bid:t[0]}),i()})):i()})).catch((e=>{console.log("sup"),D.error("AmazonAuctionManager","requestVideoBids",e)}))}))}))).then((()=>Promise.resolve())).catch()}initVideoSlotMap(){const e={desktop:new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[Ae.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),mobile:new Map([[Ae.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[Ae.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]])};return we()?e.desktop:e.mobile}get videoEnabled(){return this._config.partners.video.get("AmazonUAM")}get enabled(){return void 0!==window.apstag&&this._config.amazon.enabled}async checkLibLoaded(){try{return await this._bootstrapConfig.bootstrapLoaders[xe.Amazon],!0}catch(e){return D.error("AmazonAuctionManager","checkLibLoaded",e),!1}}};$s=I([rt("AmazonAuctionManager"),P(),O("design:paramtypes",[Ts,Gs,qs,Ct,Ut])],$s);let Ws=class extends Os{constructor(e){super(),this._config=e}init(){this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){this._config.footer.elements.push({order:1,element:'\n      <div class="adthrive-privacy-preferences">\n        <a href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);">Update Privacy Preferences</a>\n      </div>\n    '})}};Ws=I([rt("GDPRComponent"),P(),O("design:paramtypes",[Ts])],Ws);let Ks=class extends Os{constructor(e,t){super(),this._events=e,this._config=t}init(){D.queueLogs=!0,this.checkConsent().then((e=>{e?(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(e),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):D.disableLogging=!0})).catch((e=>{D.error("init","checkConsentForVendor",e)}))):this.listenForConsentSubmit().catch((e=>{D.error("init","listenForConsentSubmit",e)}))})).catch((e=>{D.error("init","checkConsent",e)}))}checkConsent(){return new Promise((e=>{window.__tcfapi("getTCData",2,((t,i)=>i&&t&&t.tcString?e(t.tcString):e("")))}))}checkConsentForVendor(e,t){return new Promise((i=>{window.__tcfapi("checkConsent",2,((e,t)=>i(!!t&&e)),{data:[{vendorId:e,purposeIds:t}]})}))}listenForConsentSubmit(){return new Promise((e=>{window.__tcfapi("addEventListener",2,((t,i)=>{i&&(t&&"useractioncomplete"===t.eventStatus&&(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(t.tcString),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):(D.disableLogging=!0,D.clearLogQueue(!1))})).catch((e=>{D.error("listenForConsentSubmit","checkConsentForVendor",e)})),window.__tcfapi("removeEventListener",2,(e=>{}),t.listenerId)),e(!0)),e(!1)}))}))}get enabled(){return"function"==typeof window.__tcfapi}};Ks=I([rt("GDPREnforcementComponent"),P(),O("design:paramtypes",[Mt,Ts])],Ks);class Qs{}let Xs=class extends yt{constructor(e){super(),this.key="pba",this._choices=[{choice:{name:"roxot",weight:1}},{choice:{name:"none",weight:99}}],this._result=this.run(),e.set("pba",this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight})));return new Pt(e).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],Xs.prototype,"run",null),Xs=I([rt("AnalyticsExperiment"),A(),O("design:paramtypes",[gt])],Xs);let Ys=class extends Qs{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._analyticsExperiment=i,this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],host:`${this._config.context.bucket}.com`}})}catch(e){D.error("RoxotAnalytics","init - ignored",e)}else D.error("RoxotAnalytics","init",new Error("Disabled roxot because localStorage is undefined"))}get enabled(){var e;return"roxot"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};Ys=I([rt("RoxotAnalytics"),P(),O("design:paramtypes",[Ts,Bs,Xs])],Ys);let Js=class extends Qs{constructor(e,t){super(),this._floorsExperiment=e,this._prebidMethods=t,this.name="rubicon"}init(){try{this._prebidMethods.enableAnalytics({provider:this.name,options:{accountId:9262,endpoint:"https://prebid-a.rubiconproject.com/event"}})}catch(e){D.error("RubiconAnalytics","init - ignored",e)}}get enabled(){return"rubi"===this._floorsExperiment.result}};Js=I([rt("RubiconAnalytics"),P(),O("design:paramtypes",[Yt,Bs])],Js);class Zs extends class{updateBidParams(e,t){}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}_addPositionParam(e,t){e.params.position=t}_addPlacementIdParam(e,t){e.params.placementId=t}_addBidLabel(e,t){const i=e.labelAny||[];i.includes(t)||(e.labelAny=i.concat(t))}}{getSlotBidRequests(e){}getVideoSlotBidRequests(e){}getBidRequests(e){return e.reduce(((e,t)=>(e.set(t.id,this.getSlotBidRequests(t)),e)),new Map)}getVideoBidRequests(e){return e.reduce(((e,t)=>(e.set(t.name,this.getVideoSlotBidRequests(t)),e)),new Map)}}let en=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.ThirtyThreeAcross),this.videoCreativeIds=[["138395447475",Ui.ThirtyThreeAcross],["138395937226",Ui.ThirtyThreeAcross],["138395937256",Ui.ThirtyThreeAcross],["138395937310",Ui.ThirtyThreeAcross],["138395937325",Ui.ThirtyThreeAcross],["138395447241",Ui.ThirtyThreeAcross],["138395937274",Ui.ThirtyThreeAcross],["138395937313",Ui.ThirtyThreeAcross],["138395937319",Ui.ThirtyThreeAcross],["138395937343",Ui.ThirtyThreeAcross],["138395937349",Ui.ThirtyThreeAcross],["138395937304",Ui.ThirtyThreeAcross],["138395937307",Ui.ThirtyThreeAcross],["138395937322",Ui.ThirtyThreeAcross],["138395937346",Ui.ThirtyThreeAcross],["138395445846",Ui.ThirtyThreeAcross]],this._bannerProductId="siab",this._videoProductId="instream",this._bannerMap=new Map([["Below_Post","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9","cggK7W_Lur6ikfaKlId8sQ"]]),this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"a_lKMg0Iar7k8brkHcnlxd"],[Ae.Video_Coll_SOff_Smartphone,"b7sKMM0Iar7ikGrkHcnnVW"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"c98www0Iar7ioerkHcnlKl"],[Ae.Video_Individual_Autoplay_SOff,"bhUZlu0Ier7ioerkHcnlKl"]])}get enabled(){return this._config.partners.display.get(Ui.ThirtyThreeAcross)}get videoEnabled(){const e=this._config;return e.partners.video.get(Ui.ThirtyThreeAcross)&&!!e.video.playbackmethod}getSlotBidRequests(e){const t=this._bannerMap,i=t.has(e.placementMapName)&&t.get(e.placementMapName);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._bannerProductId}}]}getVideoSlotBidRequests(e){const t=this._videoMap,i=t.has(e.name)&&t.get(e.name);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._videoProductId}}]}};en=I([rt("ThirtyThreeAcrossBidder"),P(),O("design:paramtypes",[Ts])],en);let tn=class{constructor(e){this._config=e,this._sharedConfig={context:"outstream",mimes:["video/mp4","application/javascript"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:30,playbackmethod:[2]},this._rendererConfig={renderer:{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:e=>{this._renderer(e)}}};const{desktop:t,tablet:i}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===X(i,t)?[178,100]:[227,150]}_callANRenderer(e,t,i){const s=this._getOutstreamRendererConfig(t,i);e.renderer.push((()=>{this._callANRenderAd(s,e.adUnitCode)}))}_callANRenderAd(e,t){window.ANOutstreamVideo.renderAd({targetId:t,adResponse:e,rendererOptions:{audioOnMouseover:!1,playerSkin:{topBarColor:"rgba(0,0,0,0.0)",topBarTextColor:"rgba(0,0,0,0.0)"},playVideoVisibleThreshold:1,disableCollapse:{enabled:!1,replay:!1}}})}_renderer(e){let t=e.ad||e.vastXml;const i=-1!==e.adUnitCode.indexOf("StickyOutstream"),s=i?this._stickyOutstreamSize:e.width&&e.height?[e.width,e.height]:[640,480],n=i?"StickyOutstream":"Outstream";t?this._callANRenderer(e,t,s):e.vastUrl&&(t=ce(e.vastUrl),t.then((t=>(this._callANRenderer(e,t,s),!0))).catch((e=>(D.error(n,"fetch",{message:e}),!1))))}callANRendererWithUrl(e,t,i=!1){const s=ce(e),n=i?"StickyOutstream":"Outstream",r=i?this._stickyOutstreamSize:[640,480];s.then((e=>{const i=this._getOutstreamRendererConfig(e,r);this._callANRenderAd(i,t)})).catch((e=>(D.error(n,"callANRendererWithUrl","fetch",{message:e}),!1)))}get standardOutstreamConfig(){const e={...this._rendererConfig};return e.renderer.backupOnly=!0,{playerSize:[640,480],...this._sharedConfig,...e}}get stickyOutstreamConfig(){return{...this._sharedConfig,...this._rendererConfig,placement:5,playerSize:this._stickyOutstreamSize}}_getOutstreamRendererConfig(e,t){return{ad:{video:{content:e,player_width:t[0],player_height:t[1]}}}}};tn=I([P(),O("design:paramtypes",[Ts])],tn);let sn=class extends yt{constructor(e,t,i){super(),this._result=!1,this.key="rmosnv1",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const s=i.getCoreExperiment(this.key);!t.video.hasJwPlayer&&s&&(this.weight=s.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};sn=I([rt("OneVideoStreamNoVideoExperiment"),A(),O("design:paramtypes",[gt,Ts,Ft])],sn);let nn=class extends yt{constructor(e,t){super(),this._result=!1,this.key="rmos1",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};nn=I([rt("OneVideoStreamExperiment"),A(),O("design:paramtypes",[gt,Ft])],nn);let rn=class extends Qt{init(){this._key="socon"}};rn=I([rt("OutstreamSOCONExperiment"),A()],rn);let on=class{constructor(e,t,i,s,n){this._config=e,this._gam=t,this._outstream=i,this._oneVideoStreamExperiment=s,this._soconExperiment=n,this._standardOutstreamSlots=["Content_1","Below_Post"],this.oneStreamExpResult=!1}runOneStreamExperiment(){const e=x.resolve(sn);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")}),this.oneStreamExpResult=e.result,this.oneStreamExpResult&&["Content_3","Content_5","Recipe_1"].forEach((e=>{this._standardOutstreamSlots.push(e)}))}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}isSlowConnection(){var e;const t=null!==(e=this._soconExperiment.result)&&void 0!==e?e:0;if(void 0!==this._config.context.downlink){return this._config.context.downlink<=t}return!1}outstreamEnabled(e){const t=e.viewability,i=e.refreshCount,s="Video_StickyOutstream"===e.location,n=i>=1||t>=.5||s,r=!s&&this.isSlowConnection(),o=(this._config.adTypes.outstreamEnabled||s)&&this.outstreamSlots.has(e.placementMapName)&&this.isOutstreamAllowed()&&!r;return{outstreamCapable:o,currentlyActive:o&&n}}getMediaType(e){const t={},{slot:i,video:s}=e;if(s&&this._config.video.instreamAdUnits.has(s.name)){const e=this.getInstreamConfig(s);t.video=e}if(i){const e={sizes:i.sizes,...i.isHighlyViewable()&&{pos:1}};"Video_StickyOutstream"!==i.location&&(t.banner=e),this.outstreamEnabled(i).currentlyActive&&(t.video="Video_StickyOutstream"!==i.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig)}return t}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(e){var t;return{context:"instream",playerSize:e.size,mimes:this._config.video.mimeType,protocols:this._config.video.videoProtocols.protocols,maxduration:30,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)},...e.collapsible&&{playbackend:3},linearity:1,api:this._config.video.apiValue,w:e.size[0],h:e.size[1],pos:this._config.video.position.id,minduration:1,startdelay:0,placement:1,skip:0}}};on=I([A(),O("design:paramtypes",[Ts,Vs,tn,nn,rn])],on);let an=class extends Zs{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.AppNexus),this.videoCreativeIds=[["138323232312",Ui.AppNexus],["138323908966",Ui.AppNexus],["138323900998",Ui.AppNexus],["138323900548",Ui.AppNexus],["138323457386",Ui.AppNexus],["138323908963",Ui.AppNexus],["138323908960",Ui.AppNexus],["138323901004",Ui.AppNexus],["138323901001",Ui.AppNexus],["138323521089",Ui.AppNexus],["138323457473",Ui.AppNexus],["138323908969",Ui.AppNexus],["138323908957",Ui.AppNexus],["138323908954",Ui.AppNexus],["138323900995",Ui.AppNexus],["138323521092",Ui.AppNexus]],this._keywords={keywords:{...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket],Chrome:`${H()}`,Mobile:""+navigator.userAgent&&navigator.userAgent.search(/Mobi/i)>-1,...this._config.site.verticals.length&&{verticals:this._config.site.verticals}}},this.outstreamType=te()?"outstreamMobile":"outstreamDesktop",this._map=new Map([["Below_Post",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[Ae.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[Ae.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[Ae.Video_Individual_Autoplay_SOff,[{placementId:17947919,playback_method:["auto_play_sound_off"]}]]]),this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.display.get(Ui.AppNexus)}get videoEnabled(){return this._config.partners.video.get(Ui.AppNexus)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:e})=>!e||this._config.adTypes.has(e))).map((({adType:t,placementId:i,playback_method:s})=>{const n=t===this.outstreamType?{video:{playback_method:s}}:"",r=t===this.outstreamType&&!this._mediaType.outstreamEnabled(e).currentlyActive;return{bidder:this.name,...r?{labelAny:["refresh"]}:{},params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:i,...n,...e.isHighlyViewable()&&{position:"above"}}}}))}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name))return[{bidder:this.name,params:{...this._keywords,placementId:this._map.get(e.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},frameworks:this._config.video.apiValue}}}]}updateBidParams(e){this._addPositionParam(e,"above")}};an=I([rt("AppNexusBidder"),P(),O("design:paramtypes",[Ts,on])],an);let ln=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Brightroll),this._params={publisher:"adthrive"},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"])}get enabled(){return this._config.partners.display.get(Ui.Brightroll)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}};ln=I([rt("BrightRollBidder"),P(),O("design:paramtypes",[Ts])],ln);let dn=class extends yt{constructor(e){super(),this._choices=[{choice:"both",weight:100},{choice:"client",weight:0},{choice:"server",weight:0}],this.key="coldr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],dn.prototype,"run",null),dn=I([rt("ColossusExperiment"),A(),O("design:paramtypes",[gt])],dn);let cn=class extends Zs{constructor(e,t){super(),this._config=e,this._colossusExperiment=t,this.adapterName="colossusssp",this.bidderConfig=this._config.partners.getBidderConfig(Ui.Colossus),this.videoCreativeIds=[["138384629372",Ui.Colossus],["138384629375",Ui.Colossus],["138384699576",Ui.Colossus],["138384629339",Ui.Colossus],["138384699561",Ui.Colossus],["138384699546",Ui.Colossus],["138384629351",Ui.Colossus],["138384629381",Ui.Colossus],["138384629366",Ui.Colossus],["138384629378",Ui.Colossus],["138384629384",Ui.Colossus],["138384699564",Ui.Colossus],["138384629363",Ui.Colossus],["138384699582",Ui.Colossus],["138384699579",Ui.Colossus]],this._desktopBannerMap=new Map([["Below_Post",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"368"],[Ae.Video_Coll_SOff_Smartphone,"369"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"370"],[Ae.Video_Individual_Autoplay_SOff,"371"]]);const i=this._bannerMap;this._map=te()?i.mobile:i.desktop}get enabled(){return this._config.partners.display.get(Ui.Colossus)&&"server"!==this._colossusExperiment.result}get videoEnabled(){return this._config.partners.video.get(Ui.Colossus)&&"server"!==this._colossusExperiment.result}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{group_id:t.id,traffic:"banner"}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(e.name),traffic:"video"}}]}};cn=I([rt("ColossusBidder"),P(),O("design:paramtypes",[Ts,dn])],cn);let hn=class extends Zs{constructor(e,t){super(),this._config=e,this._colossusExperiment=t,this.adapterName="colossus",this.bidderConfig=this._config.partners.getBidderConfig(Ui.ColossusServer),this.videoCreativeIds=[["138399171431",Ui.ColossusServer],["138396598194",Ui.ColossusServer],["138397072123",Ui.ColossusServer],["138397072117",Ui.ColossusServer],["138397070791",Ui.ColossusServer],["138396598191",Ui.ColossusServer],["138397072120",Ui.ColossusServer],["138397070788",Ui.ColossusServer],["138396598197",Ui.ColossusServer],["138396598188",Ui.ColossusServer],["138396598158",Ui.ColossusServer],["138396598152",Ui.ColossusServer],["138397073191",Ui.ColossusServer],["138397072102",Ui.ColossusServer],["138396598200",Ui.ColossusServer],["138396598155",Ui.ColossusServer]],this._desktopBannerMap=new Map([["Below_Post",{id:"455",size:[300,250]}],["Content",{id:"456",size:[300,250]}],["Content_1",{id:"457",size:[300,250]}],["Content_2",{id:"458",size:[300,250]}],["Content_3",{id:"459",size:[300,250]}],["Content_4",{id:"460",size:[300,250]}],["Content_5",{id:"461",size:[300,250]}],["Content_6",{id:"462",size:[300,250]}],["Content_7",{id:"463",size:[300,250]}],["Content_8",{id:"464",size:[300,250]}],["Content_9",{id:"465",size:[300,250]}],["Footer_1",{id:"466",size:[728,90]}],["Header_1",{id:"467",size:[728,90]}],["Header_2",{id:"468",size:[728,90]}],["Recipe_1",{id:"469",size:[300,250]}],["Recipe_2",{id:"470",size:[300,250]}],["Recipe_3",{id:"471",size:[300,250]}],["Recipe_4",{id:"472",size:[300,250]}],["Recipe_5",{id:"473",size:[300,250]}],["Sidebar_1",{id:"474",size:[300,250]}],["Sidebar_2",{id:"475",size:[300,250]}],["Sidebar_3",{id:"476",size:[300,250]}],["Sidebar_4",{id:"477",size:[300,250]}],["Sidebar_5",{id:"478",size:[300,250]}],["Sidebar_9",{id:"479",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"481",size:[300,250]}],["Content",{id:"482",size:[300,250]}],["Content_1",{id:"483",size:[300,250]}],["Content_2",{id:"484",size:[300,250]}],["Content_3",{id:"485",size:[300,250]}],["Content_4",{id:"486",size:[300,250]}],["Content_5",{id:"487",size:[300,250]}],["Content_6",{id:"488",size:[300,250]}],["Content_7",{id:"489",size:[300,250]}],["Content_8",{id:"490",size:[300,250]}],["Content_9",{id:"491",size:[300,250]}],["Footer_1",{id:"492",size:[320,50]}],["Header_1",{id:"493",size:[320,50]}],["Header_2",{id:"494",size:[320,50]}],["Recipe_1",{id:"495",size:[300,250]}],["Recipe_2",{id:"496",size:[300,250]}],["Recipe_3",{id:"497",size:[300,250]}],["Recipe_4",{id:"498",size:[300,250]}],["Recipe_5",{id:"499",size:[300,250]}],["Sidebar_1",{id:"500",size:[300,250]}],["Sidebar_2",{id:"501",size:[300,250]}],["Sidebar_3",{id:"502",size:[300,250]}],["Sidebar_4",{id:"503",size:[300,250]}],["Sidebar_5",{id:"504",size:[300,250]}],["Sidebar_9",{id:"505",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"450"],[Ae.Video_Coll_SOff_Smartphone,"451"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"452"],[Ae.Video_Individual_Autoplay_SOff,"453"]]);const i=this._bannerMap;this._map=te()?i.mobile:i.desktop}get enabled(){return this._config.partners.display.get(Ui.Colossus)&&"client"!==this._colossusExperiment.result}get videoEnabled(){return this._config.partners.video.get(Ui.Colossus)&&"client"!==this._colossusExperiment.result}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{groupId:t.id}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{groupId:this._videoMap.get(e.name)}}]}};hn=I([rt("ColossusServerBidder"),P(),O("design:paramtypes",[Ts,dn])],hn);let pn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Conversant),this._siteId="203587",this._map=new Map([["Below_Post",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[Ae.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[Ae.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[Ae.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[Ae.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.display.get(Ui.Conversant)}get videoEnabled(){return this._config.partners.video.get(Ui.Conversant)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{tag_id:this._map.get(e.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{tag_id:this._map.get(e.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},position:this._config.video.position.id}}]}};pn=I([rt("ConversantBidder"),P(),O("design:paramtypes",[Ts])],pn);let un=class extends Zs{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Criteo),this.videoCreativeIds=[["138381583896",Ui.Criteo],["138381548372",Ui.Criteo],["138381548387",Ui.Criteo],["138381548384",Ui.Criteo],["138381548525",Ui.Criteo],["138381548522",Ui.Criteo],["138381548516",Ui.Criteo],["138381548513",Ui.Criteo],["138382062244",Ui.Criteo],["138382062241",Ui.Criteo],["138382062238",Ui.Criteo],["138382062235",Ui.Criteo],["138382062232",Ui.Criteo],["138382062226",Ui.Criteo],["138382062223",Ui.Criteo],["138381584697",Ui.Criteo]],this.settings={storageAllowed:!0},this._params={networkId:3927},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"]),this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"1629631"],[Ae.Video_Coll_SOff_Smartphone,"1629630"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[Ae.Video_Individual_Autoplay_SOff,"1629401"]]),this._prebidMethods.setConfig({criteo:{fastBidVersion:"none"}})}get enabled(){return this._config.partners.display.get(Ui.Criteo)}get videoEnabled(){return this._config.partners.video.get(Ui.Criteo)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(e.name),video:{playbackmethod:(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))||[]}}}]}};un=I([rt("CriteoBidder"),P(),O("design:paramtypes",[Ts,Bs])],un);let gn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.GumGum),this.videoCreativeIds=[["138330842944",Ui.GumGum],["138330432527",Ui.GumGum],["138330466869",Ui.GumGum],["138330842389",Ui.GumGum],["138330842452",Ui.GumGum],["138330432530",Ui.GumGum],["138330432548",Ui.GumGum],["138330432551",Ui.GumGum],["138330466908",Ui.GumGum],["138330842464",Ui.GumGum],["138330842470",Ui.GumGum],["138330466872",Ui.GumGum],["138330842458",Ui.GumGum],["138330842461",Ui.GumGum],["138330842467",Ui.GumGum],["138330842455",Ui.GumGum]],this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}},this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Footer_1",[]],[Ae.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[Ae.Video_Coll_SOff_Smartphone,"5zl85htf"],[Ae.Video_Individual_Autoplay_SOff,"8jzhuyj5"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"dtwgesum"]]),this._animatedFooterEnabled=this._config.adTypes.animatedFooter,this._interstitialEnabled=this._config.adOptions.interstitial.prebid,this._contextualAuctionParams=this._config.prebid.s2s.bidders.includes(this.name)?{zone:this._zoneIds.s2s[this._config.context.device]}:{inScreen:this._zoneIds.client}}get enabled(){return this._config.partners.display.get(Ui.GumGum)&&(this._animatedFooterEnabled||this._interstitialEnabled)}get videoEnabled(){return this._config.partners.video.get(Ui.GumGum)}getSlotBidRequests(e){const t=this._map.get(e.placementMapName),i="Footer"===e.location&&this._animatedFooterEnabled,s="Interstitial"===e.location;if(t&&(i||s))return[{bidder:this.name,params:{...this._contextualAuctionParams,...s&&{slot:t[0].slotId}}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{video:this._map.get(e.name)}}]}};gn=I([rt("GumGumBidder"),P(),O("design:paramtypes",[Ts])],gn);const _n=new Map([["Below_Post",{siteId:"185759",hvSiteId:"404596"}],["Content_1",{siteId:"185761",hvSiteId:"404597",outstreamSiteId:"820298"}],["Content_2",{siteId:"185762",hvSiteId:"404598"}],["Content_3",{siteId:"185763",hvSiteId:"404599"}],["Content_4",{siteId:"185764",hvSiteId:"404600"}],["Content_5",{siteId:"185765",hvSiteId:"404601"}],["Content_6",{siteId:"185766",hvSiteId:"404602"}],["Content_7",{siteId:"185767",hvSiteId:"404603"}],["Content_8",{siteId:"185768",hvSiteId:"404604"}],["Content_9",{siteId:"185769",hvSiteId:"404605"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774",hvSiteId:"404607"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777",hvSiteId:"404609"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523",hvSiteId:"404611"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167"}]]),mn=new Map([["Below_Post",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,480],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[728,410],id:"4_2"},{size:[320,50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"}]],["Content_6",[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"}]],["Content_7",[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),yn=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[Ae.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",id:"46_2"}]],[Ae.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]);let fn=class extends Zs{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._mediaType=i,this._bidderName=Ui.IndexExchange,this._device=we()?"desktop":"mobile",this._hasLargeFormatSiteCode=this._config.marmalade.siteCodes.includes("MRLOI_22"),this._largeFormatSizes=this._hasLargeFormatSiteCode?"desktop"===this._device?[[728,410]]:[[320,480]]:[],this.bidderConfig=this._config.partners.getBidderConfig(Ui.IndexExchange),this.videoCreativeIds=[["138323461889",Ui.IndexExchange],["138365130553",Ui.IndexExchange],["138323602520",Ui.IndexExchange],["138323911414",Ui.IndexExchange],["138365130307",Ui.IndexExchange],["138323648223",Ui.IndexExchange],["138323911009",Ui.IndexExchange],["138364758402",Ui.IndexExchange],["138323523396",Ui.IndexExchange],["138364703774",Ui.IndexExchange],["138323464748",Ui.IndexExchange],["138364758405",Ui.IndexExchange],["138323911423",Ui.IndexExchange],["138365130310",Ui.IndexExchange],["138323911420",Ui.IndexExchange],["138365130313",Ui.IndexExchange],["138323911411",Ui.IndexExchange],["138364758408",Ui.IndexExchange],["138323911012",Ui.IndexExchange],["138364703777",Ui.IndexExchange],["138323523390",Ui.IndexExchange],["138364758411",Ui.IndexExchange],["138323523387",Ui.IndexExchange],["138365130316",Ui.IndexExchange],["138323911426",Ui.IndexExchange],["138364758414",Ui.IndexExchange],["138323911408",Ui.IndexExchange],["138364703780",Ui.IndexExchange],["138323911405",Ui.IndexExchange],["138364703783",Ui.IndexExchange],["138323523393",Ui.IndexExchange],["138364758417",Ui.IndexExchange],["138323911417",Ui.IndexExchange],["138365130319",Ui.IndexExchange]]}get enabled(){return this._config.partners.display.get(Ui.IndexExchange)}get videoEnabled(){return this._config.partners.video.get(Ui.IndexExchange)}init(){const e=de(),t=this._config,i=t.site,s=[...i.verticals].filter(ee),n=i.filteredSensitiveCategories,r={PD:`${t.adOptions.pmp?"":"no"}${t.context.device}`,...s.length&&{Topic:s.join("#Topic:")},...n.length&&{Sens:n.join("#Sens:")},Source:ge(e),Browser:$(),vp:"0"};var o,a;ue(r,this._prebidMethods),this._largeFormatSizes.length&&(o=this._largeFormatSizes,(a=this._prebidMethods).addToQueue((()=>{const e=a.getConfig("ix");e.largeFormatSizes=o,a.setConfig({ix:e})})))}getVideoBidRequests(e){return e.reduce(((t,i)=>{const s=this.getVideoSizeSites(e).filter((e=>e.video===i)).map((e=>{const{siteId:t,id:s,size:n}=e.sizeSite,r=this.getPrebidAdUnitBidRequest(t,s,n);return r.params.video=this.getVideoParams(i.name),r}));return t.set(i.name,s)}),new Map)}getBidRequests(e){return e.reduce(((t,i)=>{const s=_n.get(i.placementMapName),n=this._mediaType.outstreamEnabled(i).outstreamCapable,r="Video_StickyOutstream"===i.location,o=[];if(!s)return t;return t.set(i.id,this.getSlotSizeIds(e).filter((e=>e.slot===i)).reduce(((e,{sizeId:{id:t,size:a}})=>{const l=(e,i,s=!1,n="")=>{const o=this.getPrebidAdUnitBidRequest(i,t,a,r,s,n);e.push(o)},d=s.hvSiteId,c=n?s.outstreamSiteId:void 0;return d&&l(e,d,!1,`hvp_${i.placementMapName}`),e.push(this.getPrebidAdUnitBidRequest(s.siteId,t,a,r)),c&&!this._config.video.hasStickyOutstream&&l(o,c,!0,`outstreamActive_${i.placementMapName}`),e}),[]).concat(o))}),new Map)}getVideoParams(e,t){const i={...this._config.video,...t},s=i.playbackmethod&&i.playbackmethod.get(e),n=new Map([[3,[3]],[6,[2]]]),r=s&&{playbackmethod:n.get(s[0])};return{api:i.apiValue,mimes:i.mimeType,...r,minduration:0,maxduration:30,protocols:i.videoProtocols.protocols,pos:i.position.id}}getPrebidAdUnitBidRequest(e,t,i,s=!1,n=!1,r=""){return{bidder:this._bidderName,...r&&{labelAny:[r]},params:{id:t,siteId:e,...s||n?{video:{}}:{size:i}}}}getSlotSizeIds(e){return e.filter((e=>mn.has(e.placementMapName))).reduce(((e,t)=>[...e,...mn.get(t.placementMapName).filter((({size:e})=>t.hasSize(e)||this.largeFormatSizeEnabled(e))).map((e=>({slot:t,sizeId:e})))]),[])}largeFormatSizeEnabled([e,t]){return this._largeFormatSizes.some((([i,s])=>e===i&&t===s))}getVideoSizeSites(e){return e.filter((e=>yn.has(e.name))).reduce(((e,t)=>[...e,...yn.get(t.name).filter((({device:e,size:i})=>(!e||e&&e===this._device)&&t.size[0]===i[0]&&t.size[1]===i[1])).map((e=>({video:t,sizeSite:e})))]),[])}};fn=I([rt("IndexExchangeBidder"),P(),O("design:paramtypes",[Ts,Bs,on])],fn);const[vn,bn,Sn,Cn,wn]=["desktop","content","sidebar","header","footer"],En={desktop:{content:{placementId:"_mfu14jCkaN",size:[300,250]},header:{placementId:"_vzS4k9rMKu",size:[728,90]},sidebar:{placementId:"_zxmQwsW17E",size:[300,600]},footer:{placementId:"_lP4vuVhICu",size:[728,90]}}},kn=new Map([["Below_Post",[En[vn][bn],En[vn][Cn]]],["Content_1",[En[vn][bn],En[vn][Cn]]],["Content_2",[En[vn][bn],En[vn][Cn]]],["Content_3",[En[vn][bn],En[vn][Cn]]],["Content_4",[En[vn][bn],En[vn][Cn]]],["Content_5",[En[vn][bn],En[vn][Cn]]],["Content_6",[En[vn][bn],En[vn][Cn]]],["Content_7",[En[vn][bn],En[vn][Cn]]],["Content_8",[En[vn][bn],En[vn][Cn]]],["Content_9",[En[vn][bn],En[vn][Cn]]],["Header_1",[En[vn][Cn],En[vn][bn]]],["Header_2",[En[vn][Cn],En[vn][bn]]],["Footer_1",[En[vn][wn]]],["Recipe_1",[En[vn][bn]]],["Recipe_2",[En[vn][bn]]],["Recipe_3",[En[vn][bn]]],["Recipe_4",[En[vn][bn]]],["Recipe_5",[En[vn][bn]]],["Sidebar_1",[En[vn][Sn],En[vn][bn]]],["Sidebar_2",[En[vn][Sn],En[vn][bn]]],["Sidebar_3",[En[vn][Sn],En[vn][bn]]],["Sidebar_4",[En[vn][Sn],En[vn][bn]]],["Sidebar_5",[En[vn][Sn],En[vn][bn]]],["Sidebar_9",[En[vn][Sn],En[vn][bn]]],[Ae.Video_Collapse_Autoplay_SoundOff,[{placementId:"_kWJDXIuROl",size:[640,360]}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_fR1aawM8Zo",size:[640,360]}]],[Ae.Video_Individual_Autoplay_SOff,[{placementId:"_nmpcOw19lD",size:[640,360]}]]]),xn=new Map([[Ae.Video_Coll_SOff_Smartphone,[{placementId:"_kUg4kKElHf",size:[400,225]}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_upDLM7q4jV",size:[400,225]}]],[Ae.Video_Individual_Autoplay_SOff,[{placementId:"_fyab3CymN5",size:[400,225]}]]]),Tn=new Map([["10000",{id:"_htv2gWQDl4",isOutstream:!1}],["11000",{id:"_rEapvpk6cZ",isOutstream:!0}],["11100",{id:"_hDLFEUkifu",isOutstream:!0}],["10100",{id:"_kEvPWSnblw",isOutstream:!1}],["00011",{id:"_hRaLC9FgYn",isOutstream:!1}],["00010",{id:"_iyznbek6ki",isOutstream:!1}],["00001",{id:"_g1dEyYpnCU",isOutstream:!1}]]),Pn=["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_5","Content_6","Content_7","Content_8","Content_9","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"],An=["Below_Post","Content_1"],In={desktop:kn,mobile:xn},Mn=["Below_Post","Content_1","Content_3","Content_5","Recipe_1"];let On=class extends Zs{constructor(e,t,i){super(),this.adthrive=e,this._config=t,this._mediaType=i,this._device=te()?"mobile":"desktop",this._map=In[this._device],this.bidderConfig=this._config.partners.getBidderConfig(Ui.Kargo),this.videoCreativeIds=[["138381592896",Ui.Kargo],["138381553202",Ui.Kargo],["138381553217",Ui.Kargo],["138381553238",Ui.Kargo],["138381553328",Ui.Kargo],["138381553214",Ui.Kargo],["138381553235",Ui.Kargo],["138381553244",Ui.Kargo],["138381553331",Ui.Kargo],["138381553334",Ui.Kargo],["138382066465",Ui.Kargo],["138381553241",Ui.Kargo],["138381553325",Ui.Kargo],["138381553337",Ui.Kargo],["138381553340",Ui.Kargo],["138382066468",Ui.Kargo]],this.settings={storageAllowed:!0}}get enabled(){return this._config.partners.display.get(Ui.Kargo)}get videoEnabled(){return this._config.partners.video.get(Ui.Kargo)}createBitStringAdOptions(e){const t=e.hasSize([300,250]),i=e.hasSize([320,50]);return[+this.isBanner(e,t,i),+this.isOutstream(e,t),+this.isInterscroller(e),+this.isAnimatedFooter(e,i),+this.isExpandableFooter(e,i)].join("")}isBanner(e,t,i){return t&&i&&Pn.includes(e.placementMapName)}isOutstream(e,t){return t&&Mn.includes(e.placementMapName)&&this._mediaType.outstreamEnabled(e).outstreamCapable}isInterscroller(e){return this._config.adTypes.has("interscroller")&&An.includes(e.placementMapName)}isAnimatedFooter(e,t){return t&&this._config.adTypes.has("animatedFooter")&&"Footer_1"===e.placementMapName}isExpandableFooter(e,t){return t&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===e.placementMapName}getSlotBidRequests(e){if("mobile"===this._device){const t=this.createBitStringAdOptions(e);if(Tn.has(t)){const i=Tn.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id}}]}}else if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:t,mobileCollapsePlayer:i,size:s})=>(!t||this._config.adTypes.has(t))&&(!i||!this._config.video.mobileStickyPlayerOnPage)&&e.hasSize(s))).map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getVideoSlotBidRequests(e){var t;return null===(t=this._map.get(e.name))||void 0===t?void 0:t.map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}};On=I([rt("KargoBidder"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ts,on])],On);let zn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.MediaGrid),this.settings={bidCpmAdjustment:(e,t)=>this._getCPMAdjustment(e,t),adserverTargeting:[{key:"hb_format",val:e=>e&&e.meta&&"trustx"===e.meta.demandSource?`trustx_${e.mediaType}`:e.mediaType}]},this._getCPMAdjustment=(e,t)=>{const i=t.dealId,s=("vastUrl"in t||"vastXml"in t)&&i&&i.toString().includes("G-TRUSTX");return L(this._config,e,Ui.MediaGrid,{...t,...s&&{dealId:void 0}})},this._map=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380],["Video_StickyOutstream_1",133519]])}get enabled(){return this._config.partners.display.get(Ui.MediaGrid)}get videoEnabled(){return this._config.partners.video.get(Ui.MediaGrid)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{uid:this._map.get(e.placementMapName)}}]}};zn=I([rt("MediaGridBidder"),P(),O("design:paramtypes",[Ts])],zn);let Rn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.MediaGridVideo),this.adapterName="grid",this.videoCreativeIds=[["138323922262",Ui.MediaGridVideo],["138323922901",Ui.MediaGridVideo],["138323922886",Ui.MediaGridVideo],["138323922898",Ui.MediaGridVideo],["138323922904",Ui.MediaGridVideo],["138323923042",Ui.MediaGridVideo],["138323922889",Ui.MediaGridVideo],["138323923018",Ui.MediaGridVideo],["138323922907",Ui.MediaGridVideo],["138323922859",Ui.MediaGridVideo],["138323923048",Ui.MediaGridVideo],["138323923045",Ui.MediaGridVideo],["138323923051",Ui.MediaGridVideo],["138323923021",Ui.MediaGridVideo],["138323922895",Ui.MediaGridVideo],["138323922892",Ui.MediaGridVideo]],this._map=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[Ae.Video_Coll_SOff_Smartphone,[{uid:2165}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",uid:2164},{device:"mobile",uid:6056}]],[Ae.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",uid:6057}]]])}get enabled(){return this._config.partners.display.get(Ui.MediaGridVideo)}get videoEnabled(){return this._config.partners.video.get(Ui.MediaGridVideo)}getVideoSlotBidRequests(e){const t=we()?"desktop":"mobile";if(this._map.has(e.name))return this._map.get(e.name).filter((({device:e})=>!e||e===t)).map((({uid:e})=>({bidder:this.name,params:{uid:e}})))}};Rn=I([rt("MediaGridVideoBidder"),P(),O("design:paramtypes",[Ts])],Rn);let Bn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Nativo),this.adapterName=Ui.Nativo,this._map=new Set(["Content_1","Content_2","Recipe_1","Recipe_2","Sidebar_1","Sidebar_2"])}get enabled(){return this._config.partners.display.get(Ui.Nativo)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{}}]}};Bn=I([rt("NativoBidder"),P(),O("design:paramtypes",[Ts])],Bn);let Dn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.OpenX),this.videoCreativeIds=[["138323525262",Ui.OpenX],["138323914702",Ui.OpenX],["138323526741",Ui.OpenX],["138323526186",Ui.OpenX],["138323526738",Ui.OpenX],["138323526744",Ui.OpenX],["138323526747",Ui.OpenX],["138323526189",Ui.OpenX],["138323914588",Ui.OpenX],["138323526192",Ui.OpenX],["138323526750",Ui.OpenX],["138323466806",Ui.OpenX],["138323468969",Ui.OpenX],["138323914705",Ui.OpenX],["138323526183",Ui.OpenX],["138323526753",Ui.OpenX]],this._params={delDomain:"cafemedia-d.openx.net"},this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]),this._map=new Map([["Below_Post","538699862"],["Content_1","538699864"],["Content_2","538699865"],["Content_3","538699866"],["Content_4","538699867"],["Content_5","538699868"],["Content_6","538699869"],["Content_7","538699870"],["Content_8","538699871"],["Content_9","538699872"],["Footer_1","538699840"],["Header_1","538699873"],["Header_2","538699874"],["Interstitial_1","543876568"],["Recipe_1","538699843"],["Recipe_2","538699844"],["Recipe_3","540594416"],["Recipe_4","540751624"],["Sidebar_1","538699853"],["Sidebar_2","538699854"],["Sidebar_3","538699855"],["Sidebar_4","538699856"],["Sidebar_5","538699857"],["Sidebar_9","538699861"],["Video_StickyOutstream_1","545721971"],[Ae.Video_Collapse_Autoplay_SoundOff,"540679731"],[Ae.Video_Coll_SOff_Smartphone,"540679733"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"540679727"],[Ae.Video_Individual_Autoplay_SOff,"540925853"]]),this._custParams={...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket]}}get enabled(){return this._config.partners.display.get(Ui.OpenX)}get videoEnabled(){return this._config.partners.video.get(Ui.OpenX)}getSlotBidRequests(e){if(this._map.has(e.placementMapName)){const t=this._highImpactParamsMap.get(e.placementMapName)||[];return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.placementMapName),customParams:{...this._custParams,hi_au:t.filter((e=>this._config.adTypes[e]))}}}]}}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name)){const i="all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"";return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.name),video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...i,pos:this._config.video.position.id,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)}}}}]}}};Dn=I([rt("OpenXBidder"),P(),O("design:paramtypes",[Ts])],Dn);let Vn=class{constructor(){this.segmentName="www.iris.tv",this.segtax=501,this._irisEndpoint="https://context.iris.tv/video_info",this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c",this._clientToken="EXJQESR8SMWMZCJ"}fetchIrisResponse(e){return ne(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${e}`)}async setContextualData(e){return this.fetchIrisResponse(e).then((e=>{if(e&&"boolean"!=typeof e){const t=e.video_info,i=t&&t.context;i&&i.length&&(this._contextualData=i,this._irisId=t.iris_id)}return!0})).catch((()=>!1))}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}};Vn=I([A()],Vn);let Ln=class extends Zs{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Pubmatic),this.adapterName=Ui.Pubmatic,this.serverBidderName=Ui.PubmaticServer,this.videoCreativeIds=[["138323526825",Ui.Pubmatic],["138323915419",Ui.Pubmatic],["138323915299",Ui.Pubmatic],["138323527095",Ui.Pubmatic],["138323469392",Ui.Pubmatic],["138323915422",Ui.Pubmatic],["138323469395",Ui.Pubmatic],["138323469389",Ui.Pubmatic],["138323469383",Ui.Pubmatic],["138323469320",Ui.Pubmatic],["138323469317",Ui.Pubmatic],["138323527092",Ui.Pubmatic],["138323469401",Ui.Pubmatic],["138323469398",Ui.Pubmatic],["138323469386",Ui.Pubmatic],["138323469404",Ui.Pubmatic]],this.videoServerCreativeIds=[["138337271609",Ui.PubmaticServer],["138337343196",Ui.PubmaticServer],["138337343229",Ui.PubmaticServer],["138337720879",Ui.PubmaticServer],["138337720885",Ui.PubmaticServer],["138337343202",Ui.PubmaticServer],["138337343211",Ui.PubmaticServer],["138337343217",Ui.PubmaticServer],["138337343232",Ui.PubmaticServer],["138337720597",Ui.PubmaticServer],["138337720888",Ui.PubmaticServer],["138337343199",Ui.PubmaticServer],["138337343214",Ui.PubmaticServer],["138337343223",Ui.PubmaticServer],["138337343226",Ui.PubmaticServer],["138337343220",Ui.PubmaticServer]],this.pubId="157347",this._map=new Map([["Below_Post",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[Ae.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[Ae.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[Ae.Video_In_Post_ClicktoPlay_SoundOn,{client:"1961308",server:"3437232"}],[Ae.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.display.get(Ui.Pubmatic)}get videoEnabled(){return this._config.partners.video.get(Ui.Pubmatic)}getSlotBidRequests(e){const t=[];return this._map.has(e.placementMapName)&&(t.push(this.getBidParams(this.name,this._map.get(e.placementMapName).client,e)),t.push(this.getBidParams(this.serverBidderName,this._map.get(e.placementMapName).server,e))),t}getBidParams(e,t,i){return{bidder:e,params:{publisherId:this.pubId,adSlot:`${t}@${i.sizes[0][0]}x${i.sizes[0][1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}getVideoSlotBidRequests(e){const t=[];return this._map.has(e.name)&&(t.push(this.getVideoBidParams(this.name,this._map.get(e.name).client,e)),t.push(this.getVideoBidParams(this.serverBidderName,this._map.get(e.name).server,e))),t}getDCTRParam(){const e=[],t=this._irisTv.irisContextualData;return t&&t.length&&e.push(`iris_context=${t.toString()}`),e.join("|")}getVideoBidParams(e,t,i){var s;const n=this.getDCTRParam();return{bidder:e,params:{publisherId:this.pubId,...n&&{dctr:n},video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},...(null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(i.name))&&{playbackmethod:this._config.video.playbackmethod.get(i.name)}},adSlot:`${t}@${i.size[0]}x${i.size[1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}};Ln=I([rt("PubMaticBidder"),P(),O("design:paramtypes",[Ts,Vn])],Ln);let Fn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Roundel),this.adapterName=Ui.IndexExchange,this.videoCreativeIds=[["138323538893",Ui.Roundel],["138323592675",Ui.Roundel],["138323592663",Ui.Roundel],["138323592660",Ui.Roundel],["138323983633",Ui.Roundel],["138323970739",Ui.Roundel],["138323983639",Ui.Roundel],["138323592699",Ui.Roundel],["138323592672",Ui.Roundel],["138323983636",Ui.Roundel],["138323970742",Ui.Roundel],["138323592693",Ui.Roundel],["138323592696",Ui.Roundel],["138323592690",Ui.Roundel],["138323592687",Ui.Roundel],["138323592684",Ui.Roundel]],this._params={siteId:"377190"},this._map=new Map([["Below_Post",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]),this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[Ae.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"485377",device:"mobile"}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[Ae.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]),this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.display.get(Ui.Roundel)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({size:t})=>({bidder:this.name,...e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,size:t}})))}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name)){const i=we()?"desktop":"mobile",s=this._videoMap.get(e.name).filter((e=>e.device===i)).map((({...e})=>e))[0];return[{bidder:this.name,params:{...s,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:this._config.video.videoProtocols.protocols}}}]}}};Fn=I([rt("RoundelBidder"),P(),O("design:paramtypes",[Ts])],Fn);let Nn=class extends Zs{constructor(e,t){super(),this._config=e,this._rubiconExperiment=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Rubicon),this.adapterName=Ui.Rubicon,this.serverBidderName=Ui.RubiconServer,this.videoCreativeIds=[["138323536473",Ui.Rubicon],["138323540955",Ui.Rubicon],["138323540961",Ui.Rubicon],["138323540964",Ui.Rubicon],["138323929606",Ui.Rubicon],["138323480624",Ui.Rubicon],["138323536455",Ui.Rubicon],["138323540856",Ui.Rubicon],["138323929612",Ui.Rubicon],["138323480642",Ui.Rubicon],["138323929516",Ui.Rubicon],["138323480600",Ui.Rubicon],["138323480636",Ui.Rubicon],["138323536467",Ui.Rubicon],["138323926693",Ui.Rubicon],["138323536476",Ui.Rubicon]],this.videoServerCreativeIds=[["138323542002",Ui.RubiconServer],["138323932663",Ui.RubiconServer],["138323544525",Ui.RubiconServer],["138323932642",Ui.RubiconServer],["138323544531",Ui.RubiconServer],["138323544528",Ui.RubiconServer],["138323932765",Ui.RubiconServer],["138323932768",Ui.RubiconServer],["138323932852",Ui.RubiconServer],["138323932855",Ui.RubiconServer],["138323544354",Ui.RubiconServer],["138323932858",Ui.RubiconServer],["138323544357",Ui.RubiconServer],["138323544339",Ui.RubiconServer],["138323932672",Ui.RubiconServer],["138323932669",Ui.RubiconServer]],this._bidders=[],this._map=new Map([["Below_Post",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2150396}],[Ae.Video_Collapse_Autoplay_SoundOff,{client:1259006,server:2055644}],[Ae.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[Ae.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[Ae.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);const i="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;("both"===this._rubiconExperiment.result||"server"===this._rubiconExperiment.result)&&this._bidders.push({name:this.serverBidderName,type:"server"}),i&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(e,t){return{accountId:9262,siteId:"Video_StickyOutstream"===t?386004:{server:363698,client:180726}[e],..."Video_StickyOutstream"===t&&{video:{language:"en"}}}}getVideoParams(e){return{accountId:9262,siteId:{server:375144,client:253996}[e],video:{language:"en"}}}get enabled(){return this._config.partners.display.get(Ui.Rubicon)}get videoEnabled(){return this._config.partners.video.get(Ui.Rubicon)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._bidders.map((t=>({bidder:t.name,params:{...this.getDisplayParams(t.type,e.location),zoneId:this._map.get(e.placementMapName)[t.type],...e.isHighlyViewable()&&{position:"atf"}}})))}getVideoSlotBidRequests(e){if(this._map.has(e.name))return this._bidders.map((t=>({bidder:t.name,params:{...this.getVideoParams(t.type),zoneId:this._map.get(e.name)[t.type]}})))}updateBidParams(e){this._addPositionParam(e,"atf")}};Nn=I([rt("RubiconBidder"),P(),O("design:paramtypes",[Ts,$i])],Nn);const jn=new Map([["Below_Post",[{size:[300,250],pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]],["Video_StickyOutstream_1",[{size:[300,250],pkey:"qKjlCz8NOStHzB15G18scbgS"},{size:[320,50],pkey:"qKjlCz8NOStHzB15G18scbgS"}]]]),Un=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[Ae.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[Ae.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[Ae.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]);let qn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Sharethrough),this.videoCreativeIds=[["138377683089",Ui.Sharethrough],["138377670131",Ui.Sharethrough],["138377670158",Ui.Sharethrough],["138377670173",Ui.Sharethrough],["138378141751",Ui.Sharethrough],["138377670161",Ui.Sharethrough],["138377670167",Ui.Sharethrough],["138377670170",Ui.Sharethrough],["138377670209",Ui.Sharethrough],["138377670212",Ui.Sharethrough],["138377670224",Ui.Sharethrough],["138377669645",Ui.Sharethrough],["138377670218",Ui.Sharethrough],["138377670221",Ui.Sharethrough],["138378141754",Ui.Sharethrough],["138377670215",Ui.Sharethrough]]}get enabled(){return this._config.partners.display.get(Ui.Sharethrough)}get videoEnabled(){return this._config.partners.video.get(Ui.Sharethrough)}getSlotBidRequests(e){if(jn.has(e.placementMapName))return jn.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}getVideoSlotBidRequests(e){return Un.get(e.name).filter((({size:t})=>e.size[0]===t[0]&&e.size[1]===t[1])).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}};qn=I([rt("SharethroughBidder"),P(),O("design:paramtypes",[Ts])],qn);let Hn=class extends Zs{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Spotx),this.videoCreativeIds=[["138303907026",Ui.Spotx],["138323929600",Ui.Spotx],["138323929594",Ui.Spotx],["138323536461",Ui.Spotx],["138323929603",Ui.Spotx],["138323929507",Ui.Spotx],["138323536458",Ui.Spotx],["138323536449",Ui.Spotx],["138323929591",Ui.Spotx],["138323537142",Ui.Spotx],["138323929621",Ui.Spotx],["138323536452",Ui.Spotx],["138323540958",Ui.Spotx],["138323929459",Ui.Spotx],["138323929522",Ui.Spotx],["138323929618",Ui.Spotx],["138317573432",Ui.Spotx],["138303907368",Ui.Spotx],["138303940541",Ui.Spotx],["138303941144",Ui.Spotx],["138304289827",Ui.Spotx],["138303907377",Ui.Spotx],["138303935663",Ui.Spotx],["138303940901",Ui.Spotx],["138303941138",Ui.Spotx],["138303941153",Ui.Spotx],["138304290448",Ui.Spotx],["138303941135",Ui.Spotx],["138303941147",Ui.Spotx],["138303941156",Ui.Spotx],["138304290445",Ui.Spotx],["138303941141",Ui.Spotx]],this._videoParams={ad_unit:"instream",secure:!0,mimes:this._config.video.mimeType,position:this._config.video.position.id},this._map=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,279547],[Ae.Video_Coll_SOff_Smartphone,279549],[Ae.Video_In_Post_ClicktoPlay_SoundOn,279548],[Ae.Video_Individual_Autoplay_SOff,279550]])}get videoEnabled(){return this._config.partners.video.get(Ui.Sharethrough)}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._irisTv.irisContextualData,i=this._irisTv.irisId,s=i&&t&&t.length;return[{bidder:this.name,params:{...this._videoParams,channel_id:this._map.get(e.name),...s&&{custom:{iris_context:t,iris_id:i}}}}]}}};Hn=I([rt("SpotXBidder"),P(),O("design:paramtypes",[Ts,Vn])],Hn);let Gn=class extends Zs{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Teads),this._pageId=112062,this._adTypeBitIndexMap=new Map([["outstream",{adType:te()?"outstreamMobile":"outstreamDesktop",index:1}],["interscroller",{adType:"interscroller",index:2}],["miniscroller",{adType:"miniscroller",index:3}]]),this._adUnitsMap=new Map([["Below_Post",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_6",["miniscroller","interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",[]]]),this._deviceAdTypes={mobile:["outstreamMobile","interscroller","miniscroller"],desktop:["outstreamDesktop"]},this._placementIdMap=new Map([["1000",{id:121842,isOutstream:!1}],["1001",{id:121836,isOutstream:!0}],["1010",{id:121835,isOutstream:!0}],["1011",{id:121840,isOutstream:!0}],["1100",{id:121834,isOutstream:!1}],["1101",{id:121838,isOutstream:!0}],["1110",{id:121837,isOutstream:!0}],["1111",{id:121895,isOutstream:!0}]])}get enabled(){return this._config.partners.display.get(Ui.Teads)}createBitArrayAdOptions(e){const t=te()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,i=["1","0","0","0"],s=this._adUnitsMap.get(e.placementMapName);return this._adTypeBitIndexMap.forEach(((n,r)=>{const o=n.adType;t.includes(o)&&this._config.adTypes.has(o)&&s.includes(o)&&(i[n.index]="outstream"===r?this._mediaType.outstreamEnabled(e).currentlyActive?"1":"0":"1")})),i}getSlotBidRequests(e){if(this._adUnitsMap.has(e.placementMapName)){const t=this.createBitArrayAdOptions(e),i=this._placementIdMap.get(t.join(""));return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,pageId:this._pageId}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitArrayAdOptions(t),s=this._placementIdMap.get(i.join(""));this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`)}};Gn=I([rt("TeadsBidder"),P(),O("design:paramtypes",[Ts,on])],Gn);let $n=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Telaria),this.videoCreativeIds=[["138323469428",Ui.Telaria],["138323528058",Ui.Telaria],["138323527527",Ui.Telaria],["138323527362",Ui.Telaria],["138323520198",Ui.Telaria],["138323528061",Ui.Telaria],["138323528049",Ui.Telaria],["138323528043",Ui.Telaria],["138323527632",Ui.Telaria],["138323527524",Ui.Telaria],["138323527359",Ui.Telaria],["138323528055",Ui.Telaria],["138323527794",Ui.Telaria],["138323527791",Ui.Telaria],["138323527530",Ui.Telaria],["138323528046",Ui.Telaria]],this._map=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,{supplyCode:"6psex-fm1gy",adCode:"6psex-o3fcq"}],[Ae.Video_In_Post_ClicktoPlay_SoundOn,{supplyCode:"6psex-bgapy",adCode:"6psex-kln5k"}],[Ae.Video_Coll_SOff_Smartphone,{supplyCode:"6psex-axuft",adCode:"6psex-jaes3"}],[Ae.Video_Individual_Autoplay_SOff,{supplyCode:"6psex-sootr",adCode:"6psex-0vosj"}]])}get videoEnabled(){return this._config.partners.video.get(Ui.Telaria)}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._map.get(e.name);return[{bidder:this.name,params:{...t,videoId:e.name}}]}}};$n=I([rt("TelariaBidder"),P(),O("design:paramtypes",[Ts])],$n);let Wn=class extends Zs{constructor(e,t,i){super(),this._config=e,this._tripleLiftExperiment=t,this._mediaType=i,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Triplelift),this.adapterName=Ui.Triplelift,this.serverBidderName=Ui.TripleliftServer,this.videoCreativeIds=[["138323510289",Ui.Triplelift],["138323472959",Ui.Triplelift],["138323472731",Ui.Triplelift],["138323472671",Ui.Triplelift],["138323472641",Ui.Triplelift],["138323473061",Ui.Triplelift],["138323473058",Ui.Triplelift],["138323473019",Ui.Triplelift],["138323473016",Ui.Triplelift],["138323472986",Ui.Triplelift],["138323472734",Ui.Triplelift],["138323473064",Ui.Triplelift],["138323473055",Ui.Triplelift],["138323472728",Ui.Triplelift],["138323472674",Ui.Triplelift],["138323472737",Ui.Triplelift],["138326649881",Ui.Triplelift],["138326691825",Ui.Triplelift],["138326691828",Ui.Triplelift],["138326691831",Ui.Triplelift],["138326691834",Ui.Triplelift],["138326691837",Ui.Triplelift],["138326691840",Ui.Triplelift],["138326691843",Ui.Triplelift],["138326691846",Ui.Triplelift],["138326691783",Ui.Triplelift],["138326691786",Ui.Triplelift],["138326691789",Ui.Triplelift],["138326691792",Ui.Triplelift],["138326691753",Ui.Triplelift],["138326691756",Ui.Triplelift],["138326691570",Ui.Triplelift]],this.videoServerCreativeIds=[["138348653814",Ui.TripleliftServer],["138348654438",Ui.TripleliftServer],["138349054156",Ui.TripleliftServer],["138349054168",Ui.TripleliftServer],["138349054201",Ui.TripleliftServer],["138348654432",Ui.TripleliftServer],["138348654444",Ui.TripleliftServer],["138349054186",Ui.TripleliftServer],["138349054204",Ui.TripleliftServer],["138349054210",Ui.TripleliftServer],["138349054435",Ui.TripleliftServer],["138349054189",Ui.TripleliftServer],["138349054207",Ui.TripleliftServer],["138349054426",Ui.TripleliftServer],["138349054429",Ui.TripleliftServer],["138349054432",Ui.TripleliftServer]],this._clientEnabled=!1,this._serverEnabled=!1,this.settings={adserverTargeting:[{key:"hb_format",val:({meta:e,tl_source:t})=>e&&e.mediaType||this.tlSourceMap.get(t||"")}]},this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]),this._verticalCategoryMap=new Map([["Baby","Family"],["Family and Parenting","Family"],["Natural Parenting","Family"],["Pregnancy","Family"],["Toddler","Family"],["Personal Finance","Finance"],["Professional Finance","Finance"],["Deals","Finance"],["Clean Eating","Food"],["Food","Food"],["Crafts","Home"],["Gardening","Home"],["Green Living","Home"],["Home Decor and Design","Home"],["Pets","Home"],["Travel","Travel"],["News","News"],["Lifestyle","Lifestyle"],["Beauty","Lifestyle"],["Other","Lifestyle"],["Health and Fitness","Health"],["Entertainment","Entertainment"],["Sports","Sports"],["Womens Style","Womens Style"],["Mens Style and Grooming","Mens Style"],["Tech","Tech"],["Wedding","Wedding"],["Auto","Auto"]]),this._categoryPriorityList=new Set(["Food","Home","Family","Finance","Travel","News","Health","Entertainment","Sports","Womens Style","Mens Style","Tech","Wedding","Auto","Lifestyle"]),this._category=K(this.getCategory(),"Lifestyle"),this._map=new Map([["Interstitial_1",[]],["Below_Post",[]],["Content_1",["nativeMobileContent","nativeDesktopContent"]],["Content_2",["nativeMobileContent","nativeDesktopContent"]],["Content_3",["nativeMobileContent","nativeDesktopContent"]],["Content_4",["nativeMobileContent","nativeDesktopContent"]],["Content_5",["nativeMobileContent","nativeDesktopContent"]],["Content_6",["nativeMobileContent","nativeDesktopContent"]],["Content_7",["nativeMobileContent","nativeDesktopContent"]],["Content_8",["nativeMobileContent","nativeDesktopContent"]],["Content_9",["nativeMobileContent","nativeDesktopContent"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_2",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_3",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_4",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_5",["nativeMobileRecipe","nativeDesktopRecipe"]],["Sidebar_1",["nativeDesktopSidebar"]],["Sidebar_2",["nativeDesktopSidebar"]],["Sidebar_3",["nativeDesktopSidebar"]],["Sidebar_4",["nativeDesktopSidebar"]],["Sidebar_5",["nativeDesktopSidebar"]],["Sidebar_9",["nativeDesktopSidebar"]],["Video_StickyOutstream_1",[]]]),this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",server:"AdThriveRON_instream_desktopcollapse_prebid"}],[Ae.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[Ae.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[Ae.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]),this._deviceAdTypes={mobile:["nativeMobileContent","nativeMobileRecipe"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar"]},this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result,this._serverEnabled="both"===this._tripleLiftExperiment.result||"server"===this._tripleLiftExperiment.result}get enabled(){return this._config.partners.display.get(Ui.Triplelift)}get videoEnabled(){return this._config.partners.video.get(Ui.Triplelift)}getSlotBidRequests(e){const t=(te()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName)){const i=[];let s="Interstitial"===e.location?"Interstitial".toLowerCase():"standard";this._map.get(e.placementMapName).forEach((e=>{t.includes(e)&&(s=e)}));const n=this.getInventoryCode(s,e),r=this.isOutstreamEligible(e);return this._clientEnabled&&i.push({bidder:this.name,...this.getLabels(e.placementMapName,r),params:{inventoryCode:n}}),this._serverEnabled&&i.push({bidder:this.serverBidderName,params:{inventoryCode:n+"_pbs2s"}}),i}}inventoryCodeAppend(e){return this.isOutstreamEligible(e)?"_BV":""}isOutstreamEligible(e){return!1}getInventoryCode(e,t){const i=te()?"mobile":"desktop";if("standard"===e){return`AdThrive_${"Below_Post"===t.placementMapName?"Below_Post_1":t.placementMapName}${"Video_StickyOutstream_1"===t.placementMapName?`_${i}`:""}_HDX`}if("interstitial"===e)return"AdThriveRON_interstitial_multisize";const s="Content_1"===t.placementMapName||"Sidebar_9"===t.placementMapName?t.location.toLowerCase():t.placementMapName.toLowerCase().replace(/_(?!.*_)/,""),n=this.inventoryCodeAppend(t);return`adthrive${this._category}_${s}_fixed_${i}${n}`}getVideoBidParams(e,t,i){var s,n;return{bidder:e,params:{inventoryCode:i,video:{...we()?{w:640,h:360}:{w:400,h:225},api:this._config.video.apiValue,mimes:this._config.video.mimeType,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},playbackmethod:null===(n=null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(t.name))||void 0===n?void 0:n[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(e){const t=[];return this._videoMap.has(e.name)&&(this._clientEnabled&&t.push(this.getVideoBidParams(this.name,e,this._videoMap.get(e.name).client)),this._serverEnabled&&t.push(this.getVideoBidParams(this.serverBidderName,e,this._videoMap.get(e.name).server))),t}getCategory(){const e=this._config.site.verticals.filter((e=>this._verticalCategoryMap.has(e))).map((e=>this._verticalCategoryMap.get(e)));for(const t of this._categoryPriorityList)if(e.includes(t))return t}getLabels(e,t){const i=[];return t&&i.push(`outstreamCapable_${e}`),i.length?{labelAny:i}:{}}};Wn=I([rt("TripleLiftBidder"),P(),O("design:paramtypes",[Ts,Wi,on])],Wn);let Kn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.TTD),this.videoCreativeIds=[["138323472896",Ui.TTD],["138323532681",Ui.TTD],["138323532645",Ui.TTD],["138323532675",Ui.TTD],["138323532678",Ui.TTD],["138323922211",Ui.TTD],["138323530488",Ui.TTD],["138323532606",Ui.TTD],["138323532648",Ui.TTD],["138323922202",Ui.TTD],["138323532672",Ui.TTD],["138323922205",Ui.TTD],["138323922010",Ui.TTD],["138323922208",Ui.TTD],["138323532642",Ui.TTD],["138323921998",Ui.TTD]],this._device=this._config.context.device,this._set=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9",Ae.Video_Collapse_Autoplay_SoundOff,Ae.Video_Coll_SOff_Smartphone,Ae.Video_In_Post_ClicktoPlay_SoundOn,Ae.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(Ui.TTD)}get videoEnabled(){return this._config.partners.video.get(Ui.TTD)}getSlotBidRequests(e){if(this._set.has(e.placementMapName)){const t=e.id,i=new RegExp(`_${this._device}`);return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t.replace(i,""),supplySourceId:"cafemedia"}}]}}getVideoSlotBidRequests(e){if(this._set.has(e.name)){const t=`${e.name}`;return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t,supplySourceId:"cafemedia"}}]}}};Kn=I([rt("TTDBidder"),P(),O("design:paramtypes",[Ts])],Kn);let Qn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Undertone),this._params={publisherId:2002},this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]},this._map=new Map([["Below_Post",[{placementId:"2002034",size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002035",size:[[1,2]],adType:"miniscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2]],adType:"miniscroller"}]],["Content_2",[{placementId:"2002003",size:[[1,2]],adType:"miniscroller"}]],["Content_3",[{placementId:"2002004",size:[[1,2]],adType:"miniscroller"}]],["Content_4",[{placementId:"2002005",size:[[1,2]],adType:"miniscroller"}]],["Content_5",[{placementId:"2002006",size:[[1,2]],adType:"miniscroller"}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250]]}]]])}get enabled(){return this._config.partners.display.get(Ui.Undertone)}getSlotBidRequests(e){const t=(te()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:i,mobileCollapsePlayer:s,size:n})=>(!i&&e.hasSize(n[0])||i&&t.includes(i))&&(!s||!this._config.video.mobileStickyPlayerOnPage))).map((({placementId:t,size:i,highViewability:s})=>({bidder:this.name,...s&&e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,placementId:t,size:i}})))}};Qn=I([rt("UndertoneBidder"),A(),O("design:paramtypes",[Ts])],Qn);let Xn=class extends Zs{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Unruly),this._params={siteId:249232}}get enabled(){return this._config.partners.display.get(Ui.Unruly)}get videoEnabled(){return this._config.partners.video.get(Ui.Unruly)}getSlotBidRequests(e){if("Video_StickyOutstream"!==e.location)return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(){return[{bidder:this.name,params:{...this._params}}]}};Xn=I([rt("UnrulyBidder"),P(),O("design:paramtypes",[Ts,on])],Xn);let Yn=class extends Zs{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Verizon),this.adapterName="aol",this._params={dcn:te()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]),this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]),this._map=te()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.display.get(Ui.Verizon)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:e})=>({bidder:this.name,params:{...this._params,...this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}},pos:e}})))}};Yn=I([rt("VerizonBidder"),P(),O("design:paramtypes",[Ts])],Yn);let Jn=class extends Zs{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.YahooSSP),this.videoCreativeIds=[["138379204183",Ui.YahooSSP],["138378707447",Ui.YahooSSP],["138378707558",Ui.YahooSSP],["138378717711",Ui.YahooSSP],["138378717726",Ui.YahooSSP],["138378706907",Ui.YahooSSP],["138378706928",Ui.YahooSSP],["138378707468",Ui.YahooSSP],["138378707561",Ui.YahooSSP],["138378717720",Ui.YahooSSP],["138378717783",Ui.YahooSSP],["138378707552",Ui.YahooSSP],["138378717723",Ui.YahooSSP],["138378717780",Ui.YahooSSP],["138378717786",Ui.YahooSSP],["138378707555",Ui.YahooSSP]],this._params={display:{dcn:te()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},video:{dcn:"8a969469017b7bdf59b2e07862af0281"}},this._videoMap=new Map([[Ae.Video_Collapse_Autoplay_SoundOff,"8a96941a017e7e91c49492261bdf000c"],[Ae.Video_Coll_SOff_Smartphone,"8a9690ee017e7e91bee0922682f1000b"],[Ae.Video_In_Post_ClicktoPlay_SoundOn,"8a969951017e7e91ba38923576c20011"],[Ae.Video_Individual_Autoplay_SOff,"8a969951017e7e91ba389236dc470014"]]),this._displayMap={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])},this._setYahooMediaConfig();const i=this._displayMap;this._map=te()?i.mobile:i.desktop}get enabled(){return this._config.partners.display.get(Ui.YahooSSP)}get videoEnabled(){return this._config.partners.video.get(Ui.YahooSSP)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:t})=>({bidder:this.name,params:{..."Video_StickyOutstream"!==e.location?this._params.display:this._params.video,pos:t}})))}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{...this._params.video,pos:this._videoMap.get(e.name)}}]}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};Jn=I([rt("YahooSSPBidder"),P(),O("design:paramtypes",[Ts,Bs])],Jn);let Zn=class extends Zs{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Ui.Yieldmo),this.settings={adserverTargeting:[{key:"hb_format",val:e=>this._creativeFormatMap.get(this.getCreativeFormatId(e.ad))||e.mediaType}]},this._creativeFormatMap=new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]),this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"2820437600580345895",isOutstream:!0}]]),this._bannerMap=["Below_Post","Content","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_StickyOutstream_1"]}getCreativeFormatId(e){const t=/creative_format_id":([0-9]*)/.exec(e);if(null!==t)return t[1]}get enabled(){return this._config.partners.display.get(Ui.Yieldmo)}isMiniScroller(e){return e.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===e.location||"Recipe"===e.location)}isNative(e){const t={mobile:new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),desktop:new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]])},i=te()?t.mobile:t.desktop;return e.sequence&&i.has(e.location)&&this._config.adTypes.has(i.get(e.location))}isOutstream(e){return this._mediaType.outstreamEnabled(e).currentlyActive}isStickyOutstream(e){return"Video_StickyOutstream"===e.location}isMobileOustreamSingleInstance(e){return te()&&"Content_1"===e.placementMapName&&this._mediaType.outstreamEnabled(e).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}createBitStringAdOptions(e){let t=this._bannerMap.includes(e.placementMapName)?"1":"0";return t+=this.isOutstream(e)?"1":"0",t+=this.isMiniScroller(e)?"1":"0",t+=this.isNative(e)?"1":"0",t+=this.isMobileOustreamSingleInstance(e)?"1":"0",t+=this.isStickyOutstream(e)?"1":"0",t}getSlotBidRequests(e){const t=this.createBitStringAdOptions(e);if(this._adOptionsMap.has(t)){const i=this._adOptionsMap.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,..."Video_StickyOutstream"===e.location&&{video:{placement:2}}}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitStringAdOptions(t),s=this._adOptionsMap.get(i);this._adOptionsMap.has(i)&&(this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`))}};Zn=I([rt("YieldmoBidder"),P(),O("design:paramtypes",[Ts,on])],Zn);let er=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,x,T,P){this._config=e,this._biddersParams=new Map,this._orderedDisplayBidders=[v,d,c,o,C,h,p,i,x,u,_,T,t,P,y,r,w,S,s,E,k,l,g,m,n].filter((e=>this._bidderFilter(e))),this._orderedVideoBidders=[o,t,c,C,u,d,_,p,a,w,T,f,l,y,s,n,k,S,b,g,r].filter((e=>this._bidderFilter(e,!0))),this._videoCreativeIdMapping=this._setVideoCreativeIdMap()}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}_setVideoCreativeIdMap(){return new Map(this._orderedVideoBidders.reduce(((e,t)=>e.concat(t.videoCreativeIds||[],t.videoServerCreativeIds||[])),[]))}_bidderFilter(e,t=!1){const i=this._config,s=e.name,n=t?i.vbho.bidders:i.hbho.bidders,r=t?"videoEnabled":"enabled",o=t||!e.updateBidParams;return e[r]&&this._holdoutValidation(n,s)&&this._ccpaValidation(i.ccpa,s)&&this._gdprValidation(i.gdpr,s)&&(o||this._biddersParams.set(s,e))}_holdoutValidation(e,t){return!e.length||!e.includes(t)}_ccpaValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}_gdprValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}};er=I([A(),O("design:paramtypes",[Ts,an,ln,cn,hn,pn,un,Rn,gn,fn,On,zn,Dn,Ln,Fn,Nn,Bn,qn,Hn,Gn,$n,en,Wn,Kn,Qn,Xn,Yn,Jn,Zn])],er);let tr=class extends yt{constructor(e,t){super(),this._result=!1,this.key="crtvmon",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};tr=I([rt("CreativeMonitoringExperiment"),A(),O("design:paramtypes",[gt,Ft])],tr);let ir=class{constructor(e,t,i,s,n){this._config=e,this._gam=t,this._prebidMethods=i,this._slots=s,this._creativeMonitoringExperiment=n,this._auctionData=new Set,this._prebidAdvertiserId=413678576,this._gamRenderedData=new Map}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",this._storeAuctionData.bind(this)),this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this)),this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this)),this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this)),this._gam.slotRenderEnded.on(this._slotRenderEnded.bind(this)),this._gam.slotRequested.on(this._slotRequested.bind(this))}_slotRequested(e){const t=e.slot.id;this._gamRenderedData.has(t)&&this._gamRenderedData.delete(t)}_slotRenderEnded(e){this._gamRenderedData.set(e.slot.id,e),this._creativeMonitoringExperiment.result&&this._checkSlotRender(e)}_storeAuctionData(e){e.adUnitCodes.forEach((t=>this._auctionData.add(`${e.auctionId}-${t}`)))}_deleteStoredAuction(e,t){this._auctionData.delete(`${e}-${t}`)}_getSlotData(e){const t=this._slots.get(e);return{...t&&{slot:t.location,sequence:t.sequence,nref:t.refreshCount}}}_getGAMCreativeData(e){const t=this._gamRenderedData.get(e);return t?{lineItemId:t.event.lineItemId,creativeId:t.event.creativeId,campaignId:t.event.campaignId}:{}}_getBidData(e){return e?{...this._getPrebidBidDataFromBid(e),...this._getSlotData(e.adUnitCode),...this._getGAMCreativeData(e.adUnitCode)}:{}}_renderFailedHandler(e){setTimeout((()=>{const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode);const i={message:e.message,reason:e.reason,...this._getBidData(t)};t&&t.meta&&Object.keys(t.meta).length>0?i.buyerInformation=t.meta:i.markup=t&&t.ad,D.error("PrebidAuctionManager","init","adRenderFailed",i)}),2e3)}_staleRenderHandler(e){e&&this._deleteStoredAuction(e.auctionId,e.adUnitCode)}_renderSucceededHandler(e){const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode)}_isSafeFrame(e){const t=e.element.querySelector("iframe");return!(!t||!t.src)}_checkSlotRender(e){const t=e.event;this._isSafeFrame(e.slot)||t.advertiserId!==this._prebidAdvertiserId||setTimeout((()=>{this._logUnknownFailure(e)}),2e3)}_getHeightWidth(e){if(!e)return{};const t=e.split("x").map(Number);return{...Array.isArray(t)&&2===t.length&&{height:t[1],width:t[0]}}}_getPrebidCreativeWindowData(e){return{adId:e.bidderAdId,bidder:e.bidder,size:e.bidderSize,adserverTargeting:e.targeting}}_getPrebidBidDataFromBid(e){return{price:e.adserverTargeting.hb_pb,bidderSize:e.size||e.adserverTargeting.hb_size,advertiserDomains:e.meta&&e.meta.advertiserDomains||e.adserverTargeting.hb_adomain,bidder:e.bidder}}_getPrebidBidderDataFromIframe(e){const t=e.element.querySelector("iframe").contentWindow;if(!t)return{};const{adId:i,adserverTargeting:s,bidder:n,size:r}=this._getPrebidCreativeWindowData(t),{height:o,width:a}=this._getHeightWidth(t&&t.bidderSize);return{adId:i,adserverTargeting:s,adUnitCode:e.id,bidder:n,height:o,size:r,width:a}}_logUnknownFailure(e){const t=this._config.context,i=e.slot,s=e.event,{adId:n,adserverTargeting:r,auctionId:o,adUnitCode:a,bidder:l,height:d,meta:c,size:h,width:p}=i.servedPrebidBidResponse||this._getPrebidBidderDataFromIframe(i);if(o&&a&&!this._auctionData.has(`${o}-${a}`))return;const u={adId:n,advertiserDomains:c&&c.advertiserDomains||r&&r.hb_adomain,bidderSize:h||r&&r.hb_size,bidder:l,branch:t.branch,bucket:t.bucket,campaignId:s.campaignId,creativeId:s.creativeId||s.sourceAgnosticCreativeId,lineItemId:s.lineItemId||s.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",nref:i.refreshCount,price:r&&r.hb_pb,sequence:i.sequence,slotSizes:i.sizes,slot:i.location,...p&&d&&{size:[p,d]},...c&&(c.dchain&&{dchain:c.dchain}||c.networkId&&{networkId:c.networkId}),...(!n||n.length<2)&&r&&{hbAdId:r.hb_adid}};D.error("PrebidAuctionManager","init","prebidCreativeFailure",u),o&&a&&this._deleteStoredAuction(o,a)}};ir=I([A(),O("design:paramtypes",[Ts,Vs,Bs,As,tr])],ir);let sr=class extends Qt{init(){this._key="dco"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],sr.prototype,"run",null),sr=I([rt("DemandChainExperiment"),A()],sr);let nr=class extends yt{constructor(e,t){super(),this._result=!1,this.key="dajto",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};nr=I([rt("DisableAjaxTimeoutExperiment"),A(),O("design:paramtypes",[gt,Ft])],nr);let rr=class extends Qt{init(){this._key="mxrpog"}run(){return super.run()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],rr.prototype,"run",null),rr=I([rt("MaxRequestsExperiment"),A()],rr);const or={buckets:[{precision:2,max:.1,increment:.01},{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]};let ar=class{constructor(e){this._config=e,this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:e=>e.bidderCode},{key:"hb_adid",val:e=>e.adId},{key:"hb_pb",val:e=>e.pbCg},{key:"hb_size",val:e=>this._config.video.instreamAdUnits.has(e.adUnitCode)?"":e.size},{key:"hb_deal",val:e=>e.dealId},{key:"hb_format",val:e=>e.mediaType},{key:"hb_adomain",val:e=>{var t,i;return(null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)?null===(i=e.meta)||void 0===i?void 0:i.advertiserDomains[0]:""}}]}}get configuration(){return this._configuration}};ar=I([A(),O("design:paramtypes",[Ts])],ar);let lr=class{constructor(e,t,i,s,n,r,o){this._config=e,this._prebidMethods=t,this._dcoExperiment=i,this._maxRequestsExperiment=s,this._disableAjaxTimeoutExperiment=n,this._ortb2=r,this._standardPrebidBidderSetting=o,this._uspConfig={usp:this._getUspConfig()},this._clientVendorExceptions=["appnexus"],this._serverVendorExceptions=this._config.prebid.s2s.bidders,this._gdprConfig={gdpr:{cmpApi:"iab",timeout:25e3,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:this._clientVendorExceptions.concat(this._serverVendorExceptions)},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}},this._defaultConfig={maxRequestsPerOrigin:this._maxRequestsExperiment.result,auctionOptions:{secondaryBidders:["unruly","undertone","33across","telaria","nativo"]},bidderSequence:"fixed",sendBidsControl:{bidLimit:3},useBidCache:!0,enableSendAllBids:!0,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{auctionDelay:this._config.prebid.auctionDelay,syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0},priceGranularity:or,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},dchain:{validation:this._dcoExperiment.result},schain:{validation:"strict",config:(new Hs).getSupplyChainConfig(this._config.site.id)},ortb2:this._ortb2.data}}_getUspConfig(){return this._config.ccpa.required?{cmpApi:"iab",timeout:0}:{cmpApi:"static",consentData:{getUSPData:{uspString:"1---"}}}}setDefaultConfig(){const e=this.addPrebidConsent(),t=this._defaultConfig;t.consentManagement=e,this._prebidMethods.setConfig(t)}applyClientAndServerBidderSettings(e){this._prebidMethods.setBidderSettings(e.reduce(((e,t)=>this._setupBidderSettings(e,t)),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(e){e.forEach((e=>{e.adapterName&&(e.adapterName!==e.name&&this._prebidMethods.setAliasBidder(e.adapterName,e.name),e.serverBidderName&&this._prebidMethods.setAliasBidder(e.adapterName,e.serverBidderName))}))}_setupBidderSettings(e,t){return e[t.name]=this.getBidderSettings(t,t.name),t.serverBidderName&&(e[t.serverBidderName]=this.getBidderSettings(t,t.serverBidderName)),e.standard.adserverTargeting&&t.adServerTargeting&&e.standard.adserverTargeting.push(...t.adServerTargeting),e}addPrebidConsent(){return!0===this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(e,t){return{bidCpmAdjustment:(e,i)=>L(this._config,e,t,i),...e.settings}}};lr=I([A(),O("design:paramtypes",[Ts,Bs,sr,rr,nr,Us,ar])],lr);let dr=class extends yt{constructor(e){super(),this.key="vpred_1",this._choices=[{choice:.9,weight:96},{choice:.85,weight:1},{choice:.8,weight:1},{choice:.75,weight:1},{choice:0,weight:1}],this._result=this.run(),e.set(this.key,0!==this.result?String(100*this._result):"off")}get result(){return this._result}run(){return new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],dr.prototype,"run",null),dr=I([rt("PredictiveAnalysisExperiment"),A(),O("design:paramtypes",[gt])],dr);let cr=class extends Qt{init(){this._key="s2sbuff"}};cr=I([rt("S2SBufferExperiment"),A()],cr);let hr=class{constructor(e,t,i,s){var n;this._config=e,this._prebidMethods=t,this._s2sBufferExperiment=i,this._colossusExperiment=s,this._s2sConfig=[{accountId:"9262",enabled:!0,bidders:this._config.prebid.s2s.bidders,...this._config.partners.display.get(Ui.Colossus)&&"client"!==this._colossusExperiment.result&&{extPrebid:{aliases:{col_ss:"colossus"}}},defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-(null!==(n=this._s2sBufferExperiment.result)&&void 0!==n?n:200),adapter:"prebidServer",endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}init(){this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter((e=>e.bidders.length))})}};hr=I([P(),O("design:paramtypes",[Ts,Bs,cr,dn])],hr);let pr=class extends Ls{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m){super(),this._adthrive=e,this._bootstrapConfig=t,this._config=i,this._gam=s,this._s2s=n,this._bidderSetup=r,this._mediaType=o,this._prebidMethods=a,this._prebidConfiguration=l,this._predictiveAnalysisExperiment=d,this._slots=c,this._creativeMonitoring=h,this._ortb2=p,this._gdprEnforcement=u,this._slotEventBus=g,this.videoAdUnits=[],this.bidsRequested=new R,this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders,this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders,this._videoCreativeIdMapping=this._bidderSetup.videoCreativeIdMapping,this._predictiveAnalysisResult=this._predictiveAnalysisExperiment.result,this._analytics=[_,m].filter((e=>e.enabled))}init(){const e=this._prebidConfiguration,t=this._orderedDisplayBidders,i=this._orderedVideoBidders,s=[...t,...i];e.setDefaultConfig(),e.aliasBidders(s),this._s2s.init(),this._analytics.forEach((e=>void 0!==e.init&&e.init())),t.forEach((e=>void 0!==e.init&&e.init())),e.applyClientAndServerBidderSettings(s),Ne().then((()=>this._prebidMethods.triggerUserSyncs())).then((()=>this._registerSignalSources())).catch((e=>{D.error("PrebidAuctionManager","init","pageLoaded",e)})),this._setEvents(),this._predictiveAnalysisResult&&this._setVideoBidsFilter()}async _registerSignalSources(){if(this._config.ccpa.userOptedOut)return;if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))return}this._prebidMethods.setConfig({userSync:{encryptedSignalSources:{sources:[{source:["adserver.org","criteo.com","id5-sync.com","pubcid.org","parrable.com","liveramp.com"],encrypt:!1}],registerDelay:2e3}}}),this._prebidMethods.registerSignalSources()}_setEvents(){this._creativeMonitoring.setupCreativeEventListeners(),this._prebidMethods.onEvent("bidWon",(e=>{const t=this._slots.get(e.adUnitCode);t&&(t.servedPrebidBidResponse=e,this._slots.bidServed.emit(t))})),this._prebidMethods.onEvent("auctionEnd",(e=>{e.adUnitCodes.forEach((e=>{const t=this._slots.get(e);if(t){const e=this._prebidMethods.getAdserverTargetingForAdUnitCode(t.id);t.googleTagSlot&&!Object.keys(e).length&&t.googleTagSlot.setTargeting("hb_bidder","noBid")}else{const t=this._prebidMethods.getAdserverTargetingForAdUnitCode(e);this._slotEventBus.addPrebidSlotTargeting.emit({adUnitCode:e,slotTargeting:t})}}))}));const e=()=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._updateHighImpactUnitTargeting(),this._prebidMethods.offEvent("beforeRequestBids",e)};this._prebidMethods.onEvent("beforeRequestBids",e),this._predictiveAnalysisResult&&this._setVideoBidsFilter(),this._prebidMethods.onEvent("bidRequested",(()=>{this.bidsRequested.emit()}))}_setVideoBidsFilter(){if(this._adthrive.core=this._adthrive.core||{},this._adthrive.core.predictiveAnalysis=this._adthrive.core.predictiveAnalysis||[],!this._adthrive.core.predictiveAnalysis.length)return;const e=e=>{const t=this._config.context.device;return"1"===e?"phone"===t:"tablet"===t||"desktop"===t},t=this._adthrive.core.predictiveAnalysis.filter((t=>parseFloat(t.error_rate)>this._predictiveAnalysisResult&&"1"===t.chrome===H()&&e(t.mobile))),i={};t.forEach((e=>{const t=`${e.adomain},${e.bidder}`;i[t]=!0})),this._prebidMethods.setBidsReceivedFilter((e=>e.length&&this._config.video.instreamAdUnits.has(e[0].adUnitCode)?e.filter((e=>{var t,s;let n=!0;return null===(s=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)||void 0===s||s.forEach((t=>{const s=t+","+e.bidder;i[s]&&(n=!1)})),n})):e))}_updateSlotTargeting(e){if(!this._mediaType.outstreamSlots.has(`${e.placementMapName}`))return;const t=this._config.adTypes.enabledMinified.map((e=>e.toLowerCase())).filter((e=>"od"===e||"om"===e));t.length&&this._gam.setSlotTargeting({key:"hi_au",value:t},e.googleTagSlot)}instlEnabled(e){return"Interstitial"===e&&this._config.adOptions.interstitial.prebid}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}addSlots(e){const t=this._orderedDisplayBidders.map((t=>t.getBidRequests(e))),i=e.filter((e=>"Interstitial"!==e.location||this.instlEnabled(e.location))).sort(((e,t)=>e.auctionPriority-t.auctionPriority)).map((e=>{const i=this.instlEnabled(e.location),s=this._ortb2.addOrtb2Imp({slot:e},i);this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(e);return{code:i?this._config.prebid.interstitialAdUnitCode:e.element.id,mediaTypes:this._mediaType.getMediaType({slot:e}),...s?{ortb2Imp:s}:{},bids:t.map((t=>t.get(e.id))).filter(Qe).reduce(((e,t)=>e.concat(t)),[])}}));return this._prebidMethods.addAdUnits(i),this._setAdUnitOnSLot(e),i}_setAdUnitOnSLot(e){const t=this._prebidMethods.getPrebidAdUnits();t&&e.forEach((e=>{const i=t.filter((t=>t.code===e.element.id));i.length&&(e.prebidAdUnit=i[0])}))}_updateSlots(e){e.forEach((e=>{e.isHighlyViewable()&&(this._updateBidderBidParams(e),this._updateAdUnitParams(e))}))}_updateAdUnitParams(e){const t=e.prebidAdUnit;if(t){const i=t.ortb2Imp&&t.ortb2Imp.ext&&t.ortb2Imp.ext.prebid,s=i&&i.floorMin&&{ext:{data:{},prebid:{floorMin:i.floorMin}}},n=this._ortb2.addOrtb2Imp({slot:e},!1,s);t.ortb2Imp=n,t.mediaTypes=this._mediaType.getMediaType({slot:e})}}_updateBidderBidParams(e){const t=e.prebidAdUnit;t&&t.bids&&t.bids.forEach((t=>{const i=this._bidderSetup.biddersParams.get(t.bidder);i&&i.updateBidParams(t,e)}))}_updateHighImpactUnitTargeting(){const e=this._gam;Vs.pushToQueue((()=>{const t="hi_au",i=e.getTargetingValuesForKey(t).filter((e=>"od"!==e&&"om"!==e));i.length?e.setTargeting({key:t,value:i}):e.clearTargetingForKey(t)}))}_addOutstreamLabel(e,t){return this._mediaType.isOutstreamAllowed()&&e.forEach((e=>{this._mediaType.outstreamEnabled(e).outstreamCapable&&t.push(`outstreamCapable_${e.placementMapName}`),this._mediaType.outstreamEnabled(e).currentlyActive&&t.push(`outstreamActive_${e.placementMapName}`)})),t}_addHvpLabel(e,t){e.forEach((e=>{e.isHighlyViewable()&&t.push(`hvp_${e.placementMapName}`)}))}_addRefreshLabel(e,t){e.forEach((e=>{e.refreshCount>0&&t.push("refresh")}))}_addLabels(e,t){this._addRefreshLabel(e,t),this._addOutstreamLabel(e,t),this._addHvpLabel(e,t)}requestBids(e,t=this._config.timeouts.initialBidsRequest,i=[]){return new Promise((s=>{this.checkLibLoaded().then((n=>{n||s();const r=e.map((e=>this.instlEnabled(e.location)?this._config.prebid.interstitialAdUnitCode:e.element.id));this._addLabels(e,i),this._updateSlots(e),this._prebidMethods.requestBids({adUnitCodes:r,timeout:t,bidsBackHandler:()=>{Vs.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(r),s()}))},labels:i})})).catch((e=>D.error("PrebidAuctionManager","requestBids",e)))}))}addVideoSlots(e){const t=this._orderedVideoBidders.map((t=>t.getVideoBidRequests(e))),i=e.map((e=>{const i=this._ortb2.addOrtb2Imp({video:e}),s={code:e.name,ortb2Imp:i,mediaTypes:this._mediaType.getMediaType({video:e}),bids:t.map((t=>t.get(e.name))).filter(Qe).reduce(((e,t)=>e.concat(t)),[])};return e.videoAdUnit=s,s}));this._prebidMethods.addAdUnits(i)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest){const i=e.map((({name:e})=>e));return new Promise((e=>{this.checkLibLoaded().then((s=>{s||e(),this._prebidMethods.requestBids({adUnitCodes:i,timeout:t,bidsBackHandler:()=>{Vs.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(i),e()}))}})})).catch((e=>D.error("PrebidAuctionManager","requestVideoBids",e)))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest)}checkLibLoaded(){return new Promise((e=>{this._bootstrapConfig.bootstrapLoaders[xe.Prebid].then((()=>e(!0))).catch((()=>e(!1)))}))}get enabled(){return!U()}};pr=I([rt("PrebidAuctionManager"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ut,Ts,Vs,hr,er,on,Bs,lr,dr,As,ir,Us,Ks,St,Ys,Js])],pr);let ur=class{constructor(e,t,i,s,n){this._config=e,this._slotEventBus=s,this._videoEventBus=n,this._auctionManagers=[i,t],this._auctionManagers=this._auctionManagers.filter((e=>e.enabled)),this._setSlotEvents(),this._setVideoEvents()}_setSlotEvents(){this._slotEventBus.addSlots.on((e=>this._addSlots(e))),this._slotEventBus.requestingBids.on((e=>this._requestBids(e))),this._slotEventBus.refreshingBids.on((e=>this._refreshBids(e)))}_setVideoEvents(){this._videoEventBus.videoPlayerAdded.on((e=>this._addVideoSlots(e))),this._videoEventBus.requestingVideoBids.on((({videos:e,timeout:t})=>this._requestVideoBids(e,t)))}init(){this._auctionManagers.forEach((e=>void 0!==e.init&&e.init()))}_requestBids(e){return Promise.all(this._auctionManagers.map((t=>t.requestBids(e))))}_refreshBids(e){return Promise.all(this._auctionManagers.map((t=>t.refreshBids(e))))}_addSlots(e){this._auctionManagers.forEach((t=>{void 0!==t.addSlots&&t.addSlots(e)}))}_addVideoSlots(e){this._auctionManagers.filter((e=>e.videoEnabled&&e.addVideoSlots)).forEach((t=>t.addVideoSlots(e)))}_requestVideoBids(e,t){return Promise.all(this._auctionManagers.filter((e=>e.videoEnabled)).map((i=>i.requestVideoBids(e,t))))}getPrebidAuctionManager(){for(const e of this._auctionManagers)if(e instanceof pr)return e}getAmazonAuctionManager(){for(const e of this._auctionManagers)if(e instanceof $s)return e}};ur=I([rt("AuctionManagers"),A(),O("design:paramtypes",[Ts,pr,$s,St,Ct])],ur);let gr=class{constructor(e){this._commands=e.cmd||[]}init(){if(this._commands.length>0){for(const e of this._commands){this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}this._commands=[]}}push(e){if(this._commands.length>0)this._commands.push(e);else{this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}}_call(e){e.call(void 0)}_isGamMethod(e){return e&&(e.includes("setTargeting(")||e.includes("googletag")||e.includes("pubads"))}_addToGamQueue(e){Vs.pushToQueue((()=>{this._call(e)}))}};gr=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],gr);let _r=class{constructor(e,t,i,s,n){this._config=e,this._googleAdManager=t,this._slots=i,this._eventBus=s,this._floors=n,this.added=new R,this.cleared=new R,this.displayed=new R,this.displaying=new R,this.refreshed=new R,this.refreshing=new R,this.refreshingBids=new R,this.refreshedBids=new R,this.requestingBids=new R,this.requestedBids=new R,this.refreshInterval=25e3}async add(e){await this._googleAdManager.waitForQueue();const t=this._googleAdManager.defineSlots(this.castArray(e)),i=this._config.marmalade;return t.forEach((e=>{e.setViewability(i),e.setHighlyViewable(i),this._config.clsOptimizedAds.setStyle(e.element,e.location)})),this._eventBus.addSlots.emit(t),this._slots.add(t),await this.added.legacyEmit(t),t}async clear(e){const t=this.castArray(e);return t.forEach((e=>{e.displayed=!1,this.setMinDimensions(e.element)})),this._googleAdManager.clearSlots(t),await this.cleared.legacyEmit(t),t}destroy(e){const t=this.castArray(e);return this.pauseRefresh(t),this._slots.remove(t),this._googleAdManager.destroySlots(t),t}rebuild(e){const t=this.castArray(e),i=this._googleAdManager;for(const e of t)Vs.pushToQueue((()=>{const t=["refresh","inf_scroll","decref","nref","hvp","lazy"].reduce(((t,i)=>{const s=e.getTargeting(i);return s.length&&t.push({key:i,value:s}),t}),[]);i.destroySlots(this.castArray(e)),i.defineSlots(this.castArray(e)),e.setTargeting(t)}));return t}async refresh(e,t=!0){const i=this.castArray(e);for(const e of i)e.refreshCount++,e.servedPrebidBidResponse=void 0;return await this.refreshing.legacyEmit(i),await Promise.all([!t||Q(this._config.timeouts.refreshBidsRequest),this.refreshBids(i)]).then((()=>this._googleAdManager.refreshSlots(i))),await this.refreshed.legacyEmit(i),i}async display(e){const t=this.castArray(e);return await this.displaying.legacyEmit(t),await this.requestBids(t).then((()=>this._googleAdManager.displaySlots(t))),t.forEach((e=>{e.displayed=!0})),await this.displayed.legacyEmit(t),t}inView(e){const t=this.castArray(e);return t.forEach((e=>this.setRefreshTimeout(e))),t}outOfView(e){const t=this.castArray(e);return t.filter((e=>!e.alwaysInView)).filter((e=>"IntersectionObserver"in window?e.outOfViewGPT&&e.outOfViewIO:e.outOfViewGPT)).forEach((e=>{const t=e.element.querySelector("div > iframe");Ee(e.element)&&t&&Ee(t)&&this.clearRefreshTimeout(e)})),t}pauseRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshTimeout)).forEach((e=>{e.refreshPaused=!0,this.clearRefreshTimeout(e)})),t}resumeRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshPaused)).forEach((e=>{e.refreshPaused=!1,this.setRefreshTimeout(e)})),t}updateRefreshTimeout(e,t){const i=this.castArray(e);return i.forEach((e=>{e.refreshInterval=t,e.refreshTimeout&&(this.clearRefreshTimeout(e),this.setRefreshTimeout(e))})),i}clearRefreshTimeout(e,t=!1){this.castArray(e).filter((e=>e.refreshTimeout)).forEach((e=>{window.clearTimeout(e.refreshTimeout),e.refreshTimeout=void 0,t?e.viewableDuration=0:e.viewableSince&&(e.viewableDuration+=Ge()-e.viewableSince.getTime())}))}setRefreshTimeout(e){this.castArray(e).filter((e=>!e.refreshTimeout)).forEach((e=>{const t=K(e.refreshInterval,this.refreshInterval);t>0&&(e.viewableSince=new Date,e.refreshTimeout=window.setTimeout((()=>{e.viewableDuration=0,e.refreshInterval=void 0,e.refreshTimeout=void 0,this.refresh(e).catch((e=>{}))}),t-e.viewableDuration))}))}delayRequestBids({id:e,lazy:t,location:i},s){return this._floors.handleDelayedBids(i,e).then((()=>{this._floors.removeDelayedBid(i,e)})).catch((()=>{D.error("SlotManager","delayRequestBids",`FPVNonLazyExperiment enabled. Error requesting for slot ${e} (lazy: ${t}) with delay of ${this._config.floors.floorsExperiment.delay}`,`Seconds elapsed: ${Math.floor(Date.now()/1e3-s)}`)}))}async requestBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction&&(!e.lazy||this._config.lazyLoad.lzhb)));if(0===t.length)return t;const i=this._config.floors;if(i.floorsExperiment.percentile.fpvNonLazy&&i.isFPVNonLazySlot(t[0])){const{id:e,lazy:i,location:s}=t[0];await this.delayRequestBids({id:e,lazy:i,location:s},Date.now()/1e3)}return await this.requestingBids.legacyEmit(t),await this._eventBus.requestingBids.legacyEmit(t),await this.requestedBids.legacyEmit(t),t}async refreshBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction));return t.length>0&&(await this.refreshingBids.legacyEmit(t),await this._eventBus.refreshingBids.legacyEmit(t),await this.refreshedBids.legacyEmit(t)),t}castArray(e){if("string"==typeof e){const t=this._slots.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}setMinDimensions(e){const t=getComputedStyle(e,null);e.style.minHeight=t.getPropertyValue("height"),e.style.minWidth=t.getPropertyValue("width")}};_r=I([rt("SlotManager"),A(),O("design:paramtypes",[Ts,Vs,As,St,qs])],_r);let mr=class{constructor(){this.wasClosed=!1,this.wasStarted=!1,this.totalTimeCollapsed=0}};mr=I([rt("CollapsibleVideoLoggingStore"),A()],mr);let yr=class extends yt{constructor(e,t){super(),this._result=!1,this.key="upl",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};yr=I([rt("UserPageDataLoggingExperiment"),A(),O("design:paramtypes",[gt,Ft])],yr);let fr=class extends yt{constructor(e){super(),this._result=!1,this.key="UserPageDataPrivacyLoggingExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Tt(this.weight).get()}};fr=I([rt("UserPageDataPrivacyLoggingExperiment"),A(),O("design:paramtypes",[Ft])],fr);let vr=class extends Os{constructor(e,t,i,s,n,r,o,a,l){super(),this._bootstrapConfig=e,this._config=t,this._pageManager=i,this._prebidMethods=s,this._slotManager=n,this._userPageDataLoggingExperiment=r,this._userPageDataPrivacyLoggingExperiment=o,this._userPageDataLogEvents=a,this._collapsibleVideoLoggingStore=l,this._userPrivacyData={},this._getUserData=()=>({device:this._config.context.device,timePageOpen:Ve()-this._config.timing.started,timeOnPage:this._config.timing.totalTimeOnPage,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,video:{nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},...this._userPrivacyData,...!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut&&{uid1:Je("adserver.org",this._prebidMethods.isPrebidLoaded())}})}init(){const{reasons:e}=this._config.disableAds;Promise.all([0!==e.size?0:this._slotManager.requestingBids.legacyOnce().then((()=>Ve())),0!==e.size?0:this._slotManager.requestedBids.legacyOnce().then((()=>Ve())),0!==e.size?0:this._slotManager.displayed.legacyOnce().then((()=>Ve())),Ne()]).then((([e,t,i])=>this._setTimingData(e,t,i))).catch((e=>D.error("UserPageDataComponent","init",e))),te()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],(()=>{"hidden"===document.visibilityState&&this._logUserData()})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],(()=>this._logUserData())),this._logUserPrivacyData().catch((()=>{D.error("_logUserPrivacyData: ","Could not log user privacy.")}))}get enabled(){return this._userPageDataLoggingExperiment.result}_setTimingData(e,t,i){if(window.performance&&window.performance.timing){const s=window.performance.timing;if(s&&0!==s.navigationStart){const n={pageLoad:s.loadEventStart-s.navigationStart,domainLookup:s.domainLookupEnd-s.domainLookupStart,connect:s.connectEnd-s.connectStart,request:s.responseStart-s.requestStart,response:s.responseEnd-s.responseStart,navigation:s.fetchStart-s.navigationStart,domInteractive:s.domInteractive-s.navigationStart,domContentLoaded:s.domContentLoadedEventStart-s.navigationStart};if(Object.keys(n).map((e=>n[e])).every((e=>!isNaN(e)&&e>=0&&e<36e5))){this._setNonBlockingLibraryTimingData();const{reasons:s}=this._config.disableAds;this._timingData={...n,...this._config.timing.timingData,disableAds:s.size>0?[...s].join(","):"none",auctionStarted:e,auctionFinished:t,displayed:i}}}}}_setNonBlockingLibraryTimingData(){this._config.timing.setNonBlockingLibraryTimingData(this._bootstrapConfig.bootstrapResult)}_logUserData(){this._userPageDataLogEvents.loggingData.emit(),this._userPageDataLogEvents.setUserPageData({...this._timingData&&{UserPageTimingData:this._timingData},UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in document)try{return await document.dataConsentPreference()}catch(e){return null}return null}};vr=I([rt("UserPageDataLoggingComponent"),P(),O("design:paramtypes",[Ut,Ts,pi,Bs,_r,yr,fr,rs,mr])],vr);let br=class extends yt{constructor(e){super(),this._result=!1,this.key="AdDensityExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Tt(this.weight).get()}};br=I([rt("AdDensityExperiment"),A(),O("design:paramtypes",[Ft])],br);const Sr=()=>window.location.origin+"/"===window.location.href.split("?")[0];let Cr=class extends Os{constructor(e,t,i,s,n,r,o){super(),this._gam=e,this._config=t,this._adDensityExperiment=i,this._slots=s,this._slotManager=n,this._pageManager=r,this._userPageDataLogEvents=o,this._initialSlotsTimeout=1e4,this._addToMainContent=new Set(["Below_Post"]),this._slotsForAdDensity=new Set(["Content","Recipe","Native_Recipe","Sponsor_Tile","Below_Post","Footer"]),this._mainContent=null,this._commentElem=null,this._heightsRegistered=!1,this._initMainContentHeight=null,this._endMainContentHeight=null,this._slotsHeightLoad=null,this._slotsHeightEnd=null,this._slotsHeightVideo=null,this._slotsForInitial=new Set,this._slotsForMainContent=new Set,this._slotsForEnd=new Set}init(){this._mainContent=(()=>{const e=document.querySelectorAll("article");if(0===e.length)return null;let t=e.item(0);return e.forEach((e=>{e.offsetHeight>t.offsetHeight&&(t=e)})),t&&t.offsetHeight>1.5*window.innerHeight?t:null})(),null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on((()=>{this._heightsRegistered||(setTimeout((()=>{this._getSlotHeights()}),this._initialSlotsTimeout),this._heightsRegistered=!0)})),this._slotManager.added.on((e=>{e.some((e=>e.infinite))||this._addSlots(e)})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],(()=>this._logAdDensity())))}_logAdDensity(){const e={...this._initMainContentHeight&&this._slotsHeightLoad&&{addensload:Math.round(this._slotsHeightLoad/this._initMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightVideo&&{addensvid:Math.round(this._slotsHeightVideo/this._endMainContentHeight*100)}};Object.keys(e).length>0&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:e})}_addSlots(e){e.filter((e=>this._slotsForAdDensity.has(e.location))).forEach((e=>{e.lazy||(this._slotsForInitial.add(e.name),this._addToMainContent.has(e.location)&&this._slotsForMainContent.add(e.name)),this._slotsForEnd.add(e.name)}))}isSlotInMainContent(e){var t;return!(!(null===(t=this._mainContent)||void 0===t?void 0:t.querySelector(`#${e.id}`))||this.isSlotInComment(e))}isSlotInComment(e){return!(!this._commentElem||!this._commentElem.querySelector(`#${e.id}`))}_getSlotHeights(){let e=0,t=0;this._slots.get().forEach((i=>{this._slotsForInitial.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightLoad=e,this._mainContent&&(this._initMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._initMainContentHeight+=t)}_initObserver(e){const t=e.querySelector("div #comments, section .comments");this._observer=this.getIntersectionObserver(t),null!==t?(this._commentElem=t,this._observer.observe(this._commentElem)):this._observer.observe(e)}getIntersectionObserver(e){return new IntersectionObserver((t=>{var i,s;for(const n of t)null!==this._initMainContentHeight&&(null===e&&n.boundingClientRect.top<0&&(this._calculateSlotHeightsAtEnd(),null===(i=this._observer)||void 0===i||i.unobserve(this._mainContent)),null!==e&&n.boundingClientRect.top>0&&(this._calculateSlotHeightsAtEnd(),null===(s=this._observer)||void 0===s||s.unobserve(e)))}),{})}_calculateSlotHeightsAtEnd(){let e=0,t=0;if(this._slots.get().forEach((i=>{this._slotsForEnd.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightEnd=e,this._mainContent&&(this._endMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._endMainContentHeight+=t),this._config.video.playlistPlayerAdded){const t=document.querySelector(".adthrive-collapse-player");e+=t?t.offsetHeight:0}if(this._config.video.contextualPlayerAdded){document.querySelectorAll(".adthrive-video-player").forEach((t=>{e+=t.offsetHeight}))}if(this._config.video.sekindoPlayerAdded){const t=document.querySelector(".adthrive-sekindo-player");e+=t?t.offsetHeight:0}this._slotsHeightVideo=e}get enabled(){return this._adDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&!Sr()}};Cr=I([rt("AdDensityComponent"),P(),O("design:paramtypes",[Vs,Ts,br,As,_r,pi,rs])],Cr);let wr=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t}init(){if(this._config.context.querystring.has("ad_test")){const e=this._config.context.querystring.get("ad_test");this._gam.setTargeting({key:"sec",value:e.split(",").map((e=>`test${e}`))})}}};wr=I([rt("AdTestComponent"),P(),O("design:paramtypes",[Ts,Vs])],wr);let Er=class extends yt{constructor(e,t){super(),this._result=!1,this.key="bmetrics",this._choices=[{choice:!0},{choice:!1}],this.weight=.99;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};Er=I([rt("BrandMetricsExperiment"),A(),O("design:paramtypes",[gt,Ft])],Er);let kr=class extends Os{constructor(e,t,i){super(),this._brandMetricsExperiment=e,this._gam=t,this._prebidAuctionManager=i,this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once((()=>{this._load()}))}get enabled(){return this._brandMetricsExperiment.result}_load(){he(this._url).then((()=>this._monitorSurvey())).catch((()=>{}))}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(e,t)=>{e&&t&&t.measurementId&&this._gam.setTargeting({key:"bms",value:[t.measurementId.toString()]})}}})}};kr=I([rt("BrandMetrics"),P(),O("design:paramtypes",[Er,Vs,pr])],kr);let xr=class extends Os{constructor(e){super(),this._config=e}init(){(e=>{const t=document.body,i=`adthrive-device-${e}`;if(!t.classList.contains(i))try{t.classList.add(i)}catch(e){D.error("BodyDeviceClassComponent","init",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t})}})(this._config.context.device)}};xr=I([rt("BodyDeviceClassComponent"),P(),O("design:paramtypes",[Ts])],xr);let Tr=class extends Os{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.ccpaRequired=this._config.ccpa.required,this.privacyString=this._config.ccpa.privacyString,this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable,this.ccpaOptIn=this._config.ccpa.ccpaOptIn,this.ccpaOptOut=this._config.ccpa.ccpaOptOut,this.gpcEnabled=!!this._config.ccpa.gpcEnabled,this.gpcUpdated=!1,this.globalPrivacyControl=window.navigator.globalPrivacyControl}init(){window.__uspapi=this.uspapi.bind(this),this.addLocatorFrame(),this.ccpaRequired?(this.setGpcString(),!0===this.gpcEnabled?this.setPrivacyString(this.ccpaOptOut):this.setPrivacyString(this.ccpaOptIn),this.addOptOutLink(),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(e,t=!1){const i=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,s=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;if(""===this.privacyString||!0===t||i||s||this.gpcUpdated){const t=new Date(2147483647e3).toUTCString();document.cookie=`usprivacy=${e};path=/;expires=${t}`,this.privacyString=e}}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(localStorage.removeItem("adthrive_gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}setDeviceAccess(){const e=this.privacyString===this.ccpaOptIn;this._prebidMethods.setConfig({deviceAccess:e})}addOptOutLink(){const e="Do not sell my personal information.",t="Customize my ad experience.",i=this.privacyString===this.ccpaOptIn?e:t,s=document.createElement("div");s.className="adthrive-ccpa-link",s.innerHTML="Information from your device can be used to personalize your ad experience. <br> ";const n=document.createElement("a");n.innerHTML=i,n.addEventListener("click",(()=>{this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),n.textContent=t):(this.setPrivacyString(this.ccpaOptIn,!0),n.textContent=e),this._config.ccpa.consentChange.emit(this.privacyString),this.setDeviceAccess()}).bind(this)),s.appendChild(n),this._config.footer.elements.push({order:1,element:s})}uspapi(e,t,i){i({command:e,version:t,uspString:qe("usprivacy")},!0)}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){const e=document.createElement("iframe");e.style.display="none",e.id="__uspapiLocator",e.name="__uspapiLocator",document.body.appendChild(e)}}};Tr=I([rt("CCPAComponent"),P(),O("design:paramtypes",[Ts,Bs])],Tr);let Pr=class extends Os{constructor(e){super(),this._config=e}init(){const{comscore:e,comscoreMessage:t}=this._config.comscore;e&&this._config.footer.elements.push({order:2,element:`<span>An Elite ${t} Publisher</span>`})}};Pr=I([rt("ComscoreFooterComponent"),P(),O("design:paramtypes",[Ts])],Pr);let Ar=class extends yt{constructor(e,t){super(),this._result=!1,this.key="confiant",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"exp":"prod"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ar.prototype,"run",null),Ar=I([rt("ConfiantRefreshExperiment"),A(),O("design:paramtypes",[gt,Ft])],Ar);let Ir=class extends yt{constructor(e,t){super(),this._result=!1,this.key="cnfep",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};Ir=I([rt("ConfiantEndpointExperiment"),A(),O("design:paramtypes",[gt,Ft])],Ir);const Mr=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]);let Or=class extends Os{constructor(e,t,i){super(),this._config=e,this._confiantRefreshExperiment=t,this._confiantEndpointExperiment=i,this._prodPropertyId="mOinGM9MTu5v-Lto835XLhlrSPY",this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE",this._trackerHoldoutKey="conf"}init(){const e=this._confiantRefreshExperiment.result?this._expPropertyId:this._prodPropertyId,t=`https://${this._confiantEndpointExperiment.result?"cdn.confiant-integrations.net":"confiant-integrations.global.ssl.fastly.net"}/${e}/gpt_and_prebid/config.js`;return window.confiant=window.confiant||{},window.confiant.callback=(e,t,i,s,n)=>{const r=Mr.get(e);D.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:e,blockingType:r?r.type:"unknown",description:r?r.description:"unknown",tagId:n,wrapperId:s,blockingId:t,isBlocked:i})},he(t)}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}};Or=I([rt("ConfiantComponent"),P(),O("design:paramtypes",[Ts,Ar,Ir])],Or);let zr=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t,this.debug=!1,this.debug=this._config.context.debug}getConfigTargeting(){const e=this._config,t=this._config.context,i=this.debug;return[...e.gam.targeting,{key:"abgroup",value:e.abGroup.groups},{key:"pubab",value:e.pubAbGroup.groups},{key:"bucket",value:i?"unsupported":t.bucket},{key:"sens",value:e.site.sensitiveCategories},{key:"domain",value:t.domain},{key:"plugin",value:t.plugin},{key:"hi_au",value:e.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:t.querystring.has("ri")?t.querystring.get("ri"):String(Math.floor(100*Math.random()))},{key:"pvk",value:t.pageviewKey},{key:"sess",value:t.sessionKey},{key:"branch",value:t.branch},{key:"deployment",value:i||t.invalidTraffic?"unsupported":t.deployment},{key:"hbho",value:e.hbho.bidders},{key:"vbho",value:e.vbho.bidders},{key:"gptv",value:googletag.getVersion()}]}getConditionalTargeting(){const e=[],t=this._config.context,i=this._config.site,s=this._config.ccpa;return i.sensCategoriesOff.length&&e.push({key:"sens_off",value:i.sensCategoriesOff}),t.connectionTargeting.length&&e.push({key:"connection",value:t.connectionTargeting}),s.required&&e.push({key:"ccpaOptOut",value:s.userOptedOut?"1":"0"}),e}setConditionalFlagTargeting(){const e=this._config.context;e.invalidTraffic&&this._gam.setTargetingFlag("bot",e.invalidTraffic),e.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",e.adsMinLoadDuration),this._config.gdpr.isRequired&&this._gam.setTargetingFlag("gdpr",["1"]),this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",["1"]),this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[String(!!this._config.clsOptions.injectedFromPlugin)]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""])),e.integration&&this._gam.setTargetingFlag("integration",[e.integration]),e.deliveryVersion&&this._gam.setTargetingFlag("lmdv",[e.deliveryVersion])}init(){Vs.pushToQueue((()=>{this._gam.setTargeting([...this.getConfigTargeting(),...this.getConditionalTargeting()]),this.setConditionalFlagTargeting()}))}};zr=I([rt("ConfigTargetingComponent"),P(),O("design:paramtypes",[Ts,Vs])],zr);let Rr=class extends Os{constructor(e,t){super(),this._gam=e,this._slots=t}init(){this._gam.slotRenderEnded.on((e=>this.confirmedClickOverlay(e)))}confirmedClickOverlay({event:e,slot:t}){Vs.pushToQueue((()=>{const{id:i,location:s,sequence:n,nref:r}=t.getTargetingMap(),o=this.confirmedClickStatus(this._slots.get(e.slot.getSlotElementId()));ye({event:e,ignoreOtherCompanyIds:!0})&&o&&D.event("confirmedClickOverlay","status",{id:i,location:s,sequence:n,nref:r,confirmedClick:o})}))}confirmedClickStatus(e){const t=["common_15click_overlay","common_15click_anchor"];try{const i=null==e?void 0:e.element.querySelectorAll("iframe[id^=google_ads_iframe]");let s;return i&&(null==i?void 0:i.length)>0&&(s=i[0]),t.some((e=>{var t;return null!=(null===(t=null==s?void 0:s.contentDocument)||void 0===t?void 0:t.getElementById(e))}))}catch(e){D.error("ConfirmedClickComponent","confirmedClickStatus",e)}return!1}};Rr=I([rt("ConfirmedClicksComponent"),P(),O("design:paramtypes",[Vs,As])],Rr);let Br=class extends Os{constructor(e,t,i){super(),this._config=e,this._gam=t,this._slotManager=i,this._device=this._config.context.device}init(){const e=this._slotManager;this._gam.slotRenderEnded.on((({event:t,slot:i})=>{this.isDeclaredRefreshCompliantSlot(i)&&ye({event:t})&&e.updateRefreshTimeout(i.id,24e4)})),e.added.on((e=>e.forEach((e=>{this.isDeclaredRefreshCompliantSlot(e)&&Vs.pushToQueue((()=>{e.setTargeting({key:"decref",value:"240"})}))}))))}isDeclaredRefreshCompliantSlot(e){return"Sidebar"===e.location&&("phone"===this._device||"tablet"===this._device)||"Header"===e.location&&2===e.sequence&&("phone"===this._device||"tablet"===this._device)}};Br=I([rt("DeclaredRefreshComponent"),P(),O("design:paramtypes",[Ts,Vs,_r])],Br);let Dr=class extends Et{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._clsOptions=s,this._choices=[],this._mappedChoices=[],this._result="control",this.key=Re.AdDensity,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const n=this._clsOptions.getWeightedChoiceExperiment(this.key,!0);this.enabled&&this._validResult(n)?(this._result=n,this.setExperimentTargeting()):this.enabled&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this.mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){this.enabled||D.error("AdDensitySiteExperiment","run","No experiment config found");const e=new Pt(this._mappedChoices).get();return this._validResult(e)?e:(D.error("AdDensitySiteExperiment","run","Invalid result from experiment choices. Defaulting to control."),"control")}setExperimentTargeting(){if(!this.enabled||!this._validResult(this._result))return void D.error("AdDensitySiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config and valid result");const e=this.experimentConfig,t=`${e.key.toLowerCase()}-${e.id}`,i="control"===this._result?"control":`${Math.round(100*this._result)}`;return this._pubabgroup.set(t,i),this._ga.addSiteExperimentEventLabel({label:t,value:i}),`${t}:${i}`}mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:"number"==typeof t?(t||0)/100:"control"})))}_validResult(e){return"number"==typeof e||"control"===e}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Dr.prototype,"run",null),Dr=I([rt("AdDensitySiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt,ci])],Dr);class Vr{constructor(e){this._adInjectionMap=e,this._totalContentInserted=0,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._totalAvailableElements=[],this._densityDevice=Pe.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this._smallerIncrementAttempts=0,this._absoluteMinimumSpacingByDevice=250,this._usedAbsoluteMinimum=!1,this.locationMaxLazySequence=new Map([["Recipe",5]])}inject(e,t=document){window.adthriveCLS&&window.adthriveCLS.targetDensityLog&&D.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog),this._densityDevice="desktop"===this._config.context.device?Pe.Desktop:Pe.Mobile,this._overrideDefaultAdDensitySettingsWithSiteExperiment();const i=this._config.targetDensity.enabled,s=e.filter((e=>i?"Content"!==e.location:e)),n=e.filter((e=>i?"Content"===e.location:null));return[...s.length?this._injectNonDensitySlots(s,t):[],...n.length?this._injectDensitySlots(n,t):[]]}_injectNonDensitySlots(e,t=document){const i=[];for(const s of e){let e=0,n=0,r=0;s.spacing>0&&(e=window.innerHeight*s.spacing,n=e);const o=this._repeatDynamicAds(s),a=this.getElements(s.elementSelector,t);s.skip;for(let l=s.skip;l<a.length&&!(r+1>o.length);l+=s.every){let d=a[l];if(e>0){const{bottom:t}=J(d);if(t<=n)continue;n=t+e}const c=o[r],h=`${c.location}_${c.sequence}`;if(i.some((e=>e.name===h))){r+=1;continue}const p=this.getDynamicElementId(c),u=`adthrive-${s.location.replace("_","-").toLowerCase()}`,g=[u,`${u}-${s.sequence}`,...s.classNames],_=this.addAd(d,p,s.position,g,s.location);if(_){const e=this._filterAdUnitSizes(c,_);e.length&&(i.push(this.createSlot(c,_,e,t!==document)),"Recipe"===s.location&&++this._recipeCount,r+=1),d=_}}}return i}_injectDensitySlots(e,t=document){try{this._calculateMainContentHeightAndAllElements(e,t)}catch(e){return[]}const{onePerViewport:i,targetAll:s,targetDensityUnits:n,combinedMax:r,numberOfUnits:o}=this._getDensitySettings(e,t);return this._absoluteMinimumSpacingByDevice=i?window.innerHeight:this._absoluteMinimumSpacingByDevice,o?(this._adInjectionMap.filterUsed(),this._findElementsForAds(o,i,s,r,n,t),this._insertAds()):[]}_overrideDefaultAdDensitySettingsWithSiteExperiment(){const e=x.resolve(Dr);if(!e.enabled)return;const t=e.result;"number"==typeof t&&(this._config.targetDensity.enabled=!0,this._config.targetDensity.settings[this._densityDevice].adDensity=t)}_getDensitySettings(e,t=document){const i=this._config.targetDensity.settings,s=this._determineOverrides(i.pageOverrides),n=s.length?s[0]:i[this._densityDevice],r=n.adDensity,o=n.onePerViewport,a=this._shouldTargetAllEligible(r),l=this._getTargetDensityUnits(r,a),d=this._getCombinedMax(e,t),c=Math.min(this._totalAvailableElements.length,l,...d>0?[d]:[]);return this._pubLog={onePerViewport:o,targetDensity:r,targetDensityUnits:l,combinedMax:d},{onePerViewport:o,targetAll:a,targetDensityUnits:l,combinedMax:d,numberOfUnits:c}}_determineOverrides(e){return e.filter((e=>{const t=et(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((e=>e[this._densityDevice]))}_shouldTargetAllEligible(e){return e===this._densityMax}_getTargetDensityUnits(e,t){return t?this._totalAvailableElements.length:Math.floor(e*this._mainContentHeight/(1-e)/this._getMinDivHeight())-this._recipeCount}_getMinDivHeight(e="Content"){return this._config.clsOptimizedAds.getDivHeight(e,this._config.context.device)}_getCombinedMax(e,t=document){return K(e.filter((e=>{let i;try{i=t.querySelector(e.elementSelector)}catch(e){}return i})).map((e=>Number(e.max)+Number(e.lazyMaxDefaulted?0:e.lazyMax))).sort(((e,t)=>t-e))[0],0)}_elementLargerThanMainContent(e){return e.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements.length>1}_elementDisplayNone(e){const t=window.getComputedStyle(e,null).display;return t&&"none"===t||"none"===e.style.display}_isBelowMaxes(e,t){return this._adInjectionMap.map.length<e&&this._adInjectionMap.map.length<t}_findElementsForAds(e,t,i,s,n,r=document){D.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:t,combinedMax:s,targetDensityUnits:n,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length});const o=e=>{for(const{dynamicAd:t,element:o}of this._totalAvailableElements)if(this._logDensityInfo(o,t.elementSelector,e),!(!i&&this._elementLargerThanMainContent(o)||this._elementDisplayNone(o))){if(!this._isBelowMaxes(s,n))break;this._checkElementSpacing({dynamicAd:t,element:o,insertEvery:e,targetAll:i,target:r})}!this._usedAbsoluteMinimum&&this._smallerIncrementAttempts<5&&(++this._smallerIncrementAttempts,o(this._getSmallerIncrement(e)))},a=this._getInsertEvery(e,t,n);o(a)}_getSmallerIncrement(e){let t=.6*e;return t<=this._absoluteMinimumSpacingByDevice&&(t=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0),t}_insertAds(){const e=[];return this._adInjectionMap.filterUsed(),this._adInjectionMap.map.forEach((({el:t,dynamicAd:i,target:s},n)=>{const r=Number(i.sequence)+n,o=i.max,a=i.lazy&&r>o;i.sequence=r,i.lazy=a;const l=this._addContentAd(t,i,s);l&&(i.used=!0,e.push(l))})),e}_getInsertEvery(e,t,i){let s=this._absoluteMinimumSpacingByDevice;return this._moreAvailableElementsThanUnitsToInject(i,e)?(this._usedAbsoluteMinimum=!1,s=this._useWiderSpacing(i,e)):(this._usedAbsoluteMinimum=!0,s=this._useSmallestSpacing(t)),t&&window.innerHeight>s?window.innerHeight:s}_useWiderSpacing(e,t){return this._mainContentHeight/Math.min(e,t)}_useSmallestSpacing(e){return e&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(e,t){return this._totalAvailableElements.length>e||this._totalAvailableElements.length>t}_logDensityInfo(e,t,i){const{onePerViewport:s,targetDensity:n,targetDensityUnits:r,combinedMax:o}=this._pubLog;this._totalAvailableElements.length}_checkElementSpacing({dynamicAd:e,element:t,insertEvery:i,targetAll:s,target:n=document}){(this._isFirstAdInjected()||this._hasProperSpacing(t,e,s,i))&&(++this._totalContentInserted,this._markSpotForContentAd(t,{...e},n))}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(e,t,i=document){const s="beforebegin"===t.position||"afterbegin"===t.position;this._adInjectionMap.add(e,this._getElementCoords(e,s),t,i),this._adInjectionMap.sort()}_hasProperSpacing(e,t,i,s){const n="beforebegin"===t.position||"afterbegin"===t.position,r="beforeend"===t.position||"afterbegin"===t.position,o=i||this._isElementFarEnoughFromOtherAdElements(e,s,n),a=r||this._isElementNotInRow(e,n),l=-1===e.id.indexOf("AdThrive_Below_Post");return o&&a&&l}_isElementFarEnoughFromOtherAdElements(e,t,i){const s=this._getElementCoords(e,i);let n=!1;for(let e=0;e<this._adInjectionMap.map.length;e++){const i=this._adInjectionMap.map[e].coords,r=this._adInjectionMap.map[e+1]&&this._adInjectionMap.map[e+1].coords;if(n=s-t>i&&(!r||s+t<r),n)break}return n}_isElementNotInRow(e,t){const i=e.previousElementSibling,s=e.nextElementSibling,n=t?!i&&s||i&&e.tagName!==i.tagName?s:i:s;return!(!n||0!==e.getBoundingClientRect().height)||(!n||e.getBoundingClientRect().top!==n.getBoundingClientRect().top)}_calculateMainContentHeightAndAllElements(e,t=document){const i=this._setMainContentAndElements(e,t);this._mainContentDiv=i;const s=this._mainContentDiv.querySelector("div #comments, section .comments");this._mainContentHeight=s?this._mainContentDiv.offsetHeight-s.offsetHeight:this._mainContentDiv.offsetHeight}_setMainContentAndElements(e,t=document){const i=this._getElementsFromDynamicAdEntry(e,t);if(0===i.length)throw Error("No Main Content Elements Found");return Array.from(i).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e))||document.body}_getElementsFromDynamicAdEntry(e,t=document){const i=this._getLongestArticleTag(t),s=i?[i]:[],n=[];e.forEach((e=>{const i=Array.from(this.getElements(e.elementSelector,t)).slice(0,e.skip);this._getSelectors(e.elementSelector).forEach((r=>{const o=t.querySelectorAll(r);for(let t=0;t<o.length;t++){const r=o[t];if(this._adInjectionMap.map.some((({el:e})=>e.isEqualNode(r))))continue;const a=r&&r.parentElement;a&&a!==document.body?s.push(a):s.push(r),-1===i.indexOf(r)&&n.push({dynamicAd:e,element:r})}}))}));const r=this._getContainerDivTop(t);return this._totalAvailableElements=n.sort(((e,t)=>e.element.getBoundingClientRect().top-r-(t.element.getBoundingClientRect().top-r))),s}_getContainerDivTop(e=document){return(e===document?document.body:e).getBoundingClientRect().top}_getLongestArticleTag(e=document){const t=e.querySelectorAll("article");if(0===t.length)return null;const i=Array.from(t).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e));return i&&i.offsetHeight>1.5*window.innerHeight?i:null}_getSelectors(e){return e.includes(",")?e.split(","):[e]}_getElementCoords(e,t=!1){const i=e.getBoundingClientRect();return(t?i.top:i.bottom)+window.scrollY}_addContentAd(e,t,i=document){let s=null;const n=`adthrive-${t.location.replace("_","-").toLowerCase()}`,r=`${n}-${t.sequence}`,o=this.addAd(e,this.getDynamicElementId(t),t.position,[n,r,...t.classNames],t.location);if(o){const e=this._filterAdUnitSizes(t,o);e.length&&(s=this.createSlot(t,o,e,i!==document))}return s}getElements(e,t=document){return t.querySelectorAll(e)}_filterAdUnitSizes(e,t){const i=(e=>{let t=e.clientWidth;if(getComputedStyle){const i=getComputedStyle(e,null);t-=parseFloat(i.paddingLeft||"0")+parseFloat(i.paddingRight||"0")}return t})(t),s=e.sticky&&"Sidebar"===e.location;return e.sizes.filter((t=>{const n=!e.autosize||(t[0]<=i||t[0]<=320),r=!s||t[1]<=window.innerHeight-100;return n&&r}))}createSlot({location:e,sequence:t,sticky:i,lazy:s,stickyOverlapSelector:n,special:r,auctionPriority:o},a,l,d){return new Ps(e,t,l,a,i,s,o,n,r,!0,d)}_repeatDynamicAds(e){const t=[],i=e.lazy?K(this.locationMaxLazySequence.get(e.location),0):0,s=e.max,n=e.lazyMax,r=0===i&&e.lazy?s+n:Math.min(Math.max(i-e.sequence+1,0),s+n),o=Math.max(s,r);for(let i=0;i<o;i++){const n=Number(e.sequence)+i,r=e.lazy&&i>=s;t.push({...e,sequence:n,lazy:r})}return t}addAd(e,t,i,s=[],n){let r=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;if("Video_StickyOutstream"===n){r=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${t.includes("phone")?"mobile":"desktop"}">`+r+"</div>"}return window.adthriveCLS&&window.adthriveCLS.injectedSlots&&window.adthriveCLS.injectedSlots.some((e=>e.element.id===t))||e.insertAdjacentHTML(i,r),document.getElementById(t)}}let Lr=class extends class{constructor(){this._map=[]}add(e,t,i,s=document){this._map.push({el:e,coords:t,dynamicAd:i,target:s})}get map(){return this._map}sort(){this._map.sort((({coords:e},{coords:t})=>e-t))}filterUsed(){this._map=this._map.filter((({dynamicAd:e})=>!e.used))}}{};Lr=I([A()],Lr);let Fr=class extends Vr{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t}getDynamicElementId(e){return`${this._config.gam.prefix}_${e.location}_${e.sequence}_${this._config.context.device}`}};Fr=I([rt("DynamicAdsInjector"),P(),O("design:paramtypes",[Ts,Lr])],Fr);let Nr=class extends Os{constructor(e,t,i){super(),this._config=e,this._injector=t,this._slotManager=i}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots)for(const e of window.adthriveCLS.injectedSlots)if(e.name.includes("Content"))return!0;return!1}start(){const e=this.hasClsInjectedContent(),t=this._config.dynamicAds.filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((t=>!e||e&&"Content"!==t.location)).filter((e=>"Interstitial"===e.location||"Video_StickyOutstream"===e.location?this.forPageBlocks(e.pageSelector):this.forPage(e))).filter((e=>!this.pluginInjected(e))).filter((e=>"Video_StickyOutstream"!==e.location||!this.shouldFilterStickyOutstream()));let i=this._injector.inject(t);if(this._config.clsOptions&&this._config.clsOptions.enabled){const e=[];this._config.clsOptions.injectedSlots.forEach((t=>{i.some((e=>e.name===t.name))||e.push(this._injector.createSlot(t.dynamicAd,t.element,t.sizes,t.infinite))})),i=i.concat(e)}this._slotManager.add(i).catch((e=>{D.error("DynamicAdsComponent","start","add",e)}))}get enabled(){return this._config.dynamicAds.length>0}shouldFilterStickyOutstream(){return!!(this._config.video.preventStickyOutstream||this._config.disableAds.video||!this._config.video.stickyOutstreamSettings.allowOnHomepage&&Sr())||(this._config.video.hasStickyOutstream=!0,!1)}pluginInjected(e){const t=JSON.stringify(e);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some((e=>JSON.stringify(e.clsDynamicAd)===t))}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}forPageBlocks(e){return 0===e.length||!e.split(",").some((e=>null!==document.querySelector(e)))}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};Nr=I([rt("DynamicAdsComponent"),P(),O("design:paramtypes",[Ts,Fr,_r])],Nr);let jr=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t}init(){try{this._gam.slotOnload.once((()=>this.refreshExternal()))}catch(e){D.error("ExternalSlotsComponent","init",e)}}refreshExternal(){Vs.pushToQueue((()=>{const{account:e}=this._config.gam,t=googletag.pubads().getSlots().filter((t=>null===RegExp(`^/?${e}/`).exec(t.getAdUnitPath()))).filter((e=>null!==document.getElementById(e.getSlotElementId())));t.length&&googletag.pubads().refresh(t)}))}};jr=I([rt("ExternalSlotsComponent"),P(),O("design:paramtypes",[Ts,Vs])],jr);let Ur=class extends Os{constructor(e){super(),this._gam=e}init(){const e=this.isFirstPageview()?"1":"0";this.setFPV(e)}setFPV(e="0"){+e&&localStorage.setItem("adthrive_fpv",(new Date).toString()),this._gam.setTargeting({key:"fpv",value:e})}isFirstPageview(){let e=0;try{const t=localStorage.getItem("adthrive_fpv");if(t&&(e=Date.now()-Date.parse(t)),!t||e>864e5)return!0}catch(e){}return!1}};Ur=I([rt("FirstPageviewComponent"),P(),O("design:paramtypes",[Vs])],Ur);let qr=class{constructor(e){this._videoEventBus=e,this.refreshingVideoBids=new R,this.requestingVideoBids=new R,this.requestingSekindoBids=new R}addVideoSlots(e){this._videoEventBus.videoPlayerAdded.emit(e)}async requestVideoBids(e,t){await this.requestingVideoBids.legacyEmit(e).catch(),await this._determineIsRefreshing(e).catch(),await this._videoEventBus.requestingVideoBids.legacyEmit({videos:e,timeout:t})}async _determineIsRefreshing(e){const t=e.filter((e=>e._prerollNum>0));t.length&&await this.refreshingVideoBids.legacyEmit(t)}};qr=I([rt("VideoRequestManager"),A(),O("design:paramtypes",[Ct])],qr);let Hr=class extends Os{constructor(e,t,i,s,n){super(),this._slotManager=e,this._config=t,this._prebidMethods=i,this._videoRequestManager=s,this._irisTv=n,this.staticFirstPartyData={site_code:this._config.marmalade.siteCodes.filter(ee),site_id:[this._config.site.id],sens:this._config.site.filteredSensitiveCategories,verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]}}init(){this.onAddedEvent(),this.onRequestingEvent(),this.onRefreshingEvent(),this.onVideoRequestingEvent(),this.onVideoRefreshingEvent()}onAddedEvent(){this._slotManager.added.once((()=>{this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["false"],vp:"0"},rfCodeBidder:"rubi"}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["triplelift","tripl_ss"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["yahoossp"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1})}))}onRequestingEvent(){this._slotManager.requestingBids.on((e=>{e.forEach((e=>{this.setIXHVPParam(e,this._prebidMethods),e.lazy&&this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["false"],vp:"0"}})}))}))}onRefreshingEvent(){this._slotManager.refreshingBids.on((e=>{e.forEach((e=>{this.setIXHVPParam(e,this._prebidMethods)})),this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:"0"}})}))}onVideoRequestingEvent(){this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((()=>{const e=this._irisTv,t=e.irisContextualData;t&&t.length&&this.setBidderSpecificFpd({bidders:["pubmatic","pubm_ss"],fpdData:{content:{id:e.irisId}},addStaticFpd:!1,isExtData:!1})}))}))}onVideoRefreshingEvent(){this._videoRequestManager.refreshingVideoBids.on((e=>{e.forEach((e=>{e.vp>0&&e._prerollNum<=10&&(this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:e.vp.toString()}}),this._prebidMethods.addToQueue((()=>{this.setIXVPParam(e.vp)})))}))}))}setBidderSpecificFpd({bidders:e,fpdData:t,addStaticFpd:i=!0,location:s="site",isExtData:n=!0,rfCodeBidder:r}){const o=this._config.marmalade.mcmp,a={...i&&{...this.staticFirstPartyData,mcmp:o},...t},l=n?{ext:{data:a}}:a,d=()=>{this._config.marmalade.rfMcmpCodes.forEach((e=>{const t=e[0];e[1].includes(r)&&o.push(t)})),this.setPrebidFirstPartyData(e,l,s)};r?this._config.marmalade.rfDataProcessed.emitted?d():(this.setPrebidFirstPartyData(e,l,s),this._config.marmalade.rfDataProcessed.on((()=>d()))):this.setPrebidFirstPartyData(e,l,s)}setPrebidFirstPartyData(e,t,i){this._prebidMethods.setBidderConfig({bidders:e,config:{ortb2:{[i]:t}}})}setIXHVPParam(e,t){Vs.pushToQueue((()=>{t.addToQueue((()=>{const i=t.getConfig("ix");if(i&&i.firstPartyData){const s=i.firstPartyData.HVP||{},n=se(e),r=((e,t,i)=>{let s=me.includes(i)?i:0;return t&&_e.includes(e)&&(s=Math.max(s,60)),s})(e.placementMapName,e.lazy,n?+n:0);s[e.id]=r,e.refreshCount>0?ue({HVP:s,Refresh:"True"},t):ue({HVP:s},t,!0)}}))}))}setIXVPParam(e){const t=this._prebidMethods.getConfig("ix");t&&t.firstPartyData&&e>0&&ue({vp:e.toString()},this._prebidMethods)}};Hr=I([rt("FirstPartyDataComponent"),P(),O("design:paramtypes",[_r,Ts,Bs,qr,Vn])],Hr);let Gr=class extends Os{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._config=i,this._floors=s,this._cpms={},this._percentile=0,this._percentile=this._config.floors.floorsExperiment.percentile.fpvNonLazy}init(){this.saveParentBids(),this.setDelayedBidFloors()}setDelayedBidFloors(){const e=this._config.floors;this._slotManager.requestingBids.on((t=>{const i=this._floors.getDefaultFloorConfig();t.forEach((t=>{if(e.fpvNonLazySlotLocations.includes(t.location)&&e.isFPVNonLazySlot(t)){const e=this._cpms[t.location],s=e&&De(e,this._percentile);s&&this._floors.setValues(i,t.id,s)}})),this._floors.prioritizeFloorsConfig(i,ti.fpvNonLazy)}))}saveParentBids(){const e=this._config.floors.fpvNonLazySlotLocations;this._slotManager.requestedBids.on((t=>{t.filter((t=>e.includes(t.location)&&1===t.sequence)).forEach((e=>{const{location:t,id:i}=e;this._cpms[t]=[],this._prebidMethods.addToQueue((()=>{this._floors.saveBids(e,this._cpms[e.location]);const i=this._config.floors.delayedBids[t];i&&Object.keys(i).forEach((e=>{var t,s;null===(s=(t=i[e]).parentBidResolve)||void 0===s||s.call(t)}))}))}))}))}get enabled(){return Boolean(this._config.floors.floorsExperiment.percentile.fpvNonLazy)}};Gr=I([rt("FloorsFPVNonLazyComponent"),P(),O("design:paramtypes",[_r,Bs,Ts,qs])],Gr);let $r=class extends Os{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._floors=i,this._floorsExperiment=s,this._percentile=0,this._enabledAdUnits=["Content","Recipe","Below_Post"],this._adUnitCpms=[],this._percentile=this._floorsExperiment.result.percentile.lazy}init(){this._slotManager.requestingBids.on((e=>{const t=this._floors.getDefaultFloorConfig();e.filter((e=>this._enabledAdUnits.includes(e.location)&&e.lazy)).forEach((e=>{const i=De(this._adUnitCpms,this._percentile);this._floors.setValues(t,e.id,i)})),this._floors.prioritizeFloorsConfig(t,ti.lazy)})),this._slotManager.requestedBids.on((e=>{e.filter((e=>this._enabledAdUnits.includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this._floors.saveBids(e,this._adUnitCpms)}))}))}))}get enabled(){const e=!0===oe("session_fpv")||null===oe("session_fpv");return Boolean(this._percentile)&&e&&!0===this._floorsExperiment.result.legacy}};$r=I([rt("FloorsLazyComponent"),P(),O("design:paramtypes",[_r,Bs,qs,ei])],$r);let Wr=class extends Qt{init(){this._key="refvidflr"}};Wr=I([rt("FloorsInstreamRefreshExperiment"),A()],Wr);let Kr=class extends Os{constructor(e,t,i,s,n,r,o){var a;super(),this._config=e,this._slotManager=t,this._floors=i,this._prebidMethods=s,this._videoRequestManager=n,this._floorsExperiment=r,this._floorsInstreamRefreshExp=o,this._expirationThreshold=5,this._bannerMulitplierLowRefresh=1.3,this._bannerMulitplierHighRefresh=1.1,this._instreamMultiplier=null!==(a=this._floorsInstreamRefreshExp.result)&&void 0!==a?a:1}init(){this._slotManager.refreshing.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>({adUnitCode:e.id,refreshCount:e.refreshCount}))))}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>{var t;return{adUnitCode:null===(t=e.videoAdUnit)||void 0===t?void 0:t.code,refreshCount:e.vp}})))}))}))}_updateBidTTL(e,t){this._prebidMethods.getBidResponsesForAdUnitCode(e).bids.filter((e=>"rendered"!==e.status&&e.ttl&&!e.expired)).forEach((e=>{const i=e.responseTimestamp,s=e.ttl-this._expirationThreshold;Number(i)+1e3*Number(s)<t&&(e.ttl=s,e.expired=!0)}))}_getFloorValue(e,t,i){const s=t?this._instreamMultiplier:i<=5?this._bannerMulitplierLowRefresh:this._bannerMulitplierHighRefresh;return e&&e*s}_setRefreshFloors(e){const t=this._floors.getDefaultFloorConfig();for(const i of e){const e=i.adUnitCode,s=Ge();this._updateBidTTL(e,s);const[n]=this._prebidMethods.getHighestCpmBids(e),r=this._config.video.instreamAdUnits.has(e),o=this._getFloorValue(null==n?void 0:n.cpm,r,i.refreshCount);o&&this._floors.setValues(t,e,o)}this._floors.prioritizeFloorsConfig(t,ti.refresh)}get enabled(){return!0===this._floorsExperiment.result.legacy}};Kr=I([rt("FloorsRefreshComponent"),P(),O("design:paramtypes",[Ts,_r,qs,Bs,qr,ei,Wr])],Kr);let Qr=class extends Os{constructor(e,t,i,s){super(),this._adthrive=e,this._config=t,this._floors=i,this._floorsExperiment=s}init(){const e=this._config.floors.floorsData;e?this.createFloorsMap(e):this._config.floors.floorsDataReady.once((()=>this.createFloorsMap(e)))}createFloorsMap(e){e?(this.buildFloorsMap(e.modelGroups),this._floors.setPrebidFloors(e)):D.error("RubiconFloorsComponent","init","Rubicon floor data not found")}buildFloorsMap(e){e.forEach(((e,t)=>{this._floors.modelVersionMap.set(e.modelVersion,t)}))}get enabled(){const e=this._adthrive.deliveryFeatures;return!(!e||!e.includes(Te.rubiconFloors))&&!0===this._floorsExperiment.result.rubicon}};Qr=I([rt("FloorsRubiconComponent"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ts,qs,ei])],Qr);let Xr=class extends Os{constructor(e,t,i,s){super(),this._slotManager=e,this._floors=t,this._prebidMethods=i,this._floorsExperiment=s,this._percentile=.6,this._rdx=33;const n=oe("bc");this._savedBids=n?Le(n,this._rdx):{Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[]}}init(){if(!1===oe("session_fpv")){const e=this._floors.getDefaultFloorConfig();this._slotManager.requestingBids.on((t=>{t.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((t=>{const i=De(this._savedBids[t.location],this._percentile);this._floors.setValues(e,t.id,i)})),this._floors.prioritizeFloorsConfig(e,ti.session)}))}this.saveBids()}saveBids(){this._slotManager.requestedBids.on((e=>{e.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveSlotBids(e)}))})),re("bc",Fe(this._savedBids,this._rdx))}))}saveSlotBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((t=>{var i,s;i=this._savedBids[e.location],s=1e3,i.length>=s&&i.splice(Math.floor(Math.random()*i.length),1),this._savedBids[e.location].push(t.cpm)}))}get enabled(){return!0===this._floorsExperiment.result.legacy}};Xr=I([rt("FloorsSessionComponent"),P(),O("design:paramtypes",[_r,qs,Bs,ei])],Xr);let Yr=class extends Os{constructor(e,t,i,s,n){super(),this._floorsComponents=[n,e,t,i,s].filter((e=>e.enabled))}init(){this._floorsComponents.forEach((e=>void 0!==e.init&&e.init()))}};Yr=I([P(),O("design:paramtypes",[$r,Kr,Qr,Xr,Gr])],Yr);let Jr=class extends Os{constructor(e){super(),this._config=e}start(){if(this._config.footer.elements.length){const e=document.createElement("div");e.className="adthrive-comscore adthrive-footer-message",this._config.footer.elements.sort(((e,t)=>e.order-t.order)).forEach((({element:t})=>{t instanceof Element?e.insertAdjacentElement("beforeend",t):e.insertAdjacentHTML("beforeend",t)}));const t=""===this._config.adOptions.footerSelector?".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector;(document.querySelector(t)||document.body).insertAdjacentElement("beforeend",e)}}};Jr=I([rt("FooterComponent"),P(),O("design:paramtypes",[Ts])],Jr);let Zr=class extends Os{constructor(e,t){super(),this._slotManager=e,this._slots=t}init(){let e=!1;this._slots.bidServed.on((t=>{t.servedPrebidBidResponse&&"gumgum"===t.servedPrebidBidResponse.bidder&&"Footer"===t.location&&(e=!0)})),this._slotManager.refreshing.on((t=>{t.filter((e=>"Footer"===e.location))&&e&&(e=!1,window.GUMGUM.removeISAd())}))}};Zr=I([rt("GumGumInScreenComponent"),P(),O("design:paramtypes",[_r,As])],Zr);let eo=class extends Os{constructor(e,t,i){super(),this._emailCaptureHandler=e,this._config=t,this._gdprEnforcement=i,this._hasRun=!1}init(){this._config.identityApi.optIn.on((({data:e,cb:t})=>this.identityOptIn(e,t).catch((()=>{})))),window.addEventListener("message",(e=>{if(window===window.top&&e&&e.origin===window.origin&&e.data&&"adthriveIdentityAPI"===e.data.message&&e.data.info){const t={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(e.data.info,(i=>{var s;e.source instanceof MessagePort||e.source instanceof ServiceWorker||(t.response=i,null===(s=e.source)||void 0===s||s.postMessage(t,e.origin))})).catch((()=>{}))}}),!1)}start(){this._config.identityApi.apiReady.emit()}validateData(e){if(!e.source||"string"!=typeof e.source||e.source.length>20)throw Error("source required with 20 characters or less");if(!e.plainText&&!e.sha256)throw Error("plainText or sha256 required");if(e.plainText&&("string"!=typeof e.plainText||!Z(e.plainText)))throw Error(`plainText not string or not valid email: ${e.plainText}`);if(e.sha256&&("string"!=typeof e.sha256||64!==e.sha256.length))throw Error(`sha256 not string or not encoded properly: ${e.sha256}`)}buildPII(e){const t={source:e.source};return e.plainText&&(t.email=e.plainText),e.sha256&&(t.hash=e.sha256),t}async identityOptIn(e,t){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.")}this.validateData(e);const i=this.buildPII(e);this._emailCaptureHandler.emailCaptured.emit(i),t({success:!0,data:{message:"OK"}}),this._hasRun=!0}catch(e){t({success:!1,data:{message:e.message}})}}};eo=I([rt("IdentityAPIComponent"),P(),O("design:paramtypes",[Rs,Ts,Ks])],eo);let to=class{constructor(e,t){this._gam=e,this._pageManager=t,this.scroll=new R,this.resize=new R,this.pageVisibility=new R,this.videoPlaying=new R,this.videoSlotRendered=new R,this.footerRefreshed=new R,this.addEventListeners(),this._gam.slotResponseReceived.on((({slot:e})=>{"Footer"===e.location&&this.footerRefreshed.emit()}))}addEventListeners(){let e=!1,t=!1;const i=()=>{e||(e=!0,setTimeout((()=>{this.scroll.emit(),e=!1}),100))},s=()=>{t||(t=!0,setTimeout((()=>{this.resize.emit(),t=!1}),100))};this._pageManager.scroll.on((()=>i())),this._pageManager.resize.on((()=>s())),this._pageManager.visibilityChange.on((()=>{this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(e){this.videoPlaying.emit(e)}emitVideoSlotRenderedEvent(e){this.videoSlotRendered.emit(e)}};to=I([A(),O("design:paramtypes",[Vs,pi])],to);let io=class extends Os{constructor(e,t,i){super(),this._config=e,this._gam=t,this._videoEventProxy=i,this._renderedSlotKey=new Map,this._filterKeys=new Set(["abgroup","pvk","bucket","branch","deployment","siteName","siteId"]),this._enabled=this._config.impressionLog.enabled}init(){this._gam.slotRenderEnded.on((e=>this._bannerSlotRenderEnded(e))),this._videoEventProxy.videoSlotRendered.on(this._videoSlotRenderEnded.bind(this))}get enabled(){return this._enabled}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getTargetingData(e){const t=je(e.split("?")[1]);return{custParams:this._getDecodedURI(t.get("cust_params")||""),iu:t.get("iu")||"",sz:this._sizeStringToArray(t.get("sz"))||[1,1]}}_sizeStringToArray(e){if(e)return e.split("x").map((e=>parseInt(e)))}_bannerSlotRenderEnded({event:e,slot:t}){const i=e.slot.getAdUnitPath(),s=pt();this._renderedSlotKey.set(i,s);const n={adUnitPath:i,advertiserId:e.advertiserId,agnosticCreativeId:e.sourceAgnosticCreativeId,agnosticLineItemId:e.sourceAgnosticLineItemId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,serviceName:e.serviceName,siteTargeting:this._filterTargeting(this._gam.getTargetingMap()),size:e.size,slotElementId:t.id,slotKey:s,slotTargeting:this._filterTargeting(t.getTargetingMap()),yieldGroupIds:e.yieldGroupIds};this._logImpressionEvent(n)}_videoSlotRenderEnded(e){const t=this._getTargetingData(e.tag),i={adUnitPath:t.iu,creativeId:e.gamCreativeId,isEmpty:e.isEmpty,lineItemId:e.gamLineItemId,size:t.sz,slotElementId:e.adUnitName,slotKey:pt(),slotTargeting:this._filterTargeting(Ue(t.custParams))};this._logImpressionEvent(i)}_filterTargeting(e){return Object.keys(e).filter((t=>!this._filterKeys.has(t)&&e[t].length)).reduce(((t,i)=>(t[i]=e[i],t)),{})}_logImpressionEvent(e){D.event("SlotRenderEnded","adImpression",e)}};io=I([rt("ImpressionLogComponent"),P(),O("design:paramtypes",[Ts,Vs,to])],io);let so=class extends Os{constructor(e,t,i){super(),this._googleAdManager=e,this._config=t,this._slotManager=i,this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on((({slot:e,event:t})=>{this.slotRenderEnded(e,t)}))}slotRenderEnded(e,t){var i;t.isEmpty||2!==(null===(i=t.size)||void 0===i?void 0:i.length)||e.element&&this._locations.includes(e.location)&&e.sticky&&(e.element.setAttribute("closable","true"),this._addCloseButton(e.element,e.location))}_addCloseButton(e,t){const i=e.hasAttribute("closable"),s=e.querySelector(".adthrive-close");if(i&&!s){const i=document.createElement("span");i.innerHTML="&times;",i.className="adthrive-close",i.addEventListener("click",(()=>{const i=document.createEvent("Event");i.initEvent(`adthrive${t}Close`,!0,!0),e.parentElement&&(window.dispatchEvent(i),e.parentElement.removeChild(e),this._slotManager.destroy(e.id))})),e.appendChild(i)}}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};function no(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}so=I([rt("CloseButtonComponent"),P(),O("design:paramtypes",[Vs,Ts,_r])],so);var ro="object"==typeof global&&global&&global.Object===Object&&global,oo="object"==typeof self&&self&&self.Object===Object&&self,ao=ro||oo||Function("return this")(),lo=function(){return ao.Date.now()},co=/\s/;var ho=/^\s+/;function po(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&co.test(e.charAt(t)););return t}(e)+1).replace(ho,""):e}var uo=ao.Symbol,go=Object.prototype,_o=go.hasOwnProperty,mo=go.toString,yo=uo?uo.toStringTag:void 0;var fo=Object.prototype.toString;var vo=uo?uo.toStringTag:void 0;function bo(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vo&&vo in Object(e)?function(e){var t=_o.call(e,yo),i=e[yo];try{e[yo]=void 0;var s=!0}catch(e){}var n=mo.call(e);return s&&(t?e[yo]=i:delete e[yo]),n}(e):function(e){return fo.call(e)}(e)}var So=/^[-+]0x[0-9a-f]+$/i,Co=/^0b[01]+$/i,wo=/^0o[0-7]+$/i,Eo=parseInt;function ko(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==bo(e)}(e))return NaN;if(no(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=no(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=po(e);var i=Co.test(e);return i||wo.test(e)?Eo(e.slice(2),i?2:8):So.test(e)?NaN:+e}var xo=Math.max,To=Math.min;function Po(e,t,i){var s,n,r,o,a,l,d=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){var i=s,r=n;return s=n=void 0,d=t,o=e.apply(r,i)}function g(e){return d=e,a=setTimeout(m,t),c?u(e):o}function _(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-d>=r}function m(){var e=lo();if(_(e))return y(e);a=setTimeout(m,function(e){var i=t-(e-l);return h?To(i,r-(e-d)):i}(e))}function y(e){return a=void 0,p&&s?u(e):(s=n=void 0,o)}function f(){var e=lo(),i=_(e);if(s=arguments,n=this,l=e,i){if(void 0===a)return g(l);if(h)return clearTimeout(a),a=setTimeout(m,t),u(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=ko(t)||0,no(i)&&(c=!!i.leading,r=(h="maxWait"in i)?xo(ko(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),f.cancel=function(){void 0!==a&&clearTimeout(a),d=0,s=l=n=a=void 0},f.flush=function(){return void 0===a?o:y(lo())},f}function Ao(e,t,i){var s=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return no(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),Po(e,t,{leading:s,maxWait:t,trailing:n})}class Io{constructor(e,t){this._overlap=null,this._stuck=!1,this._start=0,this._cutoff=0,this._cutoffBuffer=20,this._element=e.element,t&&(e.stickyOverlapSelector?this._overlap=document.querySelector(e.stickyOverlapSelector):this._overlap=this.findOverlap(this._element),this._overlap),window.addEventListener("scroll",Ao((()=>this.update()),500)),window.addEventListener("resize",Ao((()=>{this.unstick(),this.update(),this.check()}),500)),window.addEventListener("scroll",(()=>this.check()))}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){const e=window.pageYOffset,t=this._element.offsetHeight+this._cutoffBuffer,i=0!==this._cutoff&&e+t>this._cutoff;this._start<e&&!i?this.stick():this.unstick()}}stick(){if(!this._stuck){const e=getComputedStyle(this._element,null),t=this._element.parentElement;if(t){const e=getComputedStyle(t,null);t.style.minHeight=e.getPropertyValue("height")}this._element.style.width||(this._element.style.width=e.getPropertyValue("width")),this._element.classList.add("adthrive-stuck"),this._stuck=!0}}unstick(){this._stuck&&(this._element.classList.remove("adthrive-stuck"),this._stuck=!1)}getTop(e){return e.getBoundingClientRect().top+window.pageYOffset}findOverlap(e){let t=null;for(;e.parentElement;){let i=(e=e.parentElement).nextElementSibling;for(;i&&ke(i);)i=i.nextElementSibling;i&&i.offsetTop>0&&(!t||i.offsetTop<t.offsetTop)&&(t=i)}return t}}let Mo=class{constructor(e){this.config=e,this._headerVisibleEvents=[],this._headerHiddenEvents=[],this._header=null,this._isHeaderVisible=!0,this.handleUncollapse=()=>{},this.handleCollapse=e=>{if(e.mobileHeaderSelector){this.anchorVideoPlayerBelowNavbar(e,e.mobileHeaderSelector);const t=this.siteHeader(e.mobileHeaderSelector);t&&(t.onclick=e.siteHeaderOnClick)}},this.collapsiblePersistentHeaderObserver=new IntersectionObserver((e=>{for(const t of e)this._isHeaderVisible=t.isIntersecting,this._isHeaderVisible?this._headerVisibleEvents.forEach((e=>e())):this._headerHiddenEvents.forEach((e=>e()))}),{threshold:.95})}applyTransitionToElement(e){e.style.transition="all 0.2s ease-in-out"}pushElementBelowHeader(e,t){const i=this.getHeaderHeight(t);null!==i&&(e.style.top=`${i}px`)}anchorVideoPlayerBelowNavbar(e,t){const{playerElement:i,topBackgroundElement:s}=e,n=()=>{if(null!==this.getHeaderHeight(t)){this.applyTransitionToElement(s),this.applyTransitionToElement(i),this.pushElementBelowHeader(s,t),this.pushElementBelowHeader(i,t);const e=i.querySelector(".adthrive-top-collapse-wrapper-bar");e&&this.pushElementBelowHeader(e,t)}},r=()=>{s.style.top="0",i.style.top="0"};this._isHeaderVisible?n():r(),this._headerVisibleEvents.push(n),this._headerHiddenEvents.push(r)}getHeaderHeight(e){const t=this.siteHeader(e);if(!t)return null;return this.getElementHeight(t)}getElementHeight(e){return e.getBoundingClientRect().height}siteHeader(e){if(this._header)return this._header;const t=document.querySelector(e);return t?(this._header=t,this.collapsiblePersistentHeaderObserver.observe(this._header),this._header):null}};var Oo;Mo=I([A(),rt("TopCenterVideoPlayerForPersistentHeadersUtils"),O("design:paramtypes",[Ts])],Mo);let zo=Oo=class{static changeState(e,t){const{mediaStarted:i,playerContainer:s,playerState:n,collapseMobileSubType:r}=e,o=this._shouldCollapse(s,i,r);if(!this._handleOtherVideoPlaying(t,e))switch(e.playerState){case 0:this._handleUnstarted(t,o,e);break;case 1:this._handleUncollapsedPlay(t,o,e);break;case 2:this._handleCollapsedPlay(t,o,e);break;case 8:this._handleNonLinearAdPlay(t,o,e);break;case 4:this._handleUserPauseCollapsed(t,o,e);break;case 3:this._handleUserPauseUncollapsed(t,o,e);break;case 5:this._handlePausedNotVisible(t,e);break;case 9:this._handleNonLinearAdPaused(t,e);break;case 6:this._handleOverlapped(t,o,e);break;case 10:this._handleNonLinearAdOverlapped(t,o,e);break;default:return e.playerState}return e.playerState}static _handleUnstarted(e,t,i){const s=i.playerInstance;4===e&&(i.collapseTimer.firstInView||(i.collapseTimer.firstInView=new Date),Oo.startEvent.emit(),t?(this.collapse(i),s.getViewable()&&s.play(!0),i.playerState=s._nonLinearAd?8:2):i.playerState=s._nonLinearAd?8:1)}static _handleOtherVideoPlaying(e,t){return 7===e&&(this.uncollapse(t),t.playerInstance.pause(!0),t.playerState=7,!0)}static _handleUncollapsedPlay(e,t,i){const{playerInstance:s}=i;4===e?t?(this.collapse(i),s.play(!0),i.playerState=2):s.play(!0):3===e?(s.pause(!0),i.playerState=5):1===e&&(i.playerState=3)}static _handleVideoHeight(e){const{playerElement:t,topBackgroundElement:i}=e;i&&t.offsetHeight>i.offsetHeight&&this._isCollapsed(e.playerState)&&(i.style.height=`${t.offsetHeight}px`)}static _handleCollapsedPlay(e,t,i){const{playerInstance:s,playerElement:n}=i;4===e?(this._handleVideoHeight(i),t?s.play(!0):(this.uncollapse(i),s.play(!0),i.playerState=1)):1===e?i.playerState=4:6===e?(i.lastCollapsedClasses=n.className,this.uncollapse(i),s.pause(!0),i.playerState=6):5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7)}static _handleNonLinearAdPlay(e,t,i){const{playerInstance:s}=i;4===e?t&&this.collapse(i):3===e?(s.pauseAd(!0),i.playerState=9):6===e&&(this.uncollapse(i),s.pauseAd(!0),i.playerState=10)}static _handleUserPauseCollapsed(e,t,i){const{playerInstance:s}=i;4!==e||t?1===e?i.playerState=2:5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7):(this.uncollapse(i),i.playerState=3)}static _handleUserPauseUncollapsed(e,t,i){4===e&&t?(this.collapse(i),i.playerState=4):1===e&&(i.playerState=1)}static _handlePausedNotVisible(e,t){const{playerInstance:i}=t;4===e&&(i.play(!0),t.playerState=1)}static _handleNonLinearAdPaused(e,t){const{playerInstance:i}=t;4===e?(i.pauseAd(!1),t.playerState=8):this.playerWouldOverlapFooter(t)&&(t.playerState=10)}static _handleOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.play(!0),i.playerState=2):i.playerState=6}static _handleNonLinearAdOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.pauseAd(!1),i.playerState=8):(s.pauseAd(!0),i.playerState=10)}static handleResize(e){this._isCollapsed(e.playerState)?("adthrive-collapse-mobile"===e.collapseType&&"adthrive-collapse-top-center"===e.collapseMobileSubType&&e.topBackgroundElement&&(e.topBackgroundElement.style.height=`${e.playerElement.offsetHeight}px`,e.topBackgroundElement.style.width=`${window.innerWidth}px`),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e)):this.resizeContainer(e)}static handleScroll(e){const t=Es.playerViewable(e.playerElement),i=Es.playerVisible(e.playerElement),s=this.playerWouldOverlapFooter(e),n=t?s?6:4:3;this.changeState(e,n),2===e.playerState||4===e.playerState?Oo.startCollapseTimer(e):Oo.stopCollapseTimer(e),this.viewableEvent.emit(t),this.visibleEvent.emit(i)}static handleOtherVideoPlaying(e){this.changeState(e,7)}static handlePageVisibilityChange(e,t){7!==t.playerState&&0!==t.playerState&&3!==t.playerState&&4!==t.playerState&&5!==t.playerState&&6!==t.playerState&&(e?t.playerInstance.pause(!0):t.playerInstance.play(!0))}static handleWidthBreak(e,t){7!==t.playerState&&0!==t.playerState&&(e.matches?(this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!1,t),"adthrive-collapse-sticky"===t.collapseType&&this._unstickFromSidebar(t.playerElement),t.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,t)),t.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,t),t.forceMobile=!1,this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!0,t),"adthrive-collapse-sticky"===t.collapseType&&this._stickToSidebar(t))))}static handleClose(e){Oo.closeEvent.emit(),this.changeState(e,5),Oo.stopCollapseTimer(e),D.event("jw-player","handleClose",{timeElapsed:e.collapseTimer.timeCollapsed,device:we()?"desktop":"mobile",playerType:e.playerType})}static handleUserClick(e){this.changeState(e,1)}static collapse(e){this.disableCollapse||(this.collapseEvent.emit(),this.toggleCollapsedPlayerClasses(!0,e),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e),e.topBackgroundElement&&x.resolve(Mo).handleCollapse({playerElement:e.playerElement,topBackgroundElement:e.topBackgroundElement,siteHeaderOnClick:()=>this.uncollapse(e),mobileHeaderSelector:e.mobileHeaderSelector}),e.playerInstance.resize(),setTimeout((e=>{this.displayCloseButton(e)}),e.closeButtonTimeout,e))}static displayCloseButton(e){this._isCollapsed(e.playerState)&&(e.closeButton.style.display="inline-flex")}static uncollapse(e){Oo.uncollapseEvent.emit(),this.toggleCollapsedPlayerClasses(!1,e),this._unstickFromSidebar(e.playerElement),e.closeButton.style.display="none",this.resizeContainer(e),x.resolve(Mo).handleUncollapse()}static _shouldCollapse(e,t,i){if(Es.isMobileLandscape())return!1;const s=i&&"adthrive-collapse-top-center"===i,n=Es.getScrollTop(),r=J(e).top,o=e.offsetHeight;return s?t&&n>=r:t&&n>=r+o/2}static _isCollapsed(e){return 2===e||4===e}static _stickToSidebar(e){e.stickyElement&&(e.playerElement.style.left=`${e.stickyElement.getBoundingClientRect().left}px`,e.playerElement.style.width=`${e.stickyElement.clientWidth}px`),e.playerElement.style.top=`${e.topMargin}px`}static _unstickFromSidebar(e){e.style.cssText=""}static playerWouldOverlapFooter(e){if(!e.footerElement)return!1;if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.lastCollapsedClasses&&e.lastCollapsedClasses.includes("adthrive-collapse-bottom")){const t=W();return!(window.innerHeight-t<e.footerElement.getBoundingClientRect().top)}return!((e.topMargin||0)+e.playerElement.getBoundingClientRect().height<e.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(e,t){const i=t.playerInstance.utils,s=Xe(i,"toggleClass")&&"function"==typeof i.toggleClass?i.toggleClass:()=>{};t.forceMobile?(s(t.playerElement,"adthrive-collapse-mobile",e),s(t.playerElement,t.collapseMobileSizeType,e),s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)):(s(t.playerElement,t.collapseType,e),t.collapseSubType&&s(t.playerElement,t.collapseSubType,e),t.collapseMobileSizeType&&s(t.playerElement,t.collapseMobileSizeType,e),"adthrive-collapse-mobile"===t.collapseType&&(s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)))}static repositionCollapseMobile(e,t){"adthrive-collapse-bottom-left"===e.collapseMobileSubType||"adthrive-collapse-bottom-right"===e.collapseMobileSubType?this.repositionCollapseMobileBottom(e):"adthrive-collapse-top-center"===e.collapseMobileSubType&&this.repositionCollapseMobileTop(e,t)}static repositionCollapseMobileTop(e,t){e.topBackgroundElement&&(e.topBackgroundElement.style.height=t?`${e.playerElement.offsetHeight}px`:"0")}static repositionCollapseMobileBottom(e){if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.collapseMobileSubType&&e.collapseMobileSubType.indexOf("bottom")>-1){const t=W();e.playerElement.style.setProperty("top","auto","important"),e.playerElement.style.setProperty("bottom",`${t}px`,"important")}}static resizeContainer(e){e.playerContainer.style.height=`${e.playerElement.offsetHeight+30}px`}static startCollapseTimer(e){e.collapseTimer.isRunning||(e.collapseTimer.startTime?e.collapseTimer.lastCollapsedTime=new Date:(e.collapseTimer.startTime=new Date,e.collapseTimer.lastCollapsedTime=e.collapseTimer.startTime),e.collapseTimer.isRunning=!0)}static stopCollapseTimer(e){e.collapseTimer.isRunning&&(e.collapseTimer.lastCollapsedTime&&(e.collapseTimer.timeCollapsed+=Ge()-e.collapseTimer.lastCollapsedTime.getTime()),e.collapseTimer.isRunning=!1)}};zo.collapseEvent=new R,zo.uncollapseEvent=new R,zo.closeEvent=new R,zo.startEvent=new R,zo.viewableEvent=new R,zo.visibleEvent=new R,zo.disableCollapse=!1,zo=Oo=I([rt("CollapseUtils")],zo);class Ro{constructor(e,t,i,s,n,r){this._config=e,this._slotManager=t,this._slot=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._isRendered=!1,this._isClosed=!1}setup(){void 0!==window.apstag&&this._config.amazon.enabled&&he("https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"),this._isRendered||(this._isRendered=!0,this._appendCloseButton(),this._activate())}get renderState(){return this._isRendered}_activate(){this._handleWidthBreak(),this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this)),zo.visibleEvent.on(this._handleCollapsiblePlayerVisible.bind(this)),this._slot.element.parentElement.classList.add("adthrive-sticky-outstream-active")}_appendCloseButton(){const e=this._slot.element,t=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),this._stickyCloseButtonExperiment.result,"adthrive-sticky-outstream-close");e.parentNode.insertBefore(t,e),setTimeout((()=>{t.style.display="inline-flex"}),this._config.video.closeButtonTimeout)}_logPlayerClose(e){Ro.closeEvent.emit(),D.event("StickyOutstream","handleClose",{device:we()?"desktop":"mobile",closeReason:e})}_handleCollapsiblePlayerVisible(e){e&&this._handleClose("collapsiblePlayerVisible")}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(e){if(this._isClosed)return;this._isClosed=!0;const t=this._slot.element,i=t.parentElement;this._logPlayerClose(e),i&&(i.removeChild(t),i.classList.remove("adthrive-sticky-outstream-active"),this._slotManager.destroy(t.id),this._removeListener())}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this)),this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device){const e=W();this._slot.element.parentElement.style.setProperty("top","auto","important"),this._slot.element.parentElement.style.setProperty("bottom",`${e}px`,"important")}}}Ro.closeEvent=new R;let Bo=class extends yt{constructor(e){super(),this.abgroup=e,this.key="socbe",this._choices=[{choice:"sovpcc",weight:0},{choice:"sovpct1",weight:0},{choice:"sovpct2",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Bo.prototype,"run",null),Bo=I([rt("StickyCloseButtonExperiment"),A(),O("design:paramtypes",[gt])],Bo);let Do=class extends Os{constructor(){super(...arguments),this._experimentResult="",this._hasTitleBar=!1,this._isButtonInsideContainer=!1,this._isButtonOutsideContainerTop=!1,this._isDefaultPosition=!1,this._isInstreamExperiment=!1,this._isTopCollapse=!1}createDefaultButton(e){const t=document.createElement("div");return t.innerHTML="<span>&times;</span>",t.className="adthrive-wrapper-close",t.style.display="none",t.id="adthrive-collapse-close",t.onclick=e,t}createPlayerCloseButton(e,t,i,s=!1,n=!1){this._hasTitleBar=s,this._isTopCollapse=n,this._isInstreamExperiment="tlo"===t||n,this._isButtonOutsideContainerTop="sovpct1"===t||"tlo"===t,this._isButtonInsideContainer="sovpct2"===t,this._isDefaultPosition="sovpcc"===t||"off"===t,this._experimentResult=t;const r=this._getButtonClasses(),o=this._getSvgOptions(),a=this._createCloseButton(r,i,o);return a.onclick=e,this._isButtonInsideContainer?this.applyCloseButtonWrapper(a):a}_getButtonClasses(){let e=[];return(this._isButtonOutsideContainerTop||this._isDefaultPosition)&&e.push("adthrive-wrapper-float-close"),this._isInstreamExperiment?e=[...e,...this._getInstreamClasses()]:"sovpcc"!==this._experimentResult&&e.push("adthrive-wrapper-close-outside-left"),e}_getInstreamClasses(){const e=["adthrive-instream-close"];return this._isTopCollapse?e.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&e.push("adthrive-top-left-outer","adthrive-float-left"),e}_getSvgOptions(){return this._isButtonInsideContainer||this._isTopCollapse?{fillColor:"transparent",strokeColor:"white"}:{fillColor:"white",strokeColor:"black"}}_buildNewCloseButton(e,t){e.appendChild(this._createCloseButtonX(t)),e.appendChild(this._createCloseButtonCircleThatGoesAroundTheX(t))}_createCloseButton(e,t,i){const{fillColor:s,strokeColor:n}=null!=i?i:{fillColor:"white",strokeColor:"black"},r=this._createButtonHtml(e,t),o=this._createSvg(s);if(this._isTopCollapse)this._buildNewCloseButton(o,n);else{const e=this._createPath(n);o.appendChild(e)}return r.appendChild(o),r}_createButtonHtml(e,t){const i=document.createElement("div");return i.className=e.join(" "),i.id=t,i}_createSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width","18"),t.setAttribute("height","18"),t.setAttribute("fill",e),t}_createPath(e){const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","1"),t}_createCloseButtonCircleThatGoesAroundTheX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx","9"),t.setAttribute("cy","9"),t.setAttribute("r","8"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","2"),t.setAttribute("fill","none"),t}_createCloseButtonX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("x","9"),t.setAttribute("y","9"),t.setAttribute("text-anchor","middle"),t.setAttribute("stroke",e),t.setAttribute("fill",e),t.setAttribute("stroke-width","1px"),t.setAttribute("font-size","13px"),t.setAttribute("alignment-baseline","middle"),t.textContent="x",t}applyCloseButtonWrapper(e){const t=document.createElement("div"),i=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];return this._hasTitleBar?i.push("adthrive-top-left-inner-wrapper"):i.push("adthrive-top-left-inner"),t.classList.add(...i),t.appendChild(e),t}};Do=I([rt("VideoCloseButtonComponent"),P()],Do);let Vo=class extends Os{constructor(e,t,i,s,n,r,o,a){super(),this._slots=e,this._config=t,this._slotManager=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._gam=o,this._outstream=a,this._sticky=[],this._slots.added.on((e=>{e&&e.sticky&&(e.element.classList.add("adthrive-sticky"),"Sidebar"===e.location&&this._sticky.push(new Io(e,!0)),"Video_StickyOutstream"===e.location&&(this._stickyOutstream=new Ro(this._config,this._slotManager,e,this._stickyCloseButtonExperiment,this._eventProxy,this._videoCloseButton)))})),void 0!==window.apstag&&this._config.amazon.enabled&&this._gam.slotOnload.on((({slot:e})=>{const t=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===e.location&&t&&(this._outstream.callANRendererWithUrl(t,e.id,!0),delete window.apsBidObject)}))}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};Vo=I([rt("StickyComponent"),P(),O("design:paramtypes",[As,Ts,_r,Bo,to,Do,Vs,tn])],Vo);let Lo=class{constructor(e,t,i){this._slots=e,this._slotManager=t,this._slotEventBus=i,this.slotIntersectionObservers=new Map,this.unobservedSlotIntersectionObservers=new Map,this._slotEventBus.unobserveBySlotLocation.on((e=>this.unobserveBySlotLocation(e)))}observe(e,t){const i=this.getIntersectionObserver(e);this.slotIntersectionObservers.set(t,i),this.unobservedSlotIntersectionObservers.set(t,i),i.observe(t.element)}unobserve(e){const t=this.unobservedSlotIntersectionObservers.get(e);t&&(t.unobserve(e.element),this.unobservedSlotIntersectionObservers.delete(e))}unobserveBySlotLocation(e){this.unobservedSlotIntersectionObservers.forEach(((t,i)=>{e.includes(i.location)&&i.sequence&&i.sequence<=9&&(this.unobserve(i),this._slotManager.display(i))}))}unobserveAll(){this.unobservedSlotIntersectionObservers.forEach(((e,t)=>{this.unobserve(t),this._slotManager.display(t)}))}getIntersectionObserver(e){const t=window.innerHeight*(e/100);return new IntersectionObserver((e=>{for(const t of e)this.processEntry(t)}),{rootMargin:`${t}px 0px`,threshold:[0]})}processEntry(e){const t=this._slots.get(e.target.id);t&&e.intersectionRatio>0&&this.unobservedSlotIntersectionObservers.has(t)&&(this._slotManager.display(t),this.unobserve(t))}};Lo=I([rt("IntersectionObserverManager"),A(),O("design:paramtypes",[As,_r,St])],Lo);let Fo=class extends Os{constructor(e,t,i,s,n,r,o){super(),this._config=e,this._gam=t,this._pageManager=i,this._slots=s,this._slotManager=n,this._sticky=r,this._intersectionObserverManager=o}init(){const e=this._slotManager;this._slotManager.added.on((t=>{for(const i of t)i.lazy?(Vs.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","true")})),this._intersectionObserverManager.observe(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent,i)):"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),e.display([i]).catch((e=>{D.error("GoogleLazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):(Vs.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","false")})),e.display(i).catch((e=>{D.error("GoogleLazyLoadComponent","init","display non lazy slot",e)})))}))}};Fo=I([rt("GoogleLazyLoadComponent"),P(),O("design:paramtypes",[Ts,Vs,pi,As,_r,Vo,Lo])],Fo);let No=class extends Os{constructor(e,t){super(),this._gam=e,this._slotManager=t}init(){this._slotManager.added.on((e=>{Vs.pushToQueue((()=>{for(const t of e){const e=se(t)||0;t.hvp=e,e>=50&&t.setTargeting({key:"hvp",value:e.toString()})}}))})),this._slotManager.refreshing.on((e=>{Vs.pushToQueue((()=>{for(const t of e)if(t.refreshCount<=2&&(!t.hvp||t.hvp<80)){const e=ie(t)||0;t.hvp=e,e>=60&&t.setTargeting({key:"hvp",value:`${e}`})}}))}))}};No=I([rt("HvpComponent"),P(),O("design:paramtypes",[Vs,_r])],No);let jo=class{constructor(e){this._config=e}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(e){D.error("MarmaladeInjector","inject",e)}return[]}processMatch(e,t){const{adUnit:i,match:s}=t,n=this.getElementId(i.location,i.sequence);if(!e.some((e=>e.location===i.location&&e.sequence===i.sequence))){const t=this.addAd(s,n,i.position,i.classNames);if(t){const s=new Ps(i.location,i.sequence,i.size,t,!1,i.lazy);e.push(s)}}return e}getElementId(e,t){return[this._config.gam.prefix,e,t].filter(Qe).join("_")}addAd(e,t,i,s=[]){const n=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;return e.insertAdjacentHTML(i,n),document.getElementById(t)}};jo=I([rt("MarmaladeInjector"),P(),O("design:paramtypes",[Ts])],jo);let Uo=class extends Os{constructor(e,t,i,s,n,r){super(),this._config=e,this._marmaladeInjector=t,this._slotManager=i,this._gam=s,this._prebidMethods=n,this._eventBus=r,this.mcmp=this._config.marmalade.mcmp.filter(ee)}getRfCodes(e){const t=[];if(e){const i=this._config.marmalade;[...i.rfMcmpCodes,...i.rfIabCodes].forEach((i=>{const s=i[0];i[1].includes(e)&&t.push(s)}))}return t}init(){const e=this._marmaladeInjector.inject();e.forEach((e=>e.refreshInterval=0));const t=this._config.marmalade.siteCodes.filter(ee),i=this._config.marmalade.flpProdIds.filter(ee),s=this._config.marmalade.loaded?"true":"false";this._slotManager.requestingBids.once((()=>{this._gam.setTargetingFlag("rf",[String(this._eventBus.recencyFrequencyDataSet.emitted)])}));let n=this.getRfCodes("ix"),r=this.getRfCodes("gam");this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...r]}),this._gam.setTargeting({key:"site_code",value:t}),this._gam.setTargeting({key:"marmalade",value:s});const o=t.reduce(((e,t)=>(e[t]="True",e)),{}),a=()=>{r=this.getRfCodes("gam"),n=this.getRfCodes("ix"),this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...r]}),ue({MCMP:[...n,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods)};if(this._config.marmalade.rfDataProcessed.emitted?a():this._config.marmalade.rfDataProcessed.on((()=>a())),ue({MCMP:[...n,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods),e.length>0&&this._gam.started.on((()=>this._slotManager.add(e).catch((e=>{D.error("MarmaladeComponent","init",e)})))),i){((e,t)=>{window.addEventListener("message",(i=>{try{const{origin:s,source:n}=i,r=JSON.parse(i.data),o=r&&r.message===t.message;if(!s||!s.match(e)||!o)return;n.postMessage(JSON.stringify(t),s)}catch(e){return}}))})(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:i})}}get enabled(){return!this._config.disableAds.all}};Uo=I([rt("MarmaladeComponent"),P(),O("design:paramtypes",[Ts,jo,_r,Vs,Bs,vt])],Uo);let qo=class extends Os{constructor(e,t,i){super(),this._config=e,this._gam=t,this._topicsApiIframeManager=i}get enabled(){return this._topicsApiIframeManager.enabled}init(){this._config.context.fledgeSupported&&this._gam.setTargeting({key:"fledge",value:"true"})}start(){const e=this._topicsApiIframeManager.topics;e.length>0?e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.modelVersion}|${e.topic}`])})):this._topicsApiIframeManager.topicsDataRecevied.on((e=>{e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.modelVersion}|${e.topic}`])}))}))}};qo=I([rt("OriginTrialComponent"),P(),O("design:paramtypes",[Ts,Vs,Ns])],qo);let Ho=class{constructor(e,t,i){this._emailCaptureHandler=e,this._gdprEvents=t,this._config=i,this._email="",this._consent="",this._hash="",this._source="",this._consentReceived=!1,this._emailCounted=!1,this.piiCaptured=new R}init(){this._emailCaptureHandler.emailCaptured.on((e=>this._handleEmailCapture(e))),this._gdprEvents.consentCaptured.on((e=>this._handleConsentCapture(e))),this._emailCaptureHandler.piiManagerReady.emit()}async _handleEmailCapture(e){const{email:t,hash:i,source:s}=e;this._hash=i||await this._hashEmail(t),this._email=t,this._source=s,this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(e){this._consentReceived=!0,this._consent=e,this._email&&this._hash&&this._sendPii()}_sendPii(){this._emailCounted||(this._emailCounted=!0,D.event("PiiManager","_sendPii",this._source)),this.piiCaptured.emit({email:this._email,hash:this._hash,consent:this._consent,source:this._source})}async _hashEmail(e){if(!("msCrypto"in window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}return""}};Ho=I([rt("PiiManager"),A(),O("design:paramtypes",[Rs,Mt,Ts])],Ho);class Go{get enabled(){return!0}}let $o=class extends Go{constructor(e,t){super(),this._config=e,this._gam=t,this._liveRampBaseUrl="https://api.rlcdn.com/api/identity/envelope",this._pid=111,this._it=4,this._localKey="_lr_env"}get enabled(){var e;return(null===(e=this._config.liveRampAts)||void 0===e?void 0:e.enabled)&&"localStorage"in window}init(){window.localStorage.getItem(this._localKey)&&this._gam.setTargetingFlag("idp",["ats"])}async processPii(e){if(localStorage.getItem(this._localKey))return;let t=`${this._liveRampBaseUrl}?pid=${this._pid}&it=${this._it}&iv=${e.hash?e.hash:e.email}`;this._config.gdpr.enabled?t+=`&ct=4&cv=${e.consent}`:this._config.ccpa.required&&(t+=`&ct=4&cv=${qe("usprivacy")}`);try{const e=await fetch(t,{method:"GET",keepalive:!0}),i=await e.text();if(i){const{envelope:e}=JSON.parse(i);return void localStorage.setItem(this._localKey,btoa(JSON.stringify({envelope:e,timestamp:+new Date})))}}catch(e){}}};$o=I([rt("LiveRampPiiPartner"),P(),O("design:paramtypes",[Ts,Vs])],$o);const Wo=(e,t)=>!e.idho.subModule||e.idho.subModule.name!==t;let Ko=class{constructor(e,t){var i;this._config=e,this._context=t,this._pixelUrl=`${window.location.origin}/wp-json/adthrive-pubcid/v1/extend`,this._sharedIdLegacy=localStorage.getItem("pbjs-pubcommonid"),this._sharedIdExpLegacy=localStorage.getItem("pbjs-pubcommonid_exp"),this._connectIdConfig=["connectId",{id:{name:"connectId",params:{pixelId:58404},storage:{name:"connectid",type:"html5",expires:15}},enabled:Wo(this._config,"connectId")&&this._config.liveRampAts.enabled,targetingKey:"cid"}],this._unifiedIdConfig=["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled:Wo(this._config,"unifiedId"),targetingKey:"uid1"}],this._id5IdConfig=["id5Id",{id:{name:"id5Id",params:{partner:367},storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled:Wo(this._config,"id5Id"),targetingKey:"id5"}],this._identityLinkConfig=["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled:Wo(this._config,"identityLink"),targetingKey:"idl"}],this._criteoIdConfig=["criteo",{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled:Wo(this._config,"criteo"),targetingKey:"cri"}],this._parrableIdConfig=["parrableId",{id:{name:"parrableId",params:{partner:"9fde8b8d-49db-4c9e-b841-0e777ab8d343"}},enabled:Wo(this._config,"parrableId")&&Ke(),targetingKey:"par"}],this._sharedIdConfigStorage=["sharedId",{id:{name:"sharedId",storage:{type:"html5",name:this._sharedIdExpLegacy&&this._sharedIdLegacy&&(i=new Date(this._sharedIdExpLegacy).getTime(),i&&!(i<(new Date).getTime()))?"pbjs-pubcommonid":"_pubcid",expires:60}},enabled:Wo(this._config,"sharedId"),targetingKey:"sh"}],this._sharedIdConfigCookie=["sharedId",{id:{name:"sharedId",storage:{type:"cookie",name:"_pubcid",expires:60},params:this._context.integration&&Ji("adthrive-ads-2.3.0",this._context.plugin)?{create:!1,pixelUrl:this._pixelUrl}:void 0},enabled:Wo(this._config,"sharedId"),targetingKey:"sh"}],this.ids=new Map([this._getSharedIdConfig(),this._connectIdConfig,this._unifiedIdConfig,this._id5IdConfig,this._identityLinkConfig,this._criteoIdConfig,this._parrableIdConfig])}get(e){return this.ids.get(e)}forEach(e){return this.ids.forEach(e)}values(){return this.ids.values()}_getSharedIdConfig(){return qe("_pubcid")?this._sharedIdConfigCookie:this._sharedIdConfigStorage}};Ko=I([rt("UserIds"),A(),O("design:paramtypes",[Ts,ui])],Ko);let Qo=class extends Go{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._userIds=i,this._submitted=!1,this.userId=i.get("connectId").id}get enabled(){return this._userIds.get("connectId").enabled}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map((e=>(e.name===this.userId.name&&(e=this.userId),e)))}processPii(e){this._prebidMethods.addToQueue((()=>{this.run(e)}))}run(e){if(e.hash&&this.userId.params&&!this._submitted){this.userId.params.he=e.hash,this._submitted=!0;const t=this.updateUserIds();this._prebidMethods.setConfig({userSync:{userIds:t}}),this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},(()=>{}))}}};Qo=I([rt("YahooPiiPartner"),P(),O("design:paramtypes",[Ts,Bs,Ko])],Qo);let Xo=class extends Os{constructor(e,t,i){super(),this._piiManager=e,this._partners=[t,i].filter((e=>e.enabled)),this._piiManager.piiCaptured.on((e=>{this._partners.forEach((t=>{t.processPii(e)}))}))}start(){this._partners.forEach((e=>e.init&&e.init())),this._piiManager.init()}};Xo=I([rt("PiiCaptureComponent"),P(),O("design:paramtypes",[Ho,$o,Qo])],Xo);let Yo=class extends Os{constructor(e){super(),this._slotManager=e,this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on((e=>{Vs.pushToQueue((()=>{e.forEach((e=>e.setTargeting({key:"refresh",value:"00"}))),e.forEach((e=>e.setTargeting({key:"nref",value:"0"})))}))})),this._slotManager.refreshing.on((e=>{Vs.pushToQueue((()=>{for(const t of e){const e=`0${Math.min(t.refreshCount,this._maxSlotRefreshCount)}`.slice(-2);t.setTargeting({key:"refresh",value:e}),t.setTargeting({key:"nref",value:t.refreshCount.toString()})}}))}))}};Yo=I([rt("RefreshCountComponent"),P(),O("design:paramtypes",[_r])],Yo);let Jo=class extends yt{constructor(e,t){super(),this._result=!1,this.key="rebuildslot",this._choices=[{choice:!0},{choice:!1}],this.weight=.95;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Jo.prototype,"run",null),Jo=I([rt("RefreshRebuildExperiment"),A(),O("design:paramtypes",[gt,Ft])],Jo);let Zo=class extends Os{constructor(e,t){super(),this._slotManager=e,this._refreshRebuildExperiment=t}init(){this._slotManager.refreshing.on((e=>{e.filter(this.slotHasHighRefreshCountIncrement).forEach((e=>this._slotManager.rebuild(e)))}))}slotHasHighRefreshCountIncrement(e){return e.refreshCount%100==0}get enabled(){return this._refreshRebuildExperiment.result}};function ea(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===i&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}Zo=I([rt("RefreshRebuildComponent"),P(),O("design:paramtypes",[_r,Jo])],Zo);let ta=class extends Os{constructor(e){super(),this._config=e}start(){this._config.site.style&&this._config.site.style.length>0?ea(this._config.site.style):this._config.context.styleUrl&&(e=>{const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)})(this._config.context.styleUrl)}};ta=I([rt("SiteStyleComponent"),P(),O("design:paramtypes",[Ts])],ta);let ia=class extends Os{constructor(e){super(),this._gam=e}init(){const e=this.getReferrer();null!==e&&this._gam.setTargeting({key:"doc_ref",value:e})}getReferrer(){const e=de();return e&&e.length&&re("referrer",e),e}};ia=I([rt("TrafficSourceComponent"),P(),O("design:paramtypes",[Vs])],ia);let sa=class{constructor(e,t){this._gam=e,this._userIds=t}getStoredIdValue(e){let t;return"cookie"===e.type&&window.navigator.cookieEnabled?t=qe(e.name):"html5"===e.type&&(t=window.localStorage.getItem(e.name)),t}getSyncedIdModules(e){return[...e].reduce(((e,t)=>void 0!==t.storage&&this.getStoredIdValue(t.storage)?(e.push(t.name),e):e),[])}setTargeting(e){const t=this.getSyncedIdModules(e).map((e=>{var t;return(null===(t=this._userIds.get(e))||void 0===t?void 0:t.targetingKey)||e}));this._gam.setTargetingFlag("idp",t)}};sa=I([rt("UserIdTargeting"),P(),O("design:paramtypes",[Vs,Ko])],sa);let na=class extends Os{constructor(e,t,i){super(),this._prebidMethods=e,this.userIdTargeting=t,this._userIds=i,this._enabledUserIds=[],this._ppid=null,this._enabledUserIds=[...i.values()].filter((e=>e.enabled)).map((e=>{if("sharedId"===e.id.name){const t=e.id.storage&&e.id.storage.name||"";this._ppid=localStorage.getItem(t),this._ppid&&(e.id.value={pubcid:this._ppid})}return e.id}))}init(){let e={userIds:this._enabledUserIds};this._ppid&&(e={ppid:"pubcid.org",...e}),this._prebidMethods.setConfig({userSync:e}),this.userIdTargeting.setTargeting([...this._userIds.values()].map((e=>e.id)))}};na=I([rt("UserIdComponent"),P(),O("design:paramtypes",[Bs,sa,Ko])],na);let ra=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t}init(){const e=K(oe("utm",18e5),{});["utm_medium","utm_campaign","utm_session","utm_source"].forEach((t=>{const i=this._config.context.querystring.get(t),s=K(i,e[t]);this._gam.setTargeting({key:t,value:s}),s&&(e[t]=s)})),re("utm",e)}};ra=I([rt("UTMComponent"),P(),O("design:paramtypes",[Ts,Vs])],ra);class oa{constructor(){}init(e){this.setup(e)}}let aa=class extends yt{constructor(e){super(),this.abgroup=e,this.key="sicb",this._choices=[{choice:"tlo",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],aa.prototype,"run",null),aa=I([rt("StickyInstreamCloseButtonExperiment"),A(),O("design:paramtypes",[gt])],aa);let la=class extends yt{constructor(e,t){super(),this.abgroup=e,this.key="sppe50",this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.weight=0;const i=t.getCoreExperiment(this.key);te()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),this.abgroup.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};la=I([P(),rt("StickyPlayerPositionExperiment"),O("design:paramtypes",[gt,Ft])],la);let da=class extends Qt{init(){this._key="mgtdtw"}};da=I([rt("TearDownPlayerExperiment"),A()],da);const ca=(e,t=navigator.userAgent)=>((e=navigator.userAgent)=>/iP(hone|od|ad)/i.test(e))(t)&&((e,t=navigator.userAgent)=>new RegExp(`OS ${e}`,"i").test(t))(e.toString(),t);let ha=class extends Et{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._mappedChoices=[],this._result="control",this.key=Re.MobileStickyPlayerPosition,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this.mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){this.experimentConfig||D.error("MobileStickyPlayerPositionSiteExperiment","run","No experiment config found");const e=new Pt(this._mappedChoices).get();return this._validResult(e)?e:(D.error("MobileStickyPlayerPositionSiteExperiment","run","Invalid result from experiment choices. Defaulting to control."),"control")}setExperimentTargeting(){if(!this.experimentConfig||!this._validResult(this._result))return void D.error("MobileStickyPlayerPositionSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config and valid result");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=`${this._result}`;return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:String(t)})))}_validResult(e){return"string"==typeof e}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ha.prototype,"run",null),ha=I([rt("MobileStickyPlayerPositionSiteExperiment"),A(),O("design:paramtypes",[kt,_t,Rt])],ha);class pa extends oa{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_){var m;if(super(),this._playerId=e,this._playlistId=t,this._name=i,this._size=s,this._pageElement=n,this._eventProxy=r,this._vastLoadTimeout=o,this._config=a,this._collapseType=l,this._collapseMobileSizeType=d,this._prebidMethods=c,this._auctionManagers=h,this._playerType=p,this._isCollapsible=u,this._saveVideoCloseState=g,this._mobileLocation=_,this.initialAuctionPlayer=!1,this._prerollAdUrl="",this._prerollNum=0,this.jwVersion="",this.imaVersion="",this.requestVideoBids=()=>{throw new Error("Request video bids not set")},this.buildVideoUrl=()=>{throw new Error("Build video url not set")},this.setPlayerInstance=()=>{throw new Error("Reset player not set")},this.waitForConsent=()=>{throw new Error("Wait for consent not set")},this._defaults={},this._state=0,this._collapseCollection=null,this._adPlayed=!1,this._nextAdFetched=!1,this._adDurationLogged=!1,this._isFirstPlay=!0,this._createdSkipContainer=!1,this._calledNextVideo=!1,this._wasClicked=!1,this._canSkip=!0,this._isAdvancePlaylist=!1,this._adDetails=null,this._canTearDown=!1,this._tearDownAfterNextAd=!1,this._tearDownTimer=null,this._tearDownPlayerTimeout=0,this._stalePlayerTimer=null,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._adTimingBuffer=10,this._defaultAdDuration=30,this._autoplayBehaviorConfig={autostart:"viewable",mute:!0},this._topBackgroundElement=null,this._bidMarkedOnCurrentAd=!1,this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,vpaidmode:"insecure",vpaidcontrols:!0},generateSEOMetadata:!0},this._prebidAuctionManager=this._auctionManagers.getPrebidAuctionManager(),this._stickyInstreamCloseButtonExperiment=x.resolve(aa),this._stickyPlayerPositionExperiment=x.resolve(la),this._mobileStickyPlayerPositionSiteExperiment=x.resolve(ha),this._videoCloseButtonComponent=x.resolve(Do),window.matchMedia){const e=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`);e.addListener(this.handleWidthBreak.bind(this)),this.handleWidthBreak(e)}const y=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?y.playlistPlayer.enabled:y.relatedPlayer.enabled,("contextual"!==this._playerType||this._isCollapsible&&y)&&(this._tearDownPlayerTimeout=null!==(m=x.resolve(da).result)&&void 0!==m?m:0,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout)}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get size(){return this._size}get vp(){return this._prerollNum<=1?this._prerollNum:this._prerollNum<=9?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(e){this._defaults=e}resetAdVars(){this._adPlayed=!1,this._bidMarkedOnCurrentAd=!1,this._adDetails=null,this._nextAdFetched=!1,this._adDurationLogged=!1,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._videoBidRequest=void 0,this._clearStaleTimers()}handleNextAdFetch(){if(!this._nextAdFetched){this._nextAdFetched=!0,this._prerollNum++;const e=this._videoBidRequest=this.requestVideoBids([this]);null==e||e.then((()=>this._prerollAdUrl=this.buildVideoUrl(this))).catch((()=>{}))}}preventCollapse(){zo.disableCollapse=!0,this._collapseCollection&&zo.uncollapse(this._collapseCollection)}playLinearAd(){const e=()=>{this._playerInstance._nonLinearAd=!1,this._playerInstance.playAd(this._prerollAdUrl),this._adPlayed=!0};this._videoBidRequest?this._videoBidRequest.then((()=>e())).catch((()=>{})):this._fetchBids().then((()=>e())).catch((()=>{}))}async _inViewPlay(){this._playerInstance.pause();const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),this._playerInstance.play(!0)}_setPlayerVersions(){const e=new RegExp("^[0-9]+.[0-9]+.[0-9]+"),t=this._playerInstance,i=e.exec(t.version);this.jwVersion=i&&i[0],this.imaVersion=t.plugins&&t.plugins.googima&&t.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,jwVersion:this.jwVersion}}async _fetchBids(){const e=this._videoBidRequest=this.requestVideoBids([this]);await e,this._prerollAdUrl=this.buildVideoUrl(this)}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),this._playerInstance.remove(),this.addToPage(),this.setPlayerInstance(this),this.handleScroll())}_enableTearDown(){this._tearDownAfterNextAd=!0}_startTearDownTimer(){const e=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),e))}_handleErrors(){["adError","setupError","error"].forEach((e=>{this._bidMarkedOnCurrentAd=!1;const t="adError"===e;this._playerInstance.on(e,(i=>{if(this._clearStaleTimers(),!this._adDetails){const e="tag"in i&&i.tag||"",t=e&&this._getCustParamsFromQueryString(e),s=t&&t.hb_adid,n=t&&t.hb_adomain;this._adDetails={adUnitName:this._name,tag:e,isEmpty:!0,adId:s&&String(s),adomain:n&&String(n)}}if(900===i.code&&this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails),"setupError"===e&&this.preventCollapse(),D.error("JwPlayer",e,{code:i.code,...t&&{message:i.message,adErrorCode:i.adErrorCode},...this.getJwEventLog(i)}),"adError"===e){this._tearDownPlayer(),this._checkRenderedAdDetails();const e={message:i.message,code:i.code,adErrorCode:i.adErrorCode,...this._getPlayerVersions(),...this._getErrorLogAdDetails()};D.error("JwPlayer","vastError",e)}}))}))}_handleTimeEvents(){this._playerInstance.on("beforeComplete",(()=>{this.resetAdVars(),this._playerInstance._nonLinearAd=!1})),this._playerInstance.on("time",(({position:e,duration:t})=>{!this._nextAdFetched&&t-e<5&&this.handleNextAdFetch()})),this._playerInstance.on("adTime",(e=>{if(this._currentAdTime=e.position,this._config.video.logAdDuration&&!this._adDurationLogged){const t={adDuration:e.duration,roundedAdDuration:Math.round(e.duration)};D.event("VideoManager","VideoAdDuration",t),this._adDurationLogged=!0}})),this._playerInstance.on("adComplete",(()=>{this._tearDownPlayer()}))}async _triggerAdPlay(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._adPlayed||(this.playLinearAd(),this._isFirstPlay=!1)}_handlePlayingEvents(){["play","firstFrame"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"firstFrame"===e&&this._isAdvancePlaylist&&this._triggerAdPlay()}))})),this._playerInstance.on("beforePlay",(()=>{this._triggerAdPlay()})),["adSkipped","adPause"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"adPause"===e&&this._playerInstance.once("adPlay",(()=>{0!==this._currentAdTime&&this._setStaleAdDetection()}))}))})),this._collapseCollection&&["play","adPlay"].forEach((e=>{"adPlay"===e&&this._playerInstance.on(e,(()=>{this._checkRenderedAdDetails()})),this._playerInstance.once(e,(()=>{this._collapseCollection.mediaStarted=!0,this.handleScroll()}))}))}_checkRenderedAdDetails(){const e=this._prebidAuctionManager,t=this._adDetails;if(!e||!t||this._bidMarkedOnCurrentAd)return;const i=t.gamCreativeId,s=t.wrapperSystems;this._markPrebidBidAsUsed(i,e,s)}_markPrebidBidAsUsed(e="",t,i=[]){const s=e&&t.videoCreativeIdMapping.get(e);let n=!1,r=!1,o=!1;if(i.forEach((e=>{const t=e.toLowerCase();"gdfp"===t&&(r=!0),"prebid.org wrapper"===t?n=!0:"amazon"===t&&(o=!0)})),s){const e=this._adDetails,t=(e&&e.tag&&this._getCustParamsFromQueryString(e.tag)||{})[`hb_adid_${s}`.substring(0,20)];t&&(this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name,adId:t}),this._bidMarkedOnCurrentAd=!0)}else e||!(n||r&&!o)&&i.length?e&&D.event("JwPlayer","MarkBidsAsUsed",{message:"Creative Id Not Found",gamCreativeId:e}):(this._bidMarkedOnCurrentAd=!0,this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name}))}_getCustParamsFromQueryString(e){const t=e&&je(e.split("?")[1]),i=t&&t.get("cust_params");return i&&Ue(this._getDecodedURI(i))}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getAdDetailsFromAd(e){return e&&Object.keys(e).length>0?e[Object.keys(e)[0]]:null}_handleAdTrackingEvents(){this._playerInstance.on("adLoaded",(e=>{const t=e.ima&&e.ima.ad&&this._getAdDetailsFromAd(e.ima.ad),i=t&&t.duration||e.duration||this._defaultAdDuration;this._currentAdDurationWithBuffer=i+this._adTimingBuffer;const s=e.tag;if(t){const i=s&&this._getCustParamsFromQueryString(s),n=i&&i.hb_adid,r=i&&i.hb_adomain;this._adDetails={wrapperIds:t.adWrapperIds,gamCreativeId:t.adWrapperCreativeIds[t.adWrapperCreativeIds.length-1],gamLineItemId:t.adWrapperIds[t.adWrapperIds.length-1],wrapperCreativeIds:t.adWrapperCreativeIds,vastCreativeId:t.creativeId,mediaFileURL:t.mediaUrl,adId:n&&String(n),adUnitName:this._name,adomain:r&&String(r),tag:e.tag,isEmpty:!1,wrapperSystems:t.adWrapperSystems}}this._setStaleAdDetection()})),this._playerInstance.on("adImpression",(()=>{const e=this._adDetails||{};this._eventProxy.emitVideoSlotRenderedEvent(e)})),this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach((e=>{this._playerInstance.on(e,(t=>{D.event("JwPlayer",e,this.getJwEventLog(t))}))}))}_setupEventListeners(){this._handleErrors(),this._listenForLargeVastError(),this._handleTimeEvents(),this._handlePlayingEvents(),this._handleAdTrackingEvents(),this._playerInstance.on("ready",this._playerReady.bind(this))}_playerReady(e){this._startTearDownTimer(),this.configureQuality(),this._setPlayerVersions()}jwSetup(e){const t={...this._defaults,...this._baseConfig,...e};this._playerInstance.setup(t),this.handleNonLinearAd(),this._setupEventListeners()}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=null)}_listenForLargeVastError(){this._prebidMethods.onEvent("vastExceededLimit",(e=>{const t={meta:e.bids[0].meta,bidder:e.bids[0].bidder,adId:e.bids[0].adId,creativeId:e.bids[0].creativeId,responseSize:e.responseSize,maxSizeAllowed:e.maxSizeAllowed};D.error("JwPlayer","listenForLargeVastError",t)}))}_getErrorLogAdDetails(){return(({wrapperIds:e,wrapperCreativeIds:t,wrapperSystems:i,vastCreativeId:s,mediaFileURL:n,adId:r,adUnitName:o,adomain:a})=>({wrapperIds:e,wrapperCreativeIds:t,wrapperSystems:i,vastCreativeId:s,mediaFileURL:n,adId:r,adUnitName:o,adomain:a&&encodeURIComponent(a)}))(this._adDetails||{})}_setStaleAdDetection(){const e=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout((()=>{D.error("JwPlayer","stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._getErrorLogAdDetails()}),-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this._playerInstance.playlistItem(this._playerInstance.getPlaylistIndex())}),1e3*e))}getJwEventLog(e){return{playerName:this._name,rawData:this.trimEventData(e)}}set videoAdUnit(e){this._videoAdUnit=e}get videoAdUnit(){return this._videoAdUnit}handleNonLinearAd(){this._playerInstance.on("adImpression",(e=>{const t=Xe(e.ima,"ad")?e.ima.ad:null,i=this._getAdDetailsFromAd(t);if(i&&Xe(i,"linear")&&!1===i.linear||"nonlinear"===e.linear){this._playerInstance._nonLinearAd=!0,this._playerInstance.pause();const e=document.getElementById(`${this._playlistId}`),t=e.querySelector("div > div.jw-overlays.jw-reset");t.style.backgroundColor="black";const i=e.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");i.style.zIndex="-1",this._playerInstance.once("adComplete",(()=>{this._playerInstance._nonLinearAd=!1,t.style.backgroundColor="transparent",i.style.zIndex="",this._playerInstance.play()}))}}))}getJwBoostTargeting(){return{playerID:this._playlistId,...(this.name===Ae.Video_In_Post_ClicktoPlay_SoundOn||this.name===Ae.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId}}}async handleScroll(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._collapseCollection&&(this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),zo.handleScroll(this._collapseCollection))}handleResize(){this._collapseCollection&&zo.handleResize(this._collapseCollection)}handlePageVisibilityChange(e){this._collapseCollection&&zo.handlePageVisibilityChange(e,this._collapseCollection)}displayCloseButton(){this._collapseCollection&&zo.displayCloseButton(this._collapseCollection)}handleClose(){this._collapseCollection&&(this._saveVideoCloseState&&re("video_closed",!0),zo.handleClose(this._collapseCollection))}handleUserClick(){this._collapseCollection&&zo.handleUserClick(this._collapseCollection)}handleWidthBreak(e){this._collapseCollection&&zo.handleWidthBreak(e,this._collapseCollection)}handleVideoPlayingEvent(e){if(this._collapseCollection){if(e===this._playlistId)return;zo.handleOtherVideoPlaying(this._collapseCollection)}}handleTitleClick(e){this._collapseCollection.collapseTimer.firstInView&&D.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-this._collapseCollection.collapseTimer.firstInView.valueOf(),link:e.currentTarget.getAttribute("href")})}handleFooterRefreshedEvent(){this._collapseCollection&&zo.repositionCollapseMobileBottom(this._collapseCollection)}configureQuality(){we()||this._playerInstance.on("levels",(e=>{this._playerInstance.setCurrentQuality(e.levels.length-1)}))}createDefaultButton(){return this._videoCloseButtonComponent.createDefaultButton(this.handleClose.bind(this))}createPlayerCloseButton(){const e=this._wrapperTitleWrapperElement||this._videoTitleElement;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this.handleClose.bind(this),this._stickyInstreamCloseButtonExperiment.result,"adthrive-collapse-close",!!e,this._isTopCollapse),this._closeButton}createPlayerCollapseBackgroundElement(){const e=document.createElement("div");return e.classList.add("adthrive-collapse-mobile-background"),e.style.width=`${window.innerWidth}px`,e.style.display="inline",e.style.height="0",e}createLinkIcon(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","24"),t.setAttribute("height","24"),t.setAttribute("style","vertical-align: top;");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width","2"),i.setAttribute("stroke-linejoin","round"),t.appendChild(i),t.id=`${e}-svg-link`,t}createLearnMoreLink(e){const t=document.createElement("a");return t.classList.add("adthrive-learn-more-link"),t.innerText="Tap here to learn more.",t.id=`${e}-learn-more-link`,t}createPlayerWrapper(e){if(e){this._wrapperTitleWrapperElement=document.createElement("a");const e=this.createLinkIcon(this._playlistId);this._wrapperTitleWrapperElement.appendChild(e)}else this._wrapperTitleWrapperElement=document.createElement("div");this._videoTitleElement=document.createElement("span");const t=document.createElement("div"),i=document.createElement("div");return i.className="adthrive-wrapper-title-wrapper",this._videoTitleElement.classList.add("adthrive-video-text-cutoff"),this._videoTitleElement.classList.add("adthrive-video-title"),this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff",this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement),this._wrapperTitleWrapperElement.target="_blank",this._wrapperTitleWrapperElement.onclick=this.handleTitleClick.bind(this),this._closeButton="off"!==this._stickyInstreamCloseButtonExperiment.result||this._isTopCollapse?this.createPlayerCloseButton():this.createDefaultButton(),i.appendChild(this._wrapperTitleWrapperElement),t.className="adthrive-wrapper-bar",t.appendChild(i),t.appendChild(this._closeButton),t}createTopCollapseWrapper(e=!0){const t=document.createElement("div");t.className="adthrive-top-collapse-wrapper-bar",this._closeButton=this.createPlayerCloseButton();const i=document.createElement("div");i.style.minHeight="33px",i.appendChild(this._closeButton),t.appendChild(i);const s=document.createElement("a");if(this._topCollapseVideoTitleElement=document.createElement("span"),this._topCollapseVideoTitleElement.classList.add("adthrive-top-collapse-wrapper-video-title"),s.appendChild(this._topCollapseVideoTitleElement),e){const e=this.createLearnMoreLink(this._playlistId);s.appendChild(e),s.onclick=this.handleTitleClick.bind(this)}return t.appendChild(s),this._wrapperText=s,t}trimEventData(e){var t,i;const s={...e},n=s.ima&&s.ima.ad&&this._getAdDetailsFromAd(s.ima.ad);return(null==s?void 0:s.tag)&&delete s.tag,n&&n.traffickingParameters&&delete n.traffickingParameters,(null===(i=null===(t=null==s?void 0:s.ima)||void 0===t?void 0:t.userRequestContext)||void 0===i?void 0:i.adTagUrl)&&delete s.ima.userRequestContext.adTagUrl,(null==s?void 0:s.mediaFile)&&delete s.mediaFile,s}handleNextButton(){this._calledNextVideo=!0,this.removeSkipContainer(),this.resetAdVars(),this._isAdvancePlaylist&&1===this._playerInstance.getPlaylist().length?(this._playerInstance.pause(),this._playerInstance.seek(0),this._playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this._playerInstance.next()}createNavButton(e){const t=document.createElement("div");return t.id=`${e}-video`,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),ca(15)||ca(16)||((e=navigator.userAgent)=>G(e)&&we(e))()||t.classList.add("video-box-shadow"),t}createSkipContainer(){const e=document.createElement("div");e.id="next-stay-container";const t=this.createNavButton("next");return t.onclick=this.handleNextButton.bind(this),e.appendChild(t),e.appendChild(this.createNavButton("stay")),e}initSkipContainer(){this._playerInstance.on("time",(({position:e,duration:t})=>{if(!this._canSkip||this._playerInstance._nonLinearAd||this._wasClicked||t<5)return;const i=t<40,s=i?e>=t-5:e>=25,n=i?e>=t:e>=30;!this._createdSkipContainer&&s?(this._createdSkipContainer=!0,this.handleNextAdFetch(),this._skipContainer=this.createSkipContainer(),this._playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&n&&this.handleNextButton()}))}handleVideoPlayerClicked(){this._wasClicked=!0,this.removeSkipContainer()}removeSkipContainer(){var e,t;null===(t=null===(e=this._skipContainer)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this._skipContainer),this._skipContainer=void 0}handleFirstFrame(){this._calledNextVideo=!1,this._createdSkipContainer=!1,this._wasClicked=!1}_getCollapseMobileSubType(){const e=this._mobileStickyPlayerPositionSiteExperiment.enabled,t=this._mobileStickyPlayerPositionSiteExperiment.result;return e&&t&&"control"!==t?Es.setMobileLocation(t):this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation}get _isTopCollapse(){return"adthrive-collapse-top-center"===this._getCollapseMobileSubType()}isTopCenterCollapse(){return"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse}createTopCenterBackground(e){this._topBackgroundElement=this.createPlayerCollapseBackgroundElement(),e.appendChild(this._topBackgroundElement)}}let ua=class extends pa{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u){super(e,t,i,s,n,r,1e4,o,l,d,c,h,"contextual",a,undefined,p),this._mobileHeaderSelector=u,this._topBackgroundElement=null,this._playerConfig={repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`},this._wrapperBarRemoved=!1,this._playerElement=document.createElement("div"),this._canSkip=!1,this._autoplayStationaryPlayer=this._shouldStationaryAutoplay(),(a||this._autoplayStationaryPlayer)&&(this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._playerContainer=this._pageElement)}addToPage(){}_appendPlayer(){const e=document.createElement("div");e.id=this._playlistId,e.className="adthrive-jw-static-player",this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-contextual-position",this.isTopCenterCollapse()&&this.createTopCenterBackground(this._pageElement),this._config.video.removeVideoTitleWrapper?this.addCloseWithoutWrapper():this.isTopCenterCollapse()?this.addTopCenterWrapper():this.addPlayerWithoutWrapper(),this._playerElement.appendChild(e),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(e)}setup(){"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._isCollapsible&&(this._collapseCollection={playerInstance:this._playerInstance,playerType:"contextualCollapse",playerState:this._state,playerContainer:this._pageElement,playerElement:this._playerElement,topBackgroundElement:this._topBackgroundElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null,stickyElement:this._stickyElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:this._mobileHeaderSelector||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}),this.jwSetup(this._playerConfig),this._playerInstance.on("play",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._isCollapsible?this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this)):this._eventProxy.videoPlaying.on(this.contextualHandleVideoPlayingEvent.bind(this)),this._config.video.contextualPlayerAdded=!0}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&D.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then((e=>{if(e.playlist&&e.playlist.length){const t=this._playerInstance.getPlaylist().concat(Es.shufflePlaylist(e.playlist));this._playerInstance.once("userInactive",(()=>{var e;!(null===(e=this._collapseCollection)||void 0===e?void 0:e.mediaStarted)&&this.handleScroll()})),this._playerInstance.load(t),this.handleScroll().catch((()=>!1))}})).catch((()=>!1))}setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0),this._playerInstance.once("complete",(()=>{this.hideWrapperBar(),this._canSkip=!0}))}handleNextButton(){this.hideWrapperBar(),super.handleNextButton()}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}setWrapperBar(){this._wrapperBar=this._playerElement.querySelector(".adthrive-wrapper-bar")}hideWrapperBar(){const e=this._wrapperBar,t=this._playerElement;!this._wrapperBarRemoved&&e&&(this._wrapperBarRemoved=!0,e.parentNode&&e.parentNode.removeChild(e),this._wrapperBar=null,t.insertBefore(this.createPlayerCloseButton(),t.firstChild),this._collapseCollection&&(this._collapseCollection.closeButton=this._closeButton,this.displayCloseButton()))}addCloseWithoutWrapper(){this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}addTopCenterWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.appendChild(this.createTopCollapseWrapper(!1)),this._playerElement.classList.add("adthrive-player-with-wrapper-text")}addPlayerWithoutWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then((e=>{e&&(this.loadPlaylistPlayerVideos(),this.setupAllowSkip(),this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer())})).catch((()=>!1))}setTitleTextForVideoTitleElement(e){const t=this._playerInstance.getPlaylistItem(0),i=Xe(s=t,n="title")?s[n]:null;var s,n;e.innerText="string"==typeof i?i:""}_playerReady(e){super._playerReady(e),this.initRelatedPlaylist();const t=this._autoplayStationaryPlayer;(t||this._collapseCollection)&&(e.viewable&&this._inViewPlay(),t&&this._logStationaryAutoplay()),this._isCollapsible&&this._setupCollapsible()}_setupCollapsible(){this.setWrapperBar(),this._wrapperBar&&this._wrapperBar.style.setProperty("display","flex"),this._videoTitleElement&&this.setTitleTextForVideoTitleElement(this._videoTitleElement),this._topCollapseVideoTitleElement&&this.setTitleTextForVideoTitleElement(this._topCollapseVideoTitleElement),this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"===e.playReason&&this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this.handleResize()}contextualHandleVideoPlayingEvent(e){e!==this._playlistId&&this._playerInstance.pause(!0)}};ua=I([rt("ContextualPlayer"),O("design:paramtypes",[Object,String,String,Array,HTMLElement,to,Ts,Boolean,String,String,Bs,ur,String,Object])],ua);let ga=class extends pa{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_,m){super(e,t,i,s,r,o,a.video.vastTimeout,a,l,d,c,h,"playlist",!0,g,p),this._sharedVideoSettings=n,this._title=_,this._shuffle=m,this._topBackgroundElement=null,this._isCollapsible=!0,this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}},this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._checkVideoClose()&&(this._state=7),this._config.video.footerSelector?this._footerElement=document.querySelector(this._config.video.footerSelector):this._footerElement=null,"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this.clsPlayerContainer=document.querySelector(`#cls-video-container-${this._playlistId} > div`),this._playerContainer=this.clsPlayerContainer?this.clsPlayerContainer:document.createElement("div"),this._playerElement=document.createElement("div"),this._collapseCollection={playerInstance:this._playerInstance,playerType:"playlist",playerState:this._state,playerContainer:this._playerContainer,playerElement:this._playerElement,stickyElement:this._stickyElement,footerElement:this._footerElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSizeType:this._collapseMobileSizeType,collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:u||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}}setup(){this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this))}_appendPlayer(){const e=document.createElement("div"),t=document.createElement("h3");this._playerContainer.classList.add("adthrive-player-container"),this._playerContainer.classList.add("adthrive-collapse-player"),this._playerContainer.id="adthrive-collapse-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-collapse-position",e.id=this._playlistId,t.innerText=this._getTitle(),t.className="adthrive-player-title",t.id="adthrive-collapse-title",this._playerElement.appendChild(t),this._config.video.removeVideoTitleWrapper?(this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")):"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse?(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.appendChild(this.createTopCollapseWrapper()),this._playerElement.classList.add("adthrive-player-with-wrapper-text")):(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")),this._collapseCollection.closeButton=this._closeButton,this._playerElement.appendChild(e),this.isTopCenterCollapse()&&this.createTopCenterBackground(this._playerContainer),this._playerContainer.appendChild(this._playerElement),this.clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,this._playerContainer)}addToPage(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._collapseCollection&&(this._collapseCollection.playerInstance=this._playerInstance,this._collapseCollection.playerContainer=this._playerContainer,this._collapseCollection.playerElement=this._playerElement,this._collapseCollection.topBackgroundElement=this._topBackgroundElement),this.jwSetup(this._playerConfig),this._config.video.playlistPlayerAdded=!0}linkProvidedByPublisher(e){return!e.startsWith("https://cdn.jwplayer.com")}_playerReady(e){var t;super._playerReady(e),null===(t=this._playerElement.querySelector(".adthrive-wrapper-bar"))||void 0===t||t.style.setProperty("display","flex");if(this._getShuffle()){const e=this._playerInstance.getPlaylist();this._playerInstance.load(Es.shufflePlaylist(e))}this._config.video.advancePlaylist.playlistPlayer.enabled&&(this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer()),this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"!==e.playReason||this._calledNextVideo||this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("playlistItem",(e=>{const t=e.item,i=this._playlistId,s=document.getElementById(`${i}-learn-more-link`),n=document.getElementById(`${i}-svg-link`);this._videoTitleElement&&Xe(t,"title")&&"string"==typeof t.title&&(this._videoTitleElement.innerText=t.title),this._topCollapseVideoTitleElement&&Xe(t,"title")&&"string"==typeof t.title&&(this._topCollapseVideoTitleElement.innerText=t.title),this._wrapperTitleWrapperElement&&Xe(t,"link")&&"string"==typeof t.link&&this.linkProvidedByPublisher(t.link)&&(this._wrapperTitleWrapperElement.href=t.link,n||this._wrapperTitleWrapperElement.prepend(this.createLinkIcon(i))),this._wrapperText&&Xe(t,"link")&&"string"==typeof t.link&&this.linkProvidedByPublisher(t.link)&&(this._wrapperText.href=t.link,s||this._wrapperText.append(this.createLearnMoreLink(i))),t&&Xe(t,"link")&&"string"==typeof t.link&&!this.linkProvidedByPublisher(t.link)&&(null==n||n.remove(),null==s||s.remove())})),this.handleResize(),e.viewable&&this._inViewPlay()}_getShuffle(){return!!this._shuffle&&this._shuffle}_getTitle(){return this._title?this._title:""}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};ga=I([rt("PlaylistPlayer"),O("design:paramtypes",[String,String,String,Array,Object,HTMLElement,to,Ts,String,String,Bs,ur,String,Object,Boolean,String,Boolean])],ga);let _a=class extends oa{constructor(e,t,i,s,n,r,o,a,l){super(),this._playlistId=e,this._portalSettings=t,this._pageElement=i,this._device=s,this._width=n,this._height=r,this._isCollapse=o,this._config=a,this._videoRequestManager=l,this.API_ID="sekindoPlayer",this._clsContainer=null,this._hasTitle=!(!this._portalSettings.title||null===this._portalSettings.title&&""===this._portalSettings.title)}addToPage(){this.setup(),this._config.video.sekindoPlayerAdded=!0}setup(){window.addEventListener("primisPlayerInit",(e=>{e.detail.playerApiId===this.API_ID&&(D.event("sekindo-player","init","Sekindo player initialized"),this._videoRequestManager.requestingSekindoBids.emit(this))})),this._clsContainer=document.querySelector(`#cls-video-container-${this._playlistId}`);const e=document.createElement("div");e.className="adthrive-sekindo-player",e.id="adthrive-sekindo-container";const t=document.createElement("script"),i=Es.createQueryString({s:this._isCollapse?98876:87493,cbuster:"%%CACHEBUSTER%%",pubUrl:"%%REFERRER_URL_ESC_ESC%%",x:this._width,y:this._height,vp_contentFeedId:this._playlistId,subId:this._config.site.id,playerApiId:this.API_ID});t.async=!0,t.defer=!0,t.type="text/javascript",t.src=`https://live.primis.tech/live/liveView.php?${i}`,"desktop"===this._device?this._desktopSetup(e,t):this._mobileSetup(e,t)}_desktopSetup(e,t){if(this._hasTitle){const t=document.createElement("h4");t.innerText=this._portalSettings.title,t.classList.add("widgettitle"),t.id="adthrive-sekindo-desktop-title",e.appendChild(t)}e.appendChild(t),this._clsContainer?this._clsContainer.appendChild(e):this._pageElement.insertAdjacentElement(this._portalSettings.position,e)}_mobileSetup(e,t){if(this._hasTitle){const t=document.createElement("strong");t.innerText=this._portalSettings.title,t.id="adthrive-sekindo-mobile-title",e.appendChild(t)}e.appendChild(t);const i=document.createElement("div");i.className="adthrive-sekindo-mobile-center",i.id="adthrive-sekindo-mobile-wrapper",i.appendChild(e),this._clsContainer?this._clsContainer.appendChild(i):this._pageElement.insertAdjacentElement(this._portalSettings.position,i)}};_a=I([rt("SekindoPlayer"),O("design:paramtypes",[String,Object,HTMLElement,String,Number,Number,Boolean,Ts,qr])],_a);let ma=class extends wt{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this.storagePrefix="se",this._choices=[],this._result=!1,this.key=Re.StickyOutstreamOnStickyPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&Si(s)&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Tt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ma.prototype,"run",null),ma=I([rt("StickyOutstreamOnStickyPlayerPagesSiteExperiment"),A(),M(3,T("AdThrive")),O("design:paramtypes",[kt,_t,Rt,Object])],ma);let ya=class extends yt{constructor(e,t){super(),this._result=!1,this.key="sospp",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ya.prototype,"run",null),ya=I([rt("StickyOutstreamOnStickyPlayerPagesExperiment"),A(),O("design:paramtypes",[gt,Ft])],ya);class fa extends Os{constructor(e,t,i){super(),this._videoConfig=e,this._component=i,this._stickyRelatedOnPage=!1,this._contextualMediaIds=[];const s=this._videoConfig.players||[];this._device=we()?"desktop":"mobile",this._potentialPlayerMap=this._setPotentialPlayerMap(t);const n=s.filter((e=>"stationaryRelated"===e.type&&e.enabled));this._potentialPlayerMap.stationaryRelated=n}_setPotentialPlayerMap(e){const t=this._videoConfig.players,i={stickyRelated:[],stickyPlaylist:[],sekindo:[],stationaryRelated:[]};return t&&t.length?t.filter((e=>{var t;return null===(t=e.devices)||void 0===t?void 0:t.includes(this._device)})).reduce(((t,i)=>(t[i.type]||(D.event(this._component,"constructor","Unknown Video Player Type detected",i.type),t[i.type]=[]),i.enabled&&(e&&"sekindo"===i.type||t[i.type].push(i)),t)),i):i}_checkPlayerSelectorOnPage(e){const t=this._potentialPlayerMap[e].map((e=>({player:e,playerElement:this._getPlacementElement(e)})));return t.length?t[0]:{player:null,playerElement:null}}_getOverrideElement(e,t,i){if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}else{const{player:e,playerElement:t}=this._checkPlayerSelectorOnPage("stickyPlaylist");if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}}return i}_shouldOverrideElement(e){const t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.contextualSettings&&this._videoConfig.contextualSettings.overrideEmbedLocation}_getPlacementElement(e){const t=et(e.pageSelector),i=Ze(e.elementSelector);return t.valid?e.pageSelector&&!t.elements.length?(D.event("VideoUtils","getPlacementElement",new Error(`PSNF: ${e.pageSelector} does not exist on the page`)),null):i.valid?i.elements.length>e.skip?i.elements[e.skip]:(D.event("VideoUtils","getPlacementElement",new Error(`ESNF: ${e.elementSelector} does not exist on the page`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.elementSelector} is not a valid selector`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.pageSelector} is not a valid selector`)),null)}_getEmbeddedPlayerType(e){let t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t}_getUnusedMediaId(e){const t=e.getAttribute("data-video-id");return!(!t||this._contextualMediaIds.includes(t))&&(this._contextualMediaIds.push(t),t)}_createRelatedPlayer(e,t,i){"collapse"===t?this._createCollapsePlayer(e,i):"static"===t&&this._createStaticPlayer(e,i)}_createCollapsePlayer(e,t){const{player:i,playerElement:s}=this._checkPlayerSelectorOnPage("stickyRelated"),n=i||this._potentialPlayerMap.stationaryRelated[0];if(n&&n.playerId){this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,s,t)),t=document.querySelector(`#cls-video-container-${e} > div`)||t,this._createStickyRelatedPlayer({...n,mediaId:e},t)}else D.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(e,t){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){const i=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer({...i,mediaId:e},t)}else D.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return!(!this._isVideoAllowedOnPage()||!(this._potentialPlayerMap.stickyRelated.length||this._potentialPlayerMap.stickyPlaylist.length||this._potentialPlayerMap.sekindo.length))}_determineAutoplayPlayers(){const e=this._component,t="VideoManagerComponent"===e,i=this._config;if(this._stickyRelatedOnPage)return void D.event(e,"stickyRelatedOnPage",t&&{device:i&&i.context.device,isDesktop:this._device}||{});const{player:s,playerElement:n}=this._checkPlayerSelectorOnPage("stickyPlaylist"),{player:r,playerElement:o}=this._checkPlayerSelectorOnPage("sekindo");s&&s.playerId&&s.playlistId&&n?this._createPlaylistPlayer(s,n):r&&r.playlistId&&o?this._createSekindoPlayer(r,o):D.event(e,"noStickyPlaylistOrSekindo",t&&{vendor:"none",device:i&&i.context.device,isDesktop:this._device}||{})}_initializeRelatedPlayers(e){for(let t=0;t<e.length;t++){const i=e[t],s=this._getEmbeddedPlayerType(i),n=this._getUnusedMediaId(i);n&&this._createRelatedPlayer(n,s,i)}}}let va=class extends yt{constructor(e){super(),this.abgroup=e,this.key="sekho",this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.shouldUseCoreExperimentsConfig=!1;const t=window,i=t&&t.adthriveCLS,s=i&&i.experiments,n=s&&this.key in s;this._result=s&&n?s[this.key]:this.run(),this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new Tt(.05).get()}};va=I([P(),rt("SekindoHoldoutExperiment"),O("design:paramtypes",[gt])],va);let ba=class{constructor(e,t,i,s,n,r,o){this._abgroup=e,this._config=t,this._gam=i,this._irisTv=s,this._floors=n,this._videoEventBus=r,this._slotEventBus=o,this._apstagSlotBids=new Map,this._prebidSlotTargetingMap=new Map,this.shouldPrebidRun=!1,this._videoEventBus.addAPStagSlotBidResponse.on((({playlistId:e,bid:t})=>this._addAPStagSlotBidResponse(e,t))),this._slotEventBus.addPrebidSlotTargeting.on((({adUnitCode:e,slotTargeting:t})=>this._addPrebidSlotTargeting(e,t)))}_addAPStagSlotBidResponse(e,t){this._apstagSlotBids.set(e,t)}_addPrebidSlotTargeting(e,t){this._prebidSlotTargetingMap.set(e,t)}getVideoTargeting(e,t){const i=this._irisTv.irisContextualData,s={},n="rvadv_ab1";if(Object.keys(t).forEach((e=>{const i=this._abgroup.get(n);"abgroup"===e&&i&&t[e].push(`rvadv_ab1:${i}`),s[e]=encodeURIComponent(t[e].toString())})),s.vprenum=String(e._prerollNum),s.jwv=e.jwVersion||"",s.imav=e.imaVersion||"",i){s["iris_context"]=i.toString()}return s}_getVideoBid(e){const t=this._apstagSlotBids.get(e);if(t)return this._apstagSlotBids.delete(e),t}getAmazonBidTargeting(e){const t=this._getVideoBid(e);if(t)return{amznbid:t.amznbid,amzniid:t.amzniid,amznp:t.amznp}}getPrebidNoBidTargeting(e){const t=this.getPrebidSlotTargeting(e);if(!Object.keys(t).length)return{hb_bidder:"noBid"}}getPrebidSlotTargeting(e){return this._prebidSlotTargetingMap.get(e)||{}}convertFlagSlotValues(e){return Object.keys(e).reduce(((t,i)=>(t.push(`${i}%3A${e[i]}`),t)),[]).join(",")}getCustParams(e){const t=this._gam.getTargetingMap(),i=this._floors.getVideoFlagSlot(e.name),s=this.getAmazonBidTargeting(e._playlistId);return{...i&&{flag_slot:this.convertFlagSlotValues(i)},...this.getVideoTargeting(e,t),...this.getPrebidNoBidTargeting(e.name),...s}}handleGdprConsent(){const e={gdpr:1,gdpr_consent:"tcunavailable"};return"function"==typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,(t=>{t&&t.tcString.length&&(e.gdpr_consent=t.tcString),t&&t.addtlConsent.length&&(e.addtl_consent=t.addtl_consent)})),e}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(e){return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${e.name}/${this._config.site.id}`,sz:e.size.join("x"),hl:"en",output:"vast",url:"__referrer__",vad_type:"linear",description_url:"__domain__",pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript"}}buildGAMVideoUrl(e){const t=this.getConsentParams(),i=Es.createQueryString(this.getCustParams(e)),s=Es.createEncodedQueryString({cust_params:i}),n=this.getDefaultVideoUrlParams(e),r={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...n,...t};return`https://securepubads.g.doubleclick.net/gampad/ads?${Es.createQueryString(r)}&${s}`}buildGAMVideoUrlPrebid(e){const t=e.videoAdUnit||{},i=this.getCustParams(e),s=this.getDefaultVideoUrlParams(e);return pbjs.adServers.dfp.buildVideoUrl({adUnit:t,params:{...s,cust_params:i}})}buildVideoUrl(e){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(e):this.buildGAMVideoUrl(e)}};ba=I([rt("VideoUrlBuilder"),A(),O("design:paramtypes",[gt,Ts,Vs,Vn,qs,Ct,St])],ba);let Sa=class extends fa{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m){super(e.video,c.result,"VideoManagerComponent"),this._config=e,this._bootstrapConfig=t,this._prebidMethods=i,this._auctionManagers=s,this._jwBoostExperiment=n,this._userPageDataLoggingEvent=r,this._collapsibleVideoLoggingStore=o,this._videoRequestManager=a,this._eventProxy=l,this._mediaType=d,this._sekindoHoldoutExperiment=c,this._stickyOutstreamOnStickyPlayerPagesExperiment=h,this._stickyOutstreamOnStickyPlayerPagesSiteExperiment=p,this._videoUrlBuilder=u,this._irisTv=g,this._gdprEnforcementComponent=_,this._events=m,this._sekindoPlayers=[],this._jwPlayers=[],this._IN_POST_SELECTOR=".adthrive-video-player"}init(){this._handleCollapsibleVideoLogging(),this._initializePlayers(),this._mediaType.runOneStreamExperiment()}_initializePlayers(){const e=document.querySelectorAll(this._IN_POST_SELECTOR);if(e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}else try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}_createStationaryRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ae.Video_In_Post_ClicktoPlay_SoundOn,n=new ua(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods,this._auctionManagers);this._jwPlayers.push(n)}_createStickyRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ae.Video_Individual_Autoplay_SOff,n=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=s,this._stickyRelatedOnPage=!0,this._config.video.mobileStickyPlayerOnPage="mobile"===this._device;const r=new ua(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!0,n,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector);this._jwPlayers.push(r)}_createSekindoPlayer(e,t){const i=e.playlistId,s="mobile"===this._device?{width:340,height:260}:{width:320,height:250},n={...e,classNames:[]};this._sekindoPlayers.push(new _a(i,n,t,this._device,s.width,s.height,!1,this._config,this._videoRequestManager))}_createPlaylistPlayer(e,t){const i=e.playerId,s=e.playlistId,n=this._getCollapseType(),r="adthrive-collapse-mobile"===n?[400,225]:[640,360],o="mobile"===this._device?Ae.Video_Coll_SOff_Smartphone:Ae.Video_Collapse_Autoplay_SoundOff,a={classNames:[],enabled:!0,pageSelector:e.pageSelector,elementSelector:e.elementSelector,position:e.position,skip:e.skip};this._config.video.mobileStickyPlayerOnPage=!0;const l=new ga(i,s,o,r,a,t,this._eventProxy,this._config,n,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector,e.saveVideoCloseState,e.title,e.shuffle);this._collapsibleVideoLoggingStore.playerName=o,this._jwPlayers.push(l)}_initJwBoost(){this._prebidMethods.setConfig({...this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}}})}_hasViewableCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible&&Es.playerViewable(e._pageElement)))}_hasCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible))}_hasViewableAutoplayStationaryPlayer(e){return!!e.length&&e.some((e=>!e.collapsible&&Es.playerViewable(e._pageElement)))}_setPlayerInstance(e){this._resetPlayer(e)}_resetPlayer(e){e.init()}async _initializePlayer(e,t){const i=this._videoRequestManager;e.setDefaults(window.jwplayer.defaults),window.jwplayer.defaults={},await this._bootstrapConfig.bootstrapLoaders[xe.Prebid].then((()=>{this._videoUrlBuilder.shouldPrebidRun=!0})).catch((()=>{})),t&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]),i.addVideoSlots([e]),e.setPlayerInstance=this._setPlayerInstance.bind(this),e.requestVideoBids=async e=>await i.requestVideoBids(e),e.waitForConsent=this.gdprConsentWait.bind(this),Vs.pushToQueue((()=>{e.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder),e.addToPage(),e.init()}))}async gdprConsentWait(){return new Promise((e=>{this._events.consentCaptured.on((t=>{t&&e(!0)}))}))}_importScripts(){this._config.video.preventStickyOutstream=this._preventStickyOutstream(),this._initJwBoost(),this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0),this._jwPlayers.forEach((e=>{const t="contextual"===e.isPlayerType;t&&this._config.video.setupAdvanceRelatedExperiment(e.collapsible),he(`https://content.jwplatform.com/libraries/${e._playerId}.js`).then((async()=>this._initializePlayer(e,t))).catch((e=>D.error("VideoManagerComponent","importScripts",e)))})),this._sekindoPlayers.forEach((e=>{e.addToPage()}))}_preventStickyOutstream(){const e=this._hasViewableCollapsiblePlayer(this._jwPlayers),t=!e&&this._hasViewableAutoplayStationaryPlayer(this._jwPlayers),i=this._disableStickyOutstreamInPresenceOfCollapsiblePlayer();return e||t||i||!!this._sekindoPlayers.length}_disableStickyOutstreamInPresenceOfCollapsiblePlayer(){return!!this._hasCollapsiblePlayer(this._jwPlayers)&&(!this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.result&&(!this._stickyOutstreamOnStickyPlayerPagesExperiment.result||!1===this._config.video.stickyOutstreamSettings.allowForPageWithStickyPlayer.enabled))}_isVideoAllowedOnPage(){return!this._config.disableAds.video||(this._config.disableAds.reasons.has("video_tag")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video plugin")):this._config.disableAds.reasons.has("video_page")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via command queue")):D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via other")),!1)}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){zo.collapseEvent.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=Ve()})),zo.uncollapseEvent.on((()=>{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?Ve()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0,this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0})),zo.closeEvent.on((()=>{this._collapsibleVideoLoggingStore.wasClosed=!0})),zo.startEvent.once((()=>{this._collapsibleVideoLoggingStore.wasStarted=!0})),this._userPageDataLoggingEvent.loggingData.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime&&(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=Ve()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};Sa=I([rt("VideoManagerComponent"),P(),O("design:paramtypes",[Ts,Ut,Bs,ur,js,rs,mr,qr,to,on,va,ya,ma,ba,Vn,Ks,Mt])],Sa);let Ca=class extends Os{constructor(e,t){super(),this._bootstrapConfig=e,this._pageManager=t,this._maxTimeOnPage=36e5,this._webVitals=[],this._webVitalsSent=!1,this._visibilityChangeOff=this._pageManager.visibilityChange.on((()=>this.logWebVitals()))}init(){Y().then((()=>{const e=window.webVitals,t=this.addWebVital;e.getFID(t),e.getCLS(t),e.getLCP(t),e.getFCP(t),e.getTTFB(t)})).catch((()=>!1)),window.addEventListener("LogWebVital",(e=>{this._webVitals.push(e.detail)})),setTimeout((()=>{this.logWebVitals()}),this._maxTimeOnPage)}addWebVital({name:e,delta:t,value:i,id:s}){const n=new CustomEvent("LogWebVital",{detail:{name:e,delta:t,value:i,id:s}});window.dispatchEvent(n)}logWebVitals(){if(this._webVitalsSent)return;const e={webVitals:this._webVitals,gptLoad:!0};this._webVitalsSent=!0,this._visibilityChangeOff(),this._bootstrapConfig.gptLibFailed&&(e.gptLoad=!1),D.fetchEvent("WebVitalsComponent","logWebVital",e)}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};Ca=I([rt("WebVitalsComponent"),P(),O("design:paramtypes",[Ut,pi])],Ca);let wa=class extends yt{constructor(e,t){super(),this._result=!1,this.key="logcls",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Tt(this.weight).get()}};wa=I([rt("LayoutShiftExperiment"),A(),O("design:paramtypes",[gt,Ft])],wa);let Ea=class extends Os{constructor(e,t,i,s,n,r){super(),this._gam=e,this._slotManager=t,this._slots=i,this._videoRequestManager=s,this._layoutShiftExperiment=n,this._pageManager=r,this._events=[],this._maxTimeOnPage=36e5,this._screenHeightsWithin=5,this._previousSiblings=3,this._layoutShiftData=[],this._slotResize={},this._loggedInitialLoadShift=!1,this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.includes("layout-shift")}watchSlotShift(){this.setPerformanceObserver(),this.setResizeEvents(),this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver((e=>{this.analyzeEntries(e.getEntries())})),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(e){D.error("LayoutShiftComponent","SetPerformanceObserver",e)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingSekindoBids.on((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))),this._events.push(this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))}))),this._events.push(this._gam.slotRequested.on((({slot:e})=>{this.setResizeObservers(e.element.id,e.element)}))),this._slotManager.refreshing.once((()=>{this.logLayoutShift()}))}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on((()=>this.logLayoutShift()))),this._events.push(this._pageManager.visibilityChange.on((()=>this.logLayoutShift()))),setTimeout((()=>{this.logLayoutShift()}),this._maxTimeOnPage)}setResizeObservers(e,t){this._slotResize[e]||(this._slotResize[e]={hasResized:!1,resizeObserver:new ResizeObserver((t=>{t.forEach((()=>{this._slotResize[e].hasResized=!0,this._slotResize[e].ro_ts=Date.now(),this._slotResize[e].resizeObserver.disconnect()}))}))},this._slotResize[e].resizeObserver.observe(t))}analyzeEntries(e){const t=Date.now();for(const i of e){const{value:e,sources:s,hadRecentInput:n}=i;if(!n){const i={value:e,po_ts:t,nodes:[]};for(const e of s)if(e.node){const t=this.getIdentifier(e.node),s=t.split(":")[1];i.nodes.push({identifier:t,posDiff:e.currentRect.top-e.previousRect.top,absPos:window.pageYOffset+Number(e.currentRect.top),prevEls:this.getPreviousSibling(e.node,this._previousSiblings),parent:this.getIdentifier(e.node.parentNode),hasResized:this.checkResizes(e.node),...this._slotResize[s]&&this._slotResize[s].ro_ts&&{ro_ts:this._slotResize[s].ro_ts}})}this._layoutShiftData.push(i)}}}getIdentifier(e){return e.id?`id:${e.id}`:e.classList&&e.classList.value?`class:${e.classList.value.split(" ").join(".")}`:`node:${e.nodeName.toLowerCase()}`}getPreviousSibling(e,t=3){let i=e.previousElementSibling,s=0;const n=[];for(;i&&s<t;)++s,n.push(this.getIdentifier(i)),i=i.previousElementSibling;return n}checkResizes(e){const t=this.getIdentifier(e).split(":")[1];return!(!this._slotResize[t]||!this._slotResize[t].hasResized)&&(this.checkIsSticky(t)||this.checkElementPlacement(e))}checkIsSticky(e){const t=this._slots.get(e);return t&&t.isSticky}checkElementPlacement(e){return((e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)||(e=>window.pageYOffset>e.getBoundingClientRect().top+window.pageYOffset)(e))&&((e,t)=>window.pageYOffset-(e.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*t)(e,this._screenHeightsWithin)}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach((e=>{D.event("LayoutShiftComponent","logLayoutShift",e)})),this.cleanUp())}checkAndTrim(e=[]){if(!e.length)return[];const t=[...e].sort(((e,t)=>t.value-e.value)),i=JSON.stringify(t);if(i.length>this._maxPayloadSize){if(Math.ceil(i.length/this._maxPayloadSize)<=2)return[t.slice(0,Math.ceil(t.length/2)),t.slice(Math.ceil(t.length/2))];{const e=this._maxPayloadSize/i.length*(Math.ceil(i.length/this._maxPayloadSize)/2),s=t.slice();return s.length=Math.floor(t.length*e),this.checkAndTrim(s)}}return[t]}cleanUp(){this.disconnectObservers(),this.removeEventListeners()}removeEventListeners(){this._events.forEach((e=>{e()}))}disconnectObservers(){this._layoutObserver.disconnect();const e=Object.keys(this._slotResize);for(const t of e)this._slotResize[t].resizeObserver.disconnect()}};Ea=I([rt("LayoutShiftComponent"),P(),O("design:paramtypes",[Vs,_r,As,qr,wa,pi])],Ea);let ka=class{constructor(){this.contentAdded=new R}};ka=I([rt("InfiniteScrollEvents"),A()],ka);let xa=class extends Os{constructor(e,t){super(),this._config=e,this._events=t,this._ajaxSelector="#ajax-load-more",this._heightThreshold=1e3,this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();const e=new MutationObserver(((e,t)=>{e.filter((({type:e,addedNodes:t})=>"childList"===e&&t.length>0)).reduce(((e,{addedNodes:t})=>[...e,...Array.prototype.slice.call(t)]),[]).filter((e=>e instanceof HTMLElement&&e.clientHeight>this._heightThreshold)).forEach((e=>{e.parentElement&&(t.disconnect(),t.observe(e.parentElement,{childList:!0}),this._infiniteScrollElement&&t.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}));try{this._events.contentAdded.emit(e)}catch(e){D.error("InfiniteScrollDetectionComponent","addMutationObserver","added",e)}}))}));this._infiniteScrollElement?e.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter((e=>e instanceof HTMLElement&&e.offsetHeight>this._heightThreshold)).forEach((t=>{e.observe(t,{childList:!0})}))}checkForCustomConfig(){const{heightThreshold:e,selector:t}=this._config.adOptions.infiniteScrollOptions,i=t?document.querySelector(t):null;if(i)this._infiniteScrollElement=i;else{const e=document.querySelector(this._ajaxSelector);e&&(this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=e)}e&&e>0&&(this._heightThreshold=e)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};xa=I([rt("InfiniteScrollDetectionComponent"),P(),O("design:paramtypes",[Ts,ka])],xa);let Ta=class extends Vr{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t,this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Ta=I([rt("InfiniteScrollDynamicAdsInjector"),P(),O("design:paramtypes",[Ts,Lr])],Ta);let Pa=class extends Os{constructor(e,t,i,s,n){super(),this._config=e,this._events=t,this._injector=i,this._slotManager=s,this._gam=n,this._page=1}init(){this._events.contentAdded.on((e=>{this._page++,this._config.context.pageviewKey=pt(),this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey}),this.slotsAlreadyInjectedInElement(e)||this.addSlots(e)})),this._slotManager.added.on((e=>e.forEach((e=>{Vs.pushToQueue((()=>{e.setTargeting({key:"inf_scroll",value:this._page.toString()})}))}))))}slotsAlreadyInjectedInElement(e){return!!e.querySelector("[id*='AdThrive_Content']")}addSlots(e){const t=this._config.dynamicAds.filter((e=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===e.location))).filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((e=>this.forPage(e))),i=this._injector.inject(t,e);this._slotManager.add(i).catch((e=>{D.error("InfiniteScrollDynamicAdsComponent","addSlots",e)}))}get enabled(){return this._config.adOptions.infiniteScroll}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};Pa=I([rt("InfiniteScrollDynamicAdsComponent"),P(),O("design:paramtypes",[Ts,ka,Ta,_r,Vs])],Pa);let Aa=class extends Os{constructor(e,t,i,s){super(),this._config=e,this._events=t,this._slotManager=i,this._slots=s,this._debounce=new z(1e3)}start(){this._observer=this.getIntersectionObserver(),this._events.contentAdded.on((e=>{this._observer&&this._observer.observe(e)}))}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e)t.intersectionRatio>0&&t.isIntersecting&&this._debounce.limit(t.target.id).then((()=>this.refresh())).catch((e=>{D.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",e)}))}),{threshold:[.08]})}refresh(){if(this._config.adOptions.infiniteScrollRefresh){const e=this._slots.get().filter((e=>this._config.infiniteScroll.refreshSlots.has(e.location)&&e.isSticky));this._slotManager.refresh(e).catch((e=>{D.error("InfiniteScrollRefreshComponent","refresh",e)}))}}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};Aa=I([rt("InfiniteScrollRefreshComponent"),P(),O("design:paramtypes",[Ts,ka,_r,As])],Aa);let Ia=class extends Os{constructor(e){super(),this._googleAdManager=e}init(){this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e)}))}slotResponseReceived(e){e.alwaysInView="Footer"===e.location||"Video_StickyOutstream"===e.location}};Ia=I([rt("AlwaysInViewComponent"),P(),O("design:paramtypes",[Vs])],Ia);let Ma=class extends Os{constructor(e){super(),this._slotManager=e;window.addEventListener("message",(e=>{e&&e.data&&"set_adthrive_slot_timeout"===e.data.message&&e.data.slot_id&&e.data.refresh_interval>=0&&this._slotManager.updateRefreshTimeout(e.data.slot_id,e.data.refresh_interval)}),!1)}};Ma=I([rt("ChangeSlotRefreshComponent"),P(),O("design:paramtypes",[_r])],Ma);let Oa=class extends Os{constructor(e,t,i){super(),this._slotManager=e,this._slots=t,this._pageManager=i}init(){this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged()))}documentVisibilityChanged(){const e=document.visibilityState,t=this._slots.get();"visible"===e?this._slotManager.resumeRefresh(t):"hidden"===e&&this._slotManager.pauseRefresh(t)}};Oa=I([rt("DocumentHiddenPauseRefreshComponent"),P(),O("design:paramtypes",[_r,As,pi])],Oa);let za=class extends Os{constructor(e,t){super(),this._googleAdManager=e,this._slotManager=t,this._inViewPercentage=50}init(){this._googleAdManager.impressionViewable.on((({slot:e})=>{this.processImpressionViewable(e)})),this._googleAdManager.slotVisibilityChanged.on((({slot:e,event:t})=>{this.processVisibilityChanged(e,t)}))}processImpressionViewable(e){e.outOfViewGPT=!1,this._slotManager.inView(e)}processVisibilityChanged(e,t){this.check(e,t.inViewPercentage)}check(e,t){t&&t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewGPT=!1,this._slotManager.inView(e)):(e.outOfViewGPT=!0,this._slotManager.outOfView(e))}};za=I([rt("ImpressionViewableRefreshComponent"),P(),O("design:paramtypes",[Vs,_r])],za);let Ra=class extends Os{constructor(e,t,i){super(),this._googleAdManager=e,this._slotManager=t,this._slots=i,this._inViewPercentage=50,this._trackSlotEvents=new Map}init(){this._observer=this.getIntersectionObserver(),this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e),this._trackSlotEvents.set(e.id,"slotResponseReceived")})),this._googleAdManager.slotRenderEnded.on((({slot:e})=>{this.slotResponseReceived(e),this._trackSlotEvents.delete(e.id)})),this._googleAdManager.slotRequested.on((({slot:e})=>{this._trackSlotEvents.set(e.id,"slotRequested")})),this._slotManager.refreshing.on((e=>{for(const t of e)this._trackSlotEvents.get(t.id)&&(this._slotManager.rebuild(t),this._trackSlotEvents.delete(t.id));this.refreshing(e)}))}get enabled(){return"IntersectionObserver"in window}slotResponseReceived(e){this._observer&&e.element&&this._observer.observe(e.element)}refreshing(e){if(this._observer)for(const t of e)t.element&&this._observer.unobserve(t.element)}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this.check(e,100*t.intersectionRatio)}}),{threshold:[0,this._inViewPercentage/100]})}check(e,t){t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewIO=!1,this._slotManager.inView(e)):(e.outOfViewIO=!0,this._slotManager.outOfView(e))}};Ra=I([rt("IntersectionObserverRefreshComponent"),P(),O("design:paramtypes",[Vs,_r,As])],Ra);let Ba=class extends Os{constructor(e,t){super(),this._config=e,this._gdprEvents=t,this._comscoreId="20567959",this._gdprEnabled=!1,this._gdprEnabled=this._config.gdpr.enabled}init(){const e=this._config.ccpa.comscoreParams||"0",t={c1:"2",c2:this._comscoreId,...(this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:e}};window._comscore=window._comscore||[],window._comscore.push(t);const i="https://sb.scorecardresearch.com";if(!this._gdprEnabled)return he(`${i}/beacon.js`);this._gdprEvents.consentCaptured.on((()=>{he(`${i}/cs/${this._comscoreId}/beacon.js`).catch((()=>{}))}))}get enabled(){return!0}};Ba=I([rt("ComscoreTrackerComponent"),P(),O("design:paramtypes",[Ts,Mt])],Ba);let Da=class extends Os{constructor(e,t){super(),this._gam=e,this._config=t,this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.legacyOnce().then((()=>this.import())).then((()=>this.syncData())).catch((e=>D.error("HawkeyeTrackerComponent","init","slotOnload",e)))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await he("https://pghub.io/js/pandg-sdk.js",!0)}syncData(){const e={ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"};window.Tapad.init(e,{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then((e=>{}))}};Da=I([rt("HawkeyeTrackerComponent"),P(),O("design:paramtypes",[Vs,Ts])],Da);let Va=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t,this._trackerHoldoutKey="ats"}init(){try{this._gam.slotOnload.once((()=>{this.import()}))}catch(e){D.error("LiveRampAtsTrackerComponent","init",e)}}get enabled(){return this._config.liveRampAts.enabled&&!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}import(){he(this._config.liveRampAts._url).then((()=>window.ats.start(this._config.liveRampAts._config))).catch((()=>{}))}};Va=I([rt("LiveRampAtsTrackerComponent"),P(),O("design:paramtypes",[Ts,Vs])],Va);let La=class extends Os{constructor(e,t){super(),this._config=e,this._gam=t,this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f",this.pubid="CAFEMEDIA",this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){window.localStorage.getItem(`${this.merkleStorageKey}`)?this.spoof():this._gam.slotOnload.once((()=>{this.load().then((e=>{e instanceof Error||!Object.keys(e).length||(window.localStorage.setItem(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(e))),this.spoof())})).catch((()=>{}))}))}async load(){const e=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise(((t,i)=>{const s=new XMLHttpRequest;s.open("get",e),s.withCredentials=!0,s.addEventListener("load",(()=>200!==s.status?i(new Error(`Error status: ${s.status} response: ${s.responseText}`)):t(JSON.parse(s.responseText)))),s.addEventListener("error",(()=>i(new Error("Request failed")))),s.send()}))}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var e;const t=JSON.parse(decodeURIComponent(window.localStorage.getItem("pbjs-unifiedid")||"")),i=JSON.parse(decodeURIComponent(window.localStorage.getItem(`${this.merkleStorageKey}`)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",uids:Object.keys(t).map((e=>({id:t[e],ext:{rtiPartner:e}})))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(e=null==i?void 0:i.ppid)||void 0===e?void 0:e.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){return!this._config.gdpr.enabled&&!this._config.ccpa.enabled}};La=I([rt("MerkleTrackerComponent"),P(),O("design:paramtypes",[Ts,Vs])],La);let Fa=class extends yt{constructor(e){super(),this._result=!1,this.key="NielsenTrackerExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=1/300;const t=e.getCoreExperiment(this.key);H()&&t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Tt(this.weight).get()}};Fa=I([rt("NielsenTrackerExperiment"),P(),O("design:paramtypes",[Ft])],Fa);let Na=class extends Os{constructor(e,t,i){super(),this._config=e,this._nielsenTrackerExperiment=t,this._gam=i}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("NielsenTrackerComponent","init",e)}}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){const e=this._config.context.device;let t="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia";let i={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[e];const s={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},n=de();n&&(n.toLowerCase().includes("instagram.com")||n.toLowerCase().includes("pinterest.com"))&&(i=s[e]),t+=`&ci=nlsnci542&ca=${i}&pc=${window.location.host}&r=${Date.now()}`,(new Image).src=`${t}`}};Na=I([rt("NielsenTrackerComponent"),P(),O("design:paramtypes",[Ts,Fa,Vs])],Na);let ja=class extends Os{constructor(e,t,i){var s;super(),this._config=e,this._gam=t,this._slotManager=i,this._accountId="2773249",this._adId="81938",this._configId="2092",this._affDomain="goto.target.com",this._targetDomain="www.target.com",this._commonParams="",this._commonPath="",this._trackerHoldoutKey="tgtaff",this._commonParams=(s={subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name},Object.keys(s).map((e=>`${e}=${encodeURIComponent(s[e])}`)).join("&")),this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){try{const e=setTimeout((()=>{this.rewriteAllTargetLinksOnPage()}),5e3);this._slotManager.added.once((()=>{this._gam.slotOnload.once((()=>{e&&clearTimeout(e),this.rewriteAllTargetLinksOnPage()}))}))}catch(e){D.error("TargetRewriteTrackerComponent","getAllTargetLinksOnPage",e)}}rewriteAllTargetLinksOnPage(){let e=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),(e=>e)).filter((e=>this.isTargetLink(e))).forEach((t=>{this.fireImpression(t.href),this.replaceTargetLink(t),e++})),e&&D.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:e})}fireImpression(e){const t=this.getImpressionPixel(e);return(new Image).src=t}getImpressionPixel(e){let t=`https://${this._affDomain}/i/${this._commonPath}?`;const i=`U1|${this.getUUID()}`;t+=`_ir=${encodeURIComponent(i)}&`+this._commonParams+"&subid3="+encodeURIComponent(e);const s=e.split("?");return s.length>1&&(t+="&"+s[1]),t}getUUID(){return`${Ge().toString()}.${Math.random().toString(36).substring(2,15)}`}replaceTargetLink(e){const t=this.removeHashtagsFromUrl(e.href),i=encodeURIComponent(t);e.classList.add("noskimlinks","norewrite"),e.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${i}&u=${i}#donotlink`}removeHashtagsFromUrl(e){return e.split("#")[0]}isTargetLink(e){const t=this.extractDomain(e.href);return t&&!t.includes(this._affDomain)}extractDomain(e){const t=/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(e);return t&&t[1]||""}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};ja=I([P(),O("design:paramtypes",[Ts,Vs,_r])],ja);let Ua=class extends Os{constructor(e){super(),this._gam=e}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("TheTradeDeskTrackerComponent","init",e)}}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};Ua=I([rt("TheTradeDeskTrackerComponent"),P(),O("design:paramtypes",[Vs])],Ua);let qa=class extends Os{constructor(e){super(),this._slotSizeMap=new Map,this._gamSlotOnLoad=e.slotOnload}start(){this._setupListeners()}_setupListeners(){this._gamSlotOnLoad.on((({slot:e})=>{"Content"===e.location&&this._compareSlot(e)}))}_compareSlot(e){const t=this._slotSizeMap.get(e.id),i=getComputedStyle(e.element).height,s=Number(i.slice(0,-2));(!t||t<s)&&(this._resize(e.element,i),this._setSlotSizeMap(e.element.id,s))}_resize(e,t){e.style.minHeight=t}_setSlotSizeMap(e,t){this._slotSizeMap.set(e,t)}};qa=I([P(),rt("SlotResizeComponent"),O("design:paramtypes",[Vs])],qa);let Ha=class extends yt{constructor(e){super(),this.abgroup=e,this._result=!1,this.key="scae",this._choices=[{choice:!0},{choice:!1}],this.weight=0,this.shouldUseCoreOverride=!1;const t=window,i=t&&t.adthriveCLS,s=i&&i.experiments,n=s&&this.key in s;this._result=n?s[this.key]:this.run(),this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new Tt(this.weight).get()}};Ha=I([P(),rt("StickyContainerAdsExperiment"),O("design:paramtypes",[gt])],Ha);let Ga=class extends Os{constructor(e){super(),this._config=e}get enabled(){if(this._config.adOptions.stickyContentEnabled){return x.resolve(Ha).result}return!1}start(){ea('\n  .adthrive-device-phone .adthrive-sticky-content {\n    height: 450px !important;\n    margin-bottom: 100px !important;\n  }\n  .adthrive-content.adthrive-sticky {\n    position: -webkit-sticky;\n    position: sticky !important;\n    top: 42px !important;\n    margin-top: 42px !important;\n  }\n  .adthrive-content.adthrive-sticky:after {\n    content: "— Advertisement. Scroll down to continue. —";\n    font-size: 10pt;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    display:block;\n    color: #888;\n  }\n  body.single .adthrive-content {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    min-height:400px !important;\n    margin: 10px 0 10px 0;\n    background-color: #FAFAFA;\n    padding-bottom:0px;\n  }\n  body.single .adthrive-content > div {\n    flex-basis: unset;\n    position: sticky !important;\n    display: block;\n    flex-direction: column;\n    top: 5px;\n  }\n  ')}};Ga=I([rt("StickyContainerAdsComponent"),P(),O("design:paramtypes",[Ts])],Ga);let $a=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,x,T,P,A,I,M,O,z,R,B,D,V,L,F,N,j,U,q,H,G,$,W,K,Q,X,Y,J,Z){this._config=e,this._components=[t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,x,T,k,P,A,I,M,O,R,z,B,D,V,L,F,N,j,U,q,H,G,$,W,K,X,Q,Y,J,Z],this._nonCCPAComponents=[y,D,V,W,X]}init(){const e=this._config.ccpa;this._components.filter((t=>!e.enabled||e.enabled&&!this._nonCCPAComponents.includes(t))).forEach((e=>void 0!==e.init&&e.enabled&&e.init()))}start(){this._components.forEach((e=>void 0!==e.start&&e.enabled&&e.start()))}};$a=I([rt("Components"),P(),O("design:paramtypes",[Ts,Cr,wr,Ia,kr,xr,Tr,Ma,so,Pr,Ba,zr,Rr,Or,Br,Oa,Nr,io,jr,Ur,Hr,Yr,Jr,Fo,Zr,eo,Da,No,za,xa,Pa,Aa,Ra,Ea,Va,Uo,La,Na,qo,Xo,Yo,Zo,ta,qa,Vo,Ga,ja,Ua,ia,vr,na,ra,Sa,Ca])],$a);ea(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.jw-flag-small-player #next-stay-container{margin:0}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-recipe{min-width:300px}.adthrive-native-recipe{display:inline-block}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;box-sizing:content-box;left:0;margin:0;max-height:100px;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:99999}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}#_inv_voicefive___{display:none}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#b2b2b2;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}h3.adthrive-player-title{margin:10px 0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-top-collapse-wrapper-bar>* .adthrive-top-collapse-close{left:0;position:relative;top:0}.adthrive-top-collapse-wrapper-bar>* .adthrive-wrapper-float-close{display:none;float:none;margin-bottom:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-without-wrapper-text{left:50%;padding-bottom:5px;padding-top:5px;top:0;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-with-wrapper-text{padding-bottom:5px;padding-top:5px;right:5px;top:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-sekindo-mobile-center{display:flex;flex-direction:row;justify-content:center;text-align:center}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-wrapper-bar{display:none!important}.adthrive-top-collapse-wrapper-bar{color:#fff;display:none;left:5px;padding-bottom:5px;padding-top:5px;position:fixed;top:0;width:-webkit-calc(100% - 282px);width:-moz-calc(100% - 282px);width:calc(100% - 282px);z-index:99998}.adthrive-top-collapse-wrapper-video-title{-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:13px;font-weight:700;line-height:1.2;overflow:hidden;text-decoration:none;text-overflow:ellipsis}.adthrive-top-collapse-wrapper-bar a a.adthrive-learn-more-link{color:#fff;display:inline-block;font-size:13px;line-height:1.2}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-top-collapse-wrapper-bar{display:block}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-sticky-outstream{display:none;overflow:hidden;padding-top:20px;position:fixed;z-index:2147483644}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close,.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{position:absolute;top:36px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:32px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:52px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px;right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}");let Wa=class{constructor(e,t,i,s,n,r,o,a,l,d){this.config=e,this.cmd=t,this.slotManager=i,this.slots=s,this._auctionManagers=n,this._coreExperimentConfig=r,this._googleAdManager=o,this._components=a,this._googleAnalytics=l,this._siteExperimentEventBus=d,this.marmalade={mcmp:null},this.marmaladeFinished=e=>e,this.rubiconFloorsFinished=e=>e,this._apiReady=new Promise((e=>e(!1))),this.bucket=this.config.context.bucket,this.branch=this.config.context.branch,this.invalidTraffic=this.config.context.invalidTraffic,this.deployment=this.config.context.deployment,this.abgroup=this.config.abGroup.groups,this.pubab=this.config.pubAbGroup.groups,this.siteAds=window.adthrive.siteAds,this.coreExperiments=this._coreExperimentConfig.coreExperiments,this.siteAds.targeting={push:this._googleAdManager.setTargeting},this._siteExperimentEventBus.targetingReady.on((()=>{this.pubab=this.config.pubAbGroup.groups,this._googleAdManager.setTargeting({key:"pubab",value:this.pubab})}))}init(){this._apiReady=new Promise((e=>this.config.identityApi.apiReady.on((()=>e(!0))))),D.sending.on((()=>{D.data={abgroup:this.config.abGroup.groupsAsObject,pubab:this.config.pubAbGroup.groupsAsObject,sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,...this.config.context.deliveryVersion&&{lmdv:this.config.context.deliveryVersion},...this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch},...this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket}}})),re("session_fpv",null===oe("session_fpv")),this.cmd.init(),this._auctionManagers.init(),this._googleAdManager.init(),this._components.init(),this._googleAdManager.start(),this._components.start(),this._googleAnalytics.init().catch((e=>{D.error("Adthrive","init","An error occurred while trying to initialize GoogleAnalytics",e)})),window.adthriveCLS&&window.adthriveCLS.error&&D.error("AdThrive","init","Problem with AdThriveCLS SiteAds. CLS Disabled")}identityApi(e,t){return this._apiReady.then((()=>{this.config.identityApi.optIn.emit({data:e,cb:t})}))}disableAds(e){this.config.disableAds.disableAllAds(e)}disableContentAds(e){this.config.disableAds.disableContentAds(e)}disablePlaylistPlayers(e){this.config.disableAds.disablePlaylistPlayers(e)}showPrivacyPreferences(){window.__tcfapi&&window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,(e=>{}))}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(ee)}setTargetingFlag(e,t,i=!1){e&&"string"==typeof e&&t&&Array.isArray(t)&&0!==t.length&&this._googleAdManager.setTargetingFlag(e,t,i)}setTargeting(e){this._googleAdManager.setTargeting(e)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(e,t,i){D.error(e,t,i)}refreshSlots(e){let t=this.slots.get();e&&e.length&&(t=t.filter((t=>e.includes(t.id)))),t.forEach((e=>{this.slotManager.refresh(e,!1).then((()=>{this.slotManager.clearRefreshTimeout(e,!0)})).catch((()=>{}))}))}nmr(){return D.event("adthive","nmr","adthrive.nmr() has been called"),this.slotManager.updateRefreshTimeout(this.slots.get(),0)}};Wa=I([rt("AdThrive"),A(),O("design:paramtypes",[Ts,gr,_r,As,ur,Ft,Vs,$a,Rt,bt])],Wa);const Ka={domain:"ads.adthrive.com",branch:"main",bucket:"prod",cmp:!0},Qa=()=>navigator.userAgent&&(navigator.userAgent.search(/GTmetrix/i)>-1||navigator.userAgent.search(/pingdom/i)>-1||navigator.userAgent.search(/Google Page Speed Insights/i)>-1||navigator.userAgent.search(/Chrome-Lighthouse/i)>-1);let Xa=class extends yt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:500,weight:70},{choice:300,weight:10},{choice:200,weight:10},{choice:50,weight:10}],this.key="deftimer2",this._result=this.run(),this._setAbGroup&&e.set(this.key,0===this._result?"off":String(this._result))}get result(){return this._result}run(){return Qa()?(this._setAbGroup=!1,0):new Pt(this._choices).get()}};I([ot(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Xa.prototype,"run",null),Xa=I([rt("DelayLoadingExperiment"),A(),O("design:paramtypes",[gt])],Xa);let Ya=class extends yt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:!0},{choice:!1}],this.key="delload",this._result=this.run(),this._setAbGroup&&e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return Qa()?(this._setAbGroup=!1,!0):new Tt(.95).get()}};Ya=I([rt("EnableDelayLoadingExperiment"),A(),O("design:paramtypes",[gt])],Ya);let Ja=class extends yt{constructor(){super(),this.classList=["EmailCaptureHandler"],this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="logfltr",this._result=this.run()}get result(){return this._result}run(){return new Tt(0).get()}};Ja=I([rt("LoggerFilterExperiment"),A(),O("design:paramtypes",[])],Ja);let Za=class{init(e){if(!(void 0!==window.__tcfapi&&"function"==typeof window.__tcfapi))return;let t=!1;window.__tcfapi("adthrive",2,(e=>t=e)),t&&("true"===e?window.__tcfapi("setGdprApplies",2,(e=>e),!0):(this.clearQueue(),this.stubCommands()))}processTcfCommand(e){const{command:t,callback:i}=e;!i||i&&"function"!=typeof i||("ping"===t||"getTCData"===t||"addEventListener"===t?i({apiVersion:"2",cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===t&&i(!0))}clearQueue(){const e=window.__tcfapi();e&&Array.isArray(e)&&e.forEach((e=>this.processTcfCommand(e)))}stubCommands(){window.__tcfapi=(e,t,i,s)=>{this.processTcfCommand({command:e,version:t,callback:i,parameter:s})}}};Za=I([rt("StubCmp"),A()],Za);const el=x.resolve(os),tl=(e,t,i,s,n)=>{const r=Ve();return x.register("RecencyFrequencyMarmaladeResponse",{useValue:i.result}),window.adthrive=x.resolve(Wa),((e,t,i,s,n,r)=>{el.loading=e,el.bootstrapFinished=t,el.gamStarted=i.started,el.gamFinished=i.finished,el.gamDuration=i.duration,el.marmaladeStarted=s.started,el.marmaladeFinished=s.finished,el.marmaladeDuration=s.duration,el.floorsStarted=n.started,el.floorsFinished=n.finished,el.floorsDuration=n.duration,el.webVitalsStarted=r.started,el.webVitalsFinished=r.finished,el.webVitalsDuration=r.duration})(e,r,t,i,s,n),window.adthrive.init()},il=async e=>{var t;const i=Ve(),s=window.adthrive.branch,n=s===(null===(t=oe("branch"))||void 0===t?void 0:t.branch);re("branch",{branch:s,enabled:n}),D.init(e),x.register("Build",{useValue:Ka}),x.register("AdThrive",{useValue:e}),x.resolve(Ns);const r=x.resolve(ai);return await r.run().then((({gam:e,marmalade:t,floors:s,webvitals:n})=>tl(i,e,t,s,n))).catch((e=>(e=>{const t=e.marmalade,i=e.message||e;t&&Object.prototype.hasOwnProperty.call(t,"result")&&(x.register("RecencyFrequencyMarmaladeResponse",{useValue:t.result}),x.resolve(Ea).init());return x.resolve(Ca).init(),Promise.reject(i)})(e)))},sl=e=>{let t;if((!0===e.siteAds.adOptions.delayLoading?x.resolve(Ya):{result:!1}).result){const e=(e=>{const t=x.resolve(pi).setupOnceEventWithPromise,i=[t("scroll"),t("mousemove"),t("keyup")];we()||i.push(t("touchstart"));const s=[t("load").then((()=>Q(e)))];return 0===e?i:s.concat(i)})(x.resolve(Xa).result);t=Promise.race(e)}else t=Promise.resolve();return t},nl=()=>{const e=window.adthrive;window.adthriveCLS&&!window.adthriveCLS.error&&(()=>{const e=window.adthrive.siteAds,t=window.adthriveCLS,i=t&&t.siteAds;i&&it(i)&&(e.adUnits=i.adUnits,e.video=i.video,e.videoPlayers=i.videoPlayers,e.breakpoints=i.breakpoints,e.siteExperiments=i.siteExperiments)})(),x.register("CoreExperimentValues",{useValue:e.core.coreExperiments});const t=(({gdpr:e,baseUrl:t})=>"true"===e?`${t}/gdpr`:t)(e),i=(()=>{const e=[Se(),fe(),be(),ve(),Ce()].filter((e=>!!e));return e.length?e:void 0})(),s=(e=>0===e.indexOf("hbs-q"))(e.bucket),n=i||s?"unsupported":e.bucket,r=x.resolve(Ja),o=r.result?[]:r.classList,a={...e,bucket:n,baseUrl:t,invalidTraffic:i,loggerFilters:o};Ve();x.resolve(Za).init(a.gdpr),sl(a).then((()=>il(a))).then((()=>{})).catch((e=>{D.error("index","load",e)}))};return(e=>e instanceof Wa||e instanceof Promise)(window.adthrive)||nl(),window.adthrive}();
;